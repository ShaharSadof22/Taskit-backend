{"version":3,"sources":["cmps/BoardPreview.jsx","cmps/BoardList.jsx","services/httpService.js","services/boardService.js","services/socketService.js","store/actions/boardActions.js","cmps/Modal.jsx","services/cloudinaryService.js","cmps/AddImg.jsx","cmps/AddBoard.jsx","pages/BoardApp.jsx","cmps/MenuColorModal.jsx","cmps/SideBarMenu.jsx","services/asyncStorageService.js","services/userService.js","cmps/BoardInvite.jsx","cmps/BoardHeader.jsx","cmps/CardPreview.jsx","cmps/AddText.jsx","cmps/CardListMenu.jsx","cmps/CardList.jsx","cmps/Canvas.jsx","cmps/ColorModal.jsx","cmps/TodoPreview.jsx","cmps/ChecklistPreview.jsx","cmps/Checklist.jsx","cmps/ChecklistAdd.jsx","cmps/CardInvite.jsx","cmps/CardDetails.jsx","pages/BoardDetails.jsx","cmps/MembersChart.jsx","pages/GraphDetails.jsx","routes.js","pages/Home.jsx","cmps/Login.jsx","store/actions/userActions.js","cmps/Submit.jsx","cmps/NavBar.jsx","App.jsx","store/reducers/boardReducer.js","store/reducers/userReducer.js","store/store.js","index.js"],"names":["BoardPreview","board","to","_id","style","bgImg","backgroundImage","backgroundSize","backgroundRepeat","backgroundColor","bgColor","className","height","width","title","BoardList","boards","onAddBoard","dir","map","key","onClick","cursor","paddingTop","axios","Axios","create","withCredentials","endpoint","data","ajax","a","method","url","res","console","log","boardService","query","filterBy","httpService","loadBoard","boardId","removeBoard","update","getCardById","groupId","cardId","groups","find","group","id","cards","card","txt","imgUrl","makeId","description","_createBoard","addActivity","ActivityType","changeIn","user","activities","unshift","createdAt","Date","propertyTitle","byMember","removeActivities","length","possible","i","charAt","Math","floor","random","socket","setup","io","terminate","on","eventName","cb","off","emit","broadcastEmit","broadcast","updateBoard","dispatch","type","socketService","Modal","children","this","props","onClose","isForLog","ev","stopPropagation","onLoginHere","React","Component","cloudinaryService","uploadImg","dataURLtoFile","dataurl","filename","arr","split","mime","match","bstr","atob","n","u8arr","Uint8Array","charCodeAt","File","uploadCanvasImg","UPLOAD_URL","formData","FormData","append","target","files","fetch","body","json","secure_url","file","AddImg","onSelectImg","updateState","onAddimg","onAddImg","isForBoard","index","src","alt","onChange","AddBoard","state","text","handleValueChange","value","setState","onSubmit","preventDefault","saveBoard","placeholder","_BoardApp","isAddBoardShown","isImgForBoard","onShowModal","onCloseModal","onSaveBoard","addBoard","loadBoards","mapDispatchToProps","BoardApp","connect","boardReducer","MenuColorModal","onSelectColor","color","onAddColor","Element","Scroll","_SideMenu","isChooseImg","isChooseBgc","idGraphShown","onChangeBoardImg","onChangeBoardColor","isChooseColor","onBackToMenu","onToggleMenu","onChangeImg","onChangeColor","onOpenGraph","history","push","removeAllActivity","Swal","fire","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","onRemoveBoard","member","Avatar","userName","substring","toUpperCase","overflow","overflowX","paddingLeft","activity","getAvatar","SideMenuWithRouter","withRouter","SideMenu","currBoard","get","entityType","entityId","entities","entity","post","newEntity","_makeId","_save","put","updatedEntity","idx","findIndex","splice","remove","JSON","parse","localStorage","getItem","Promise","resolve","setItem","stringify","userService","login","logout","signup","getById","userId","storageService","loginAsGuest","userCred","BoardInvite","allMembers","useState","anchorEl","setAnchorEl","onSelectMember","members","filter","event","currentTarget","margin","Menu","keepMounted","open","Boolean","MenuItem","BoardHeader","isMenuShow","isInviteMembersShown","toggleMenu","menuState","handleFocusOut","onToggleInviteModal","val","marginLeft","alignSelf","onFocusOut","inputWidth","inputHeight","inputFontWeight","AvatarGroup","max","marginRight","Container","styled","div","isDragging","CardPreview","calcProgress","draggableId","provided","snapshot","draggableProps","dragHandleProps","ref","innerRef","labels","label","checklist","youtube","AddText","onAdd","onRemoveTextEditor","isAddType","SimpleMenu","onRemove","isGroupColor","onShowColorTogglle","isDeleteGroup","onShowDeleteTogglle","onAddCard","onGroupColorChange","handleClose","Button","fontWeight","aria-controls","aria-haspopup","hex","colors","triangle","isDraggingOver","_CardList","isAddCard","onRemoveGroup","isDelete","isColor","groupTitle","Array","from","todos","tasks","doneTasks","task","isDone","trim","initialValue","save","inputClass","labelClass","paddingRight","droppableId","droppableProps","CardList","Canvas","canvasRef","useRef","contextRef","isDrawing","setIsDrawing","setColor","useEffect","canvas","current","context","getContext","img","Image","onload","drawImage","crossOrigin","lineCap","strokeStyle","lineWidth","closeCanvas","addCanvasToCard","toDataURL","marginBottom","onMouseDown","nativeEvent","offsetX","offsetY","beginPath","moveTo","onMouseUp","closePath","onMouseMove","lineTo","stroke","ColorModal","onClickColor","onSaveLabels","TodoPreview","todo","onInputChange","onCheckboxChange","bool","prevState","updateCheckbox","action","onRemoveTodo","_ChecklistPreview","isTodoEditShown","newTodo","progressbar","todoId","calculateProgress","todoIdx","onUpdateChecklists","onHandleInput","updateLocalChecklist","updTodo","updtTitle","totalTodos","toFixed","labelFontSize","labelClassName","removeChecklist","htmlFor","marginTop","fontSize","display","padding","ChecklistPreview","Checklist","saveChecklist","updateLocalCard","ChecklistAdd","handleChange","addNewChecklist","CardInvite","_CardDetails","isAddImgModalShown","isDescriptionEdit","isTimeEdit","isLabelesEdit","isChecklistEdit","isAddColorModalShown","isYoutubeShown","isCanvas","onRemoveYoutube","onRmoveModal","saveCard","onHandleRemove","currUser","onRemoveCard","onRemoveImg","newBoard","cardIdx","doneEdit","onRemoveDuedate","dueDate","handleChangeDuedate","onRemoveLabel","labelIdx","indexOf","onOpenDuedate","onOpenLabelModal","openChecklistEditor","handleChangeBGColor","onOpenColorModal","onModalClick","youtubeFunc","TextField","border","multiline","rows","defaultValue","selected","showTimeSelect","dateFormat","inputClassName","CardDetails","userReducer","loggedInUser","_BoardDetails","isDetailsShown","isAddGroup","onEditGroup","newboard","groupIdx","onDragEnd","destination","source","columns","start","finish","startTaskIds","shiftedTask","newStart","finishtaskIds","newFinish","newGroups","startGroupIdx","finishGroupIdx","newState","newTaskIds","newColumn","newCards","params","updateBoardFromSocket","minHeight","BoardDetails","MembersChart","memberNumber","userToShow","num","datasetsForLine","fillColor","strokeColor","pointColor","pointStrokeColor","pointHighlightFill","pointHighlightStroke","lineData","datasets","options","scaleShowGridLines","scaleGridLineColor","scaleGridLineWidth","scaleShowHorizontalLines","scaleShowVerticalLines","bezierCurve","bezierCurveTension","pointDot","pointDotRadius","pointDotStrokeWidth","pointHitDetectionRadius","datasetStroke","datasetStrokeWidth","datasetFill","legendTemplate","styles","graphContainer","_GraphDetails","data1","data2","data3","backToBoard","hoverBackgroundColor","path","component","_Login","msg","loginCred","password","loginHandleChange","name","doLogin","userCreds","variant","autoComplete","window","location","assign","Login","_Submit","signupCred","signupHandleChange","doSignup","signupCreds","Submit","_NavBar","_isMounted","isLogged","isSignIn","isModalShow","isIn","onIsLogged","onIsSubmit","onLogOut","NavBar","App","routes","route","exact","initialState","rootReducer","combineReducers","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oRAGe,SAASA,EAAT,GAAkC,IAAVC,EAAS,EAATA,MACrC,OACE,6BAEE,kBAAC,IAAD,CAAMC,GAAE,iBAAYD,EAAME,MACxB,yBACEC,MACGH,EAAMG,OAASH,EAAMG,MAAMC,MACxB,CACAC,gBAAgB,OAAD,OAASL,EAAMG,OAASH,EAAMG,MAAMC,MAApC,KACfE,eAAgB,QAChBC,iBAAkB,aAElB,CACAC,gBAAgB,GAAD,OAAKR,EAAMG,MAAMM,QAAUT,EAAMG,MAAMM,QAAU,UAItEC,UAAU,mCAEV,wBAAIP,MAAO,CAACK,gBAAiB,uBACnCG,OAAQ,OAAQC,MAAO,SAAUZ,EAAMa,UCnBpC,SAASC,EAAT,GAA4C,IAAvBC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,WAClC,OAAO,6BAEL,yBAAKC,IAAI,MAAMP,UAAU,mBACtBK,EAAOG,KAAI,SAAAlB,GAAK,OAAI,kBAACD,EAAD,CAAcC,MAAOA,EAAOmB,IAAKnB,EAAME,SAC5D,yBAAKkB,QAASJ,EAAYb,MAAO,CAAEK,gBAAiB,OAAQa,OAAQ,WAAaX,UAAU,uBACzF,wBAAIP,MAAO,CAAEmB,WAAY,SAAzB,uB,qCCJJC,E,OAAQC,EAAMC,OAAO,CACrBC,iBAAiB,IAGN,WACPC,EAAUC,GACV,OAAOC,EAAKF,EAAU,MAAOC,IAFtB,WAIND,EAAUC,GACX,OAAOC,EAAKF,EAAU,OAAQC,IALvB,WAOPD,EAAUC,GACV,OAAOC,EAAKF,EAAU,MAAOC,IARtB,WAUJD,EAAUC,GACb,OAAOC,EAAKF,EAAU,SAAUC,I,SAIzBC,E,8EAAf,WAAoBF,GAApB,+BAAAG,EAAA,6DAA8BC,EAA9B,+BAAuC,MAAOH,EAA9C,+BAAqD,KAArD,kBAE0BL,EAAM,CACpBS,IAAI,GAAD,OA1BT,SA0BS,OAAgBL,GACnBI,SACAH,SALZ,cAEcK,EAFd,yBAOeA,EAAIL,MAPnB,sCASQM,QAAQC,IAAR,qBAA0BJ,EAA1B,yCAAiEJ,EAAjE,wBAAyFC,IACzFM,QAAQjB,IAAR,MAVR,+D,sBCvBO,IAAMmB,EAAe,CAC1BC,MAWF,SAAeC,GACb,OAAOC,EAAA,UAXPC,UAaF,SAAmBC,GACjB,OAAOF,EAAA,gBAAyBE,KAbhCC,YAkBF,SAAqBD,GACnB,OAAOF,EAAA,gBAA4BE,KAlBnCE,OAcF,SAAgB3C,GACd,OAAOuC,EAAA,gBAAyBvC,EAAME,KAAOF,IAd7C4C,YAyCF,SAAqB5C,EAAO6C,EAASC,GAEnC,OADc9C,EAAM+C,OAAOC,MAAK,SAAAC,GAAK,OAAIA,EAAMC,KAAOL,KACzCM,MAAMH,MAAK,SAAAI,GAAI,OAAIA,EAAKF,KAAOJ,MA1C5CrB,OAkBF,SAAgB4B,EAAKC,GACnB,IAAMtD,EAGR,SAAsBqD,EAAKC,GACzB,MAAO,CACLzC,MAAOwC,EACPlD,MAAO,CAAEC,MAAOkD,GAChBP,OAAQ,CAAC,CACPG,GAAI,IAAMK,IACV1C,MAAO,WACPsC,MAAO,CACL,CACED,GAAI,IAAMK,IACV1C,MAAO,WACP2C,YAAa,+BAdPC,CAAaJ,EAAKC,GAChC,OAAOf,EAAA,QAA0BvC,IAnBjCuD,SACAG,YA0CF,SAAqB1D,EAAO2D,EAAcC,EAAUC,GAC7C7D,EAAM8D,aACT9D,EAAM8D,WAAa,IAUrB,OARmB9D,EAAM8D,WACdC,QAAQ,CACjBb,GAAI,IAAMK,IACV1C,MAAO8C,EACPK,UAAW,IAAIC,KACfC,cAAeN,EAAS/C,MACxBsD,SAAUN,IAEL7D,GArDPoE,iBAuDF,SAA0BpE,GAExB,OADAA,EAAM8D,WAAa,GACZ9D,IAET,SAASuD,IAGP,IAH2B,IAAbc,EAAY,uDAAH,EACnBhB,EAAM,GACNiB,EAAW,2BACNC,EAAI,EAAGA,EAAIF,EAAQE,IAC1BlB,GAAOiB,EAASE,OAAOC,KAAKC,MAAMD,KAAKE,SAAWL,EAASD,SAE7D,OAAOhB,E,ICxELuB,E,kBAEW,GACbC,MAQF,WACED,EAASE,IAd+B,MAMxCC,UAWF,WACEH,EAAS,MAXTI,GAcF,SAAYC,EAAWC,GACrBN,EAAOI,GAAGC,EAAWC,IAdrBC,IAiBF,SAAaF,EAAWC,GACtBN,EAAOO,IAAIF,EAAWC,IAjBtBE,KAoBF,SAAcH,EAAWrD,GACvBgD,EAAOQ,KAAKH,EAAWrD,IApBvByD,cAuBF,SAAuBJ,EAAWrD,GAChCgD,EAAOU,UAAUF,KAAKH,EAAWrD,KCM5B,SAAS2D,EAAYvF,GAC1B,8CAAO,WAAOwF,GAAP,SAAA1D,EAAA,6DACL0D,EAAS,CAAEC,KAAM,eAAgBzF,UAD5B,kBAGGoC,EAAaO,OAAO3C,GAHvB,OAIH0F,EAAcN,KAAK,eAAgBpF,GAJhC,gDAMHkC,QAAQC,IAAR,6BANG,yDAAP,sDC1CK,IAAMwD,EAAb,uKACY,IACAC,EAAaC,KAAKC,MAAlBF,SAER,OACE,yBAAKlF,UAAU,gBAAgBU,QAASyE,KAAKC,MAAMC,SACjD,yBACErF,UAAS,WACNmF,KAAKC,MAAME,SAA6B,cAAlB,gBADhB,8BAGT5E,QAAS,SAAC6E,GAAD,OAAQA,EAAGC,oBAEnBN,EAEAC,KAAKC,MAAME,UAAYH,KAAKC,MAAMK,aACjC,sDAC2B,IACzB,0BAAM/E,QAASyE,KAAKC,MAAMK,aAA1B,qBAjBd,GAA2BC,IAAMC,WCApBC,EAAoB,CAC7BC,U,4CACAC,cAsBJ,SAAuBC,EAASC,GAE5B,IAAIC,EAAMF,EAAQG,MAAM,KACpBC,EAAOF,EAAI,GAAGG,MAAM,WAAW,GAC/BC,EAAOC,KAAKL,EAAI,IAChBM,EAAIF,EAAK1C,OACT6C,EAAQ,IAAIC,WAAWF,GAE3B,KAAMA,KACFC,EAAMD,GAAKF,EAAKK,WAAWH,GAG/B,OAAO,IAAII,KAAK,CAACH,GAAQR,EAAU,CAACjB,KAAKoB,KAjCzCS,gB,yFAGJ,WAAyBrB,GAAzB,qBAAAnE,EAAA,4DACuB,iBACbyF,EAFV,0CACuB,iBADvB,kBAIUC,EAAW,IAAIC,UACZC,OAAO,OAAQzB,EAAG0B,OAAOC,MAAM,IACxCJ,EAASE,OAAO,gBAAiB,cANrC,kBAQ0BG,MAAMN,EAAY,CAChCxF,OAAQ,OACR+F,KAAMN,IAVlB,cAQcvF,EARd,iBAY2BA,EAAI8F,OAZ/B,eAYcnG,EAZd,yBAaeA,EAAKoG,YAbpB,kCAeQ9F,QAAQC,IAAR,MAfR,2D,kEAiCA,WAA+B8F,GAA/B,qBAAAnG,EAAA,4DACuB,iBACbyF,EAFV,0CACuB,iBADvB,kBAIUC,EAAW,IAAIC,UACZC,OAAO,OAAQO,GACxBT,EAASE,OAAO,gBAAiB,cANrC,kBAQ0BG,MAAMN,EAAY,CAChCxF,OAAQ,OACR+F,KAAMN,IAVlB,cAQcvF,EARd,iBAY2BA,EAAI8F,OAZ/B,eAYcnG,EAZd,yBAaeA,EAAKoG,YAbpB,kCAeQ9F,QAAQC,IAAR,MAfR,2D,sBCjCO,IAAM+F,EAAb,4MAEIC,YAAc,SAAC7E,GACX,GAAI,EAAKwC,MAAM1C,KAGX,OAFA,EAAK0C,MAAM1C,KAAKE,OAASA,EACzB,EAAKwC,MAAMsC,YAAY,sBAAsB,GACtC,EAAKtC,MAAM1C,KAGlB,EAAK0C,MAAMuC,SAAS/E,IAThC,EAcIgF,SAdJ,uCAce,WAAOrC,GAAP,eAAAnE,EAAA,6DACPI,QAAQC,IAAI8D,EAAG0B,OAAOC,MAAM,IADrB,SAEctB,EAAkBC,UAAUN,GAF1C,OAED3C,EAFC,OAGP,EAAK6E,YAAY7E,GAHV,2CAdf,6GAoBc,IAAD,OAaL,OACI,yBAAK5C,UAAU,iBACTmF,KAAKC,MAAMyC,YAAc,yBAAK7H,UAAU,cAAcU,QAAS,kBAAM,EAAK0E,MAAMsC,YAAY,sBAAsB,MAEpH,yBAAK1H,UAAYmF,KAAKC,MAAMyC,WAAc,GAAK,6BAC3C,yBAAK7H,UAAU,mBAjBX,CACZ,8GACA,uHACA,uHACA,iHACA,kHACA,+GACA,6GACA,+GACA,6GACA,6FAQqBQ,KAAI,SAACoC,EAAQkF,GAAT,OAAmB,yBAAKpH,QAAS,kBAAM,EAAK+G,YAAY7E,IAAS5C,UAAU,cAAcS,IAAKqH,EAAOC,IAAKnF,EAAQoF,IAAI,eACnI,2BAAOC,SAAU9C,KAAKyC,SAAUnI,MAAO,CAAES,MAAO,SAAW6E,KAAK,gBAxCxF,GAA4BY,aCLfuC,EAAb,4MAEIC,MAAQ,CACJC,KAAM,GACNxF,OAAQ,IAJhB,EAMIyF,kBAAoB,SAAC9C,GACjB,IAAM6C,EAAO7C,EAAG0B,OAAOqB,MACvB,EAAKC,SAAS,CAAEH,UARxB,EAUII,SAAW,SAACjD,GACRA,EAAGkD,iBACH,EAAKrD,MAAMsD,UAAU,EAAKP,MAAMC,KAAM,EAAKD,MAAMvF,QACjD,EAAK2F,SAAS,CAAEH,KAAM,GAAIxF,OAAQ,MAb1C,EAgBI+E,SAAW,SAAC/E,GACR,EAAK2F,SAAS,CAAE3F,OAAQA,KAjBhC,uDAsBQ,OACI,6BACI,0BAAM5C,UAAU,6BAA6BwI,SAAUrD,KAAKqD,UACxD,2BAAOxI,UAAU,mBAAmB2I,YAAY,aAC5C5D,KAAK,OACLkD,SAAU9C,KAAKkD,kBACfC,MAAOnD,KAAKgD,MAAMC,OAEtB,kBAAC,EAAD,CAAQP,WAAY1C,KAAKC,MAAMyC,WAAYF,SAAUxC,KAAKwC,WAC1D,yBAAK3H,UAAU,QACX,4BAAQA,UAAU,OAAlB,aACCmF,KAAKgD,MAAMvF,QAAU,yBAAK5C,UAAU,oBAAoB+H,IAAK5C,KAAKgD,MAAMvF,OAAQoF,IAAI,mBAjC7G,GAA8BtC,IAAMC,WCK9BiD,E,4MAEFT,MAAQ,CACJU,iBAAiB,EACjBC,eAAe,G,EAQnBC,YAAc,WACV,EAAKR,SAAS,CAAEM,iBAAiB,EAAMC,eAAe,K,EAE1DE,aAAe,WACX,EAAKT,SAAS,CAAEM,iBAAiB,EAAOC,eAAe,K,EAG3DG,YAAc,SAACtG,EAAKC,GAChB,EAAKwC,MAAM8D,SAASvG,EAAKC,GACzB,EAAKoG,gB,kEAZL7D,KAAKC,MAAM+D,e,+BAeL,IACE9I,EAAW8E,KAAKC,MAAhB/E,OACR,OACI,yBAAKL,UAAU,yBAGX,yBAAKA,UAAU,8DACX,yBAAMA,UAAU,mCAAkC,6CAElD,yBAAKA,UAAU,iCAAgC,kBAACI,EAAD,CAAWC,OAAQA,EAAQC,WAAY6E,KAAK4D,gBAK/F,yBAAK/I,UAAU,iEACf,yBAAMA,UAAU,mCAAkC,iDAE9C,yBAAKA,UAAU,iCACX,kBAACI,EAAD,CAAWC,OAAQA,EAAQC,WAAY6E,KAAK4D,gBAInD5D,KAAKgD,MAAMU,iBAAmB,kBAAC,EAAD,CAAOxD,QAASF,KAAK6D,aAChD9D,SAAU,kBAAC,EAAD,CAAU2C,WAAY1C,KAAKgD,MAAMW,cAAeJ,UAAWvD,KAAK8D,YAAa5D,QAASF,KAAK6D,sB,GA/CjGrD,aA4DlByD,EAAqB,CACvBD,WLlEG,WACL,8CAAO,WAAOrE,GAAP,eAAA1D,EAAA,+EAEkBM,EAAaC,QAF/B,OAEGtB,EAFH,OAGHyE,EAAS,CAAEC,KAAM,aAAc1E,WAH5B,gDAKHmB,QAAQC,IAAR,+BALG,yDAAP,uDKkEEyH,SLrCG,SAAkBvG,EAAKC,GAC5B,8CAAO,WAAOkC,GAAP,eAAA1D,EAAA,+EAEiBM,EAAaX,OAAO4B,EAAKC,GAF1C,OAEGtD,EAFH,OAGHwF,EAAS,CAAEC,KAAM,YAAazF,UAH3B,gDAKHkC,QAAQC,IAAR,6BALG,yDAAP,wDKuCW4H,EAAWC,aAXA,SAACnB,GACrB,MAAO,CACH9H,OAAQ8H,EAAMoB,aAAalJ,UASc+I,EAAzBE,CAA6CV,G,iHCvExDY,GAAb,4MACIC,cAAgB,SAACC,EAAOnE,GACpBA,EAAGC,kBACH,EAAKJ,MAAMuE,WAAWD,IAH9B,uDAQc,IAAD,OAaL,OACI,yBAAK1J,UAAU,8BAbJ,CACX,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAKYQ,KAAI,SAAAkJ,GAAK,OAAI,0BAAMhJ,QAAS,SAAC6E,GAAD,OAAQ,EAAKkE,cAAcC,EAAOnE,IAAKvF,UAAU,gBAAgBP,MAAO,CAAEK,gBAAiB4J,aAxB/I,GAAoChE,IAAMC,W,6BCoBtCiE,GAAUC,KAAOD,QAERE,GAAb,4MAEI3B,MAAQ,CACJ4B,aAAa,EACbC,aAAa,EACbC,cAAc,GALtB,EAQIC,iBAAmB,WACf,EAAK3B,SAAS,CAAEwB,aAAa,KATrC,EAWII,mBAAqB,WACjB,EAAK5B,SAAS,CAAE6B,eAAe,KAZvC,EAcIC,aAAe,WAEN,EAAKlC,MAAM4B,aAAgB,EAAK5B,MAAMiC,cAI3C,EAAK7B,SAAS,CAAEwB,aAAa,EAAOK,eAAe,IAH/C,EAAKhF,MAAMkF,gBAjBvB,EAsBIC,YAAc,SAAC3H,GACX,IAAMtD,EAAQ,EAAK8F,MAAM9F,MACzBA,EAAMG,MAAMC,MAAQkD,EACpBtD,EAAMG,MAAMM,QAAU,GACtB,EAAKqF,MAAMP,YAAYvF,IA1B/B,EA6BIkL,cAAgB,SAACd,GACb,IAAMpK,EAAQ,EAAK8F,MAAM9F,MACzBA,EAAMG,MAAMM,QAAU2J,EACtBpK,EAAMG,MAAMC,MAAQ,GACpB,EAAK0F,MAAMP,YAAYvF,IAjC/B,EAmCImL,YAAc,WACV,EAAKrF,MAAMkF,eACX,EAAKlF,MAAMsF,QAAQC,KAAnB,iBAAkC,EAAKvF,MAAM9F,MAAME,OArC3D,EAuCIoL,kBAAoB,WAChBC,IAAKC,KAAK,CACN3K,MAAO,gBACPiI,KAAM,6CACN2C,KAAM,UACNC,kBAAkB,EAClBC,mBAAoB,uBACpBC,kBAAmB,wBACnBC,kBAAmB,oBACpBC,MAAK,SAACC,GACL,GAAIA,EAAOC,YAAa,CACpB,IAAMhM,EAAQoC,EAAagC,iBAAiB,EAAK0B,MAAM9F,OACvD,EAAK8F,MAAMP,YAAYvF,QAnDvC,EAgEIiM,cAhEJ,sBAgEoB,sBAAAnK,EAAA,sEACSyJ,IAAKC,KAAK,CAC3B3K,MAAO,gBACPiI,KAAM,wCACN2C,KAAM,UACNC,kBAAkB,EAClBC,mBAAoB,uBACpBC,kBAAmB,wBACnBC,kBAAmB,0BARX,kBAUDG,YAVC,gCAWF5J,EAAaM,YAAY,EAAKoD,MAAM9F,MAAME,KAXxC,OAYR,EAAK4F,MAAMsF,QAAQC,KAAK,UAZhB,2CAhEpB,wDAuDca,GACN,OAAIA,GAAUA,EAAO5I,OACV,kBAAC6I,EAAA,EAAD,CAAQhL,IAAK+K,EAAOhM,IAAKuI,IAAKyD,EAAO5I,OAAQ5C,UAAU,WAE9DwL,EACO,kBAACC,EAAA,EAAD,CAAQhL,IAAK+K,EAAOhM,IAAKQ,UAAU,UAAUwL,EAAOE,SAASC,UAAU,EAAG,GAAGC,cAAeJ,EAAOE,SAASC,UAAU,EAAG,GAAGC,eAEhI,kBAACH,EAAA,EAAD,CAAQzL,UAAU,aA9DjC,+BAgFc,IAAD,OACGoD,EAAe+B,KAAKC,MAAM9F,MAA1B8D,WACR,OACI,yBAAKpD,UAAU,aACX,kBAAC4J,GAAD,CAASnK,MAAO,CACZQ,OAAQ,qBACRC,MAAO,OACP2L,SAAU,SACVC,UAAW,SACXC,YAAa,QAEb,yBAAK/L,UAAU,kCACX,kBAAC,IAAD,CAAgBU,QAASyE,KAAKkF,eAC9B,0BAAM5K,MAAO,CAAEiK,MAAO,UAAtB,QACA,kBAAC,IAAD,CAAgBhJ,QAASyE,KAAKC,MAAMkF,aAActK,UAAU,qBAGhE,6BACCmF,KAAKgD,MAAM4B,aAAe,kBAAC,EAAD,CAAQlC,YAAY,EAAMF,SAAUxC,KAAKoF,cACnEpF,KAAKgD,MAAMiC,eAAiB,kBAAC,GAAD,CAAgBT,WAAYxE,KAAKqF,iBAC5DrF,KAAKgD,MAAM4B,cAAgB5E,KAAKgD,MAAMiC,eAAiB,6BACrD,yBAAKpK,UAAU,4BAEX,yBAAKA,UAAU,mBAAmBU,QAASyE,KAAK+E,kBAAkB,kBAAC,KAAD,MAAe,mDACjF,yBAAKlK,UAAU,mBAAmBU,QAASyE,KAAKgF,oBAAoB,kBAAC,IAAD,MAAe,qDACnF,yBAAKnK,UAAU,mBAAmBU,QAASyE,KAAKoG,eAAe,kBAAC,KAAD,MAAc,gDAGjF,6BACA,yBAAKvL,UAAU,mBAAmBP,MAAO,CAACsM,YAAY,OAAQrL,QAASyE,KAAKsF,aAAa,kBAAC,IAAD,MAAW,wCACpG,6BACA,yBAAKzK,UAAU,gDACX,yBAAKA,UAAU,qBACX,kBAAC,IAAD,MACA,4CAEJ,uBAAGA,UAAU,oBAAoBU,QAASyE,KAAKyF,mBAA/C,eAEHxH,GAAc,6BACX,wBAAIpD,UAAU,kBACToD,EAAW5C,KAAI,SAAAwL,GAAQ,OACpB,wBAAIvL,IAAKuL,EAASxJ,GAAIxC,UAAU,qBAE5B,0BAAMA,UAAU,eAAe,EAAKiM,UAAUD,EAASvI,WAEvD,yBAAKzD,UAAU,4BAEX,2BACI,0BAAMA,UAAU,aAAagM,EAASvI,SAAWuI,EAASvI,SAASiI,SAAW,SAC9E,0BAAM1L,UAAU,eAAe,IAAMgM,EAAS7L,QAElD,oCAAU6L,EAASxI,6BAnI/D,GAA+BmC,aAsJzByD,GAAqB,CACvBvE,eAGEqH,GAAqBC,aAAWrC,IAEzBsC,GAAW9C,aAXA,SAACnB,GACrB,MAAO,CACH7I,MAAO6I,EAAMoB,aAAa8C,aAW9BjD,GAFoBE,CAGtB4C,I,kDCrLa,IACXvK,SACA2K,IAYJ,SAAaC,EAAYC,GACrB,OAAO7K,GAAM4K,GACRnB,MAAK,SAAAqB,GAAQ,OAAIA,EAASnK,MAAK,SAAAoK,GAAM,OAAIA,EAAOlN,MAAQgN,SAb7DG,KAeJ,SAAcJ,EAAYK,GAEtB,OADAA,EAAUpN,IAAMqN,KACTlL,GAAM4K,GACRnB,MAAK,SAAAqB,GAGF,OAFAA,EAAS9B,KAAKiC,GACdE,GAAMP,EAAYE,GACXG,MApBfG,IA0BJ,SAAaR,EAAYS,GACrB,OAAOrL,GAAM4K,GACRnB,MAAK,SAAAqB,GACF,IAAMQ,EAAMR,EAASS,WAAU,SAAAR,GAAM,OAAIA,EAAOlN,MAAQwN,EAAcxN,OAGtE,OAFAiN,EAASU,OAAOF,EAAK,EAAGD,GACxBF,GAAMP,EAAYE,GACXO,MA/BfI,OAmCJ,SAAgBb,EAAYC,GACxB,OAAO7K,GAAM4K,GACRnB,MAAK,SAAAqB,GACF,IAAMQ,EAAMR,EAASS,WAAU,SAAAR,GAAM,OAAIA,EAAOlN,MAAQgN,KACxDC,EAASU,OAAOF,EAAK,GACrBH,GAAMP,EAAYE,QArC9B,SAAS9K,GAAM4K,GACX,IAAIE,EAAWY,KAAKC,MAAMC,aAAaC,QAAQjB,KAAgB,GAC/D,OAAOkB,QAAQC,QAAQjB,GAwC3B,SAASK,GAAMP,EAAYE,GACvBc,aAAaI,QAAQpB,EAAYc,KAAKO,UAAUnB,IAGpD,SAASI,KAGL,IAH0B,IAAblJ,EAAY,uDAAH,EAClByE,EAAO,GACPxE,EAAW,iEACNC,EAAI,EAAGA,EAAIF,EAAQE,IACxBuE,GAAQxE,EAASE,OAAOC,KAAKC,MAAMD,KAAKE,SAAWL,EAASD,SAEhE,OAAOyE,EC3DJ,IAAMyF,GAAa,CACxBC,M,6CACAC,O,4CACAC,O,6CACAC,QAuBF,SAAiBC,GAEf,OADA1M,QAAQC,IAAI,oBAAqByM,GAC1BrM,EAAA,eAAwBqM,KAxB/BjM,OA4BF,SAAgBkB,GACd,OAAOgL,GAAepB,IAAI,OAAQ5J,IA5BlCiL,aAmDF,WAEI,MADa,CAAE5O,IAAK,OAAQkM,SAAU,W,8CA/C1C,WAAqB2C,GAArB,eAAAjN,EAAA,sEACqBS,EAAiB,aAAcwM,GADpD,cACQlL,EADR,yBAEsBA,GAFtB,4C,oEAIA,WAAsBkL,GAAtB,eAAAjN,EAAA,sEACqBS,EAAiB,cAAewM,GADrD,cACQlL,EADR,yBAEsBA,GAFtB,4C,oEAIA,sBAAA/B,EAAA,sEACQS,EAAiB,eADzB,4C,sBCbO,SAASyM,GAAT,GAA8C,IAAvBhP,EAAsB,EAAtBA,MAAOuF,EAAe,EAAfA,YAE3B0J,EAAa,CACf,CACI/O,IAAK,2BACLkM,SAAU,aACV9I,OAAQ,6FACT,CACCpD,IAAK,2BACLkM,SAAU,oBACV9I,OAAQ,+FACT,CACCpD,IAAK,2BACLkM,SAAU,eACV9I,OAAQ,+FACT,CACCpD,IAAK,2BACLkM,SAAU,oBACV9I,OAAQ,+FACT,CACCpD,IAAK,2BACLkM,SAAU,cACV9I,OAAQ,+FAtBgC,EA0BhB8C,IAAM8I,SAAS,MA1BC,oBA0BzCC,EA1ByC,KA0B/BC,EA1B+B,KAmC1CC,EAAc,uCAAG,WAAOT,GAAP,iBAAA9M,EAAA,yDACnBsN,EAAY,OACRpP,EAAMsP,QAFS,sBAGOtP,EAAMsP,QAAQC,QAAO,SAAArD,GAAM,OAAIA,EAAOhM,MAAQ0O,KAClDvK,OAAS,GAJZ,iEAKIkK,GAAYI,QAAQC,GALxB,OAKT/K,EALS,OAMf7D,EAAMsP,QAAQjE,KAAKxH,GANJ,yCAQI0K,GAAYI,QAAQC,GARxB,QAQT/K,EARS,OASf7D,EAAMsP,QAAU,CAACzL,GATF,QAWnB0B,EAAYvF,GAXO,4CAAH,sDAepB,OACI,yBAAKU,UAAU,gBACX,yBAAKU,QAvBO,SAACoO,GACjBJ,EAAYI,EAAMC,gBAsBa/O,UAAU,uBACjC,uBAAGA,UAAU,kBAAiB,kBAAC,KAAD,CAAcP,MAAO,CAAEuP,OAAQ,kBAA7D,UACA,uBAAGhP,UAAU,+BAA8B,kBAAC,KAAD,QAG/C,kBAACiP,GAAA,EAAD,CACIzM,GAAG,cACHiM,SAAUA,EACVS,aAAW,EACXC,KAAMC,QAAQX,GACdpJ,QA9BQ,WAChBqJ,EAAY,QA+BHH,GACGA,EAAW/N,KAAI,SAAAgL,GAAM,OACjB,kBAAC6D,GAAA,EAAD,CAAU5O,IAAK+K,EAAOhM,IAAKQ,UAAU,gBACjC,yBAAKA,UAAU,eAAeU,QAAS,kBAAMiO,EAAenD,EAAOhM,OAC/D,kBAACiM,EAAA,EAAD,CAAQ1D,IAAKyD,EAAO5I,OAAQoF,IAAI,MAAMhI,UAAU,aAChD,uBAAGA,UAAU,aAAawL,EAAOE,iBCpE1D,IAAM4D,GAAb,4MAEInH,MAAQ,CACJvG,SAAU,GACV2N,YAAY,EACZC,sBAAsB,GAL9B,EAQIC,WAAa,WACT,IAAIC,GAAa,EAAKvH,MAAMoH,WAC5B,EAAKhH,SAAS,CAAEgH,WAAYG,KAVpC,EAYIC,eAAiB,SAACxP,GACd,IAAMb,EAAQ,EAAK8F,MAAM9F,MACzBA,EAAMa,MAAQA,EACd,EAAKiF,MAAMP,YAAYvF,IAf/B,EAmBIsQ,oBAAsB,SAACC,GACnB,EAAKtH,SAAS,CAAEiH,qBAAsBK,KApB9C,uDAuBc,IACEvQ,EAAU6F,KAAKC,MAAf9F,MAIR,OACI,yBAAKU,UAAU,mCACX,yBAAKA,UAAU,wBACX,yBAAKP,MAAO,CAAEqQ,WAAY,OAAQC,UAAW,WAA7C,KAA2D,kBAAC,KAAD,CAAe3H,KAAM9I,EAAMa,MAAO6P,WAAY7K,KAAKwK,eAC1GM,WAAW,QACXC,YAAY,OACZvP,OAAO,UACPwP,gBAAgB,SAGnB7Q,EAAMsP,SACH,6BAAS5O,UAAU,uBACf,kBAACoQ,EAAA,EAAD,CAAaC,IAAK,GACb/Q,EAAMsP,QAAQpO,KAAI,SAAAgL,GAAM,OACrBA,EAAO5I,OACH,kBAAC6I,EAAA,EAAD,CAAQhL,IAAK+K,EAAOhM,IAAKuI,IAAKyD,EAAO5I,SAErC,kBAAC6I,EAAA,EAAD,CAAQhL,IAAK+K,EAAOhM,IAAKuI,IAAKyD,EAAO5I,QAAS4I,EAAOE,SAASC,UAAU,EAAG,GAAGC,cAAeJ,EAAOE,SAASC,UAAU,EAAG,GAAGC,qBAKrJ,yBAAK5L,UAAU,QAEX,kBAACsO,GAAD,CAAahP,MAAOA,EAAOuF,YAAaM,KAAKC,MAAMP,cAEnD,4BAAQ7E,UAAU,iCAAiCU,QAASyE,KAAKsK,YAAY,kBAAC,IAAD,CAAehQ,MAAO,CAAEuP,OAAQ,kBAA7G,QAEA,4BAAQhP,UAAU,yCAAyCU,QAASyE,KAAKsK,YAAY,kBAAC,IAAD,CAAehQ,MAAO,CAAE6Q,YAAa,WAE7HnL,KAAKgD,MAAMoH,YAAc,kBAACnD,GAAD,CAAU9B,aAAcnF,KAAKsK,kBA1DvE,GAAiC9J,a,mLCDjC,IAAM4K,GAAYC,KAAOC,IAAV,MACK,SAAArL,GAAK,OAAKA,EAAMsL,WAAa,UAAY,UAItD,SAASC,GAAT,GAA2E,IAApDjO,EAAmD,EAAnDA,KAAMgF,EAA6C,EAA7CA,YAAavF,EAAgC,EAAhCA,QAAS2F,EAAuB,EAAvBA,MAAO8I,EAAgB,EAAhBA,aAQ7D,OACI,kBAAE,KAAF,CAAYC,YAAanO,EAAKF,GAAIsF,MAAOA,IACpC,SAACgJ,EAAUC,GAAX,OACG,kBAAC,KAAD,CACItR,MAAOqR,EAASE,eAAevR,MAC/BsR,SAAUA,IAET,SAAAtR,GAAK,OACF,kBAAC8Q,GAAD,eAAaG,WAAYK,EAASL,WAAa1Q,UAAU,0CAA0CU,QAAS,kBAZvG0B,EAY6HM,EAAKF,QAXvJkF,EAAY,iBAAkB,CAAEtF,SAAQD,YADpB,IAACC,IAY2I0O,EAASE,eAAoBF,EAASG,gBAAtL,CAAuMxR,MAAOA,EAAOyR,IAAKJ,EAASK,WAC/N,yBAAKnR,UAAU,iCAAiCP,MAAO,CAAEK,gBAAiB4C,EAAK3C,UAC3E,yBAAKC,UAAU,uBACf,yBAAKA,UAAU,QAAS0C,EAAK0O,QAAU1O,EAAK0O,OAAOzN,OAAS,GACpDjB,EAAK0O,OAAO5Q,KAAI,SAAA6Q,GAAK,OAAI,yBAAK5Q,IAAK4Q,EAAOrR,UAAU,oBAAoBP,MAAO,CAAEK,gBAAiBuR,SAErG3O,EAAK4O,WAAa,yBAAKtR,UAAU,0CAAyC,kBAAC,KAAD,CAAYP,MAAO,CAAE6Q,YAAY,SAAUM,EAAalO,EAAKF,MAE5I,uBAAGxC,UAAU,kBAAkB0C,EAAKvC,OAC3BuC,EAAK6O,SAAW,yBAAKvR,UAAU,oBAAmB,kBAAC,KAAD,CAAcE,MAAM,OAAOD,OAAO,OAAOqB,IAAKoB,EAAK6O,YACtG7O,EAAKE,QAAU,yBAAK5C,UAAU,mBAAmB+H,IAAKrF,EAAKE,OAAQoF,IAAI,oBCtCxG,IAAMwJ,GAAb,4MAEIrJ,MAAQ,CACJC,KAAM,IAHd,EAKIC,kBAAoB,SAAC9C,GACjB,IAAM6C,EAAO7C,EAAG0B,OAAOqB,MACvB,EAAKC,SAAS,CAAEH,UAPxB,EASII,SAAW,SAACjD,GACRA,EAAGkD,iBACE,EAAKN,MAAMC,OACK,SAApB,EAAKhD,MAAML,MAAoB,EAAKK,MAAMsC,YAAY,aAAa,GAEpE,EAAKtC,MAAMqM,MAAM,EAAKrM,MAAML,KAAM,EAAKoD,MAAMC,KAAM,EAAKhD,MAAMjD,SAC9D,EAAKoG,SAAS,CAAEH,KAAM,OAf9B,EAiBIsJ,mBAAqB,WACjB,IAAIC,EAA+B,SAAlB,EAAKvM,MAAML,KAAe,YAAY,aACvD,EAAKK,MAAMsC,YAAaiK,GAAW,GACnC,EAAKpJ,SAAS,CAAEH,KAAM,MApB9B,uDAwBQ,OACI,yBAAKpI,UAAU,0BACX,0BAAMwI,SAAUrD,KAAKqD,UAGjB,2BAAOxI,UAAU,cAAc2I,YAAiC,SAApBxD,KAAKC,MAAML,KAAkB,YAAc,YACnFA,KAAK,OACLkD,SAAU9C,KAAKkD,kBACfC,MAAOnD,KAAKgD,MAAMC,OAEtB,yBAAKpI,UAAU,QACX,4BAAQA,UAAU,MAAMU,QAASyE,KAAKqD,UAA+B,SAApBrD,KAAKC,MAAML,KAAkB,WAAa,YAC3F,4BAAQ/E,UAAU,iBAAiBU,QAASyE,KAAKuM,oBAAjD,YApCxB,GAA6BhM,IAAMC,W,mBCK5B,SAASiM,GAAT,GAA4I,IAAtHC,EAAqH,EAArHA,SAAUtP,EAA2G,EAA3GA,MAAMuP,EAAqG,EAArGA,aAAaC,EAAwF,EAAxFA,mBAAoBC,EAAoE,EAApEA,cAAeC,EAAqD,EAArDA,oBAAqBC,EAAgC,EAAhCA,UAAUC,EAAsB,EAAtBA,mBAAsB,EAChHzM,IAAM8I,SAAS,MADiG,oBACzIC,EADyI,KAC/HC,EAD+H,KAoB1I0D,EAAc,WACdJ,GACDC,IACAvD,EAAY,OACFoD,GACTC,IACArD,EAAY,OAEhBA,EAAY,OAmBd,OACE,6BACE,kBAAC2D,GAAA,EAAD,CAAQ5S,MAAO,CAAC6S,WAAW,OAAQC,gBAAc,cAAcC,gBAAc,OAAO9R,QA5CpE,SAACoO,GACnBJ,EAAYI,EAAMC,iBA2ChB,SAGA,kBAACE,GAAA,EAAD,CACEzM,GAAG,cACHiM,SAAUA,EACVS,aAAW,EACXC,KAAMC,QAAQX,GACdpJ,QAAS+M,GAIT,kBAAC/C,GAAA,EAAD,CAAU3O,QAtBK,WACfsR,GACFC,IAEFF,MAkBI,oBACCD,GAAe,kBAAC,iBAAD,CAAe7J,SA5BnB,SAACyB,EAAOnE,GACxBA,EAAGC,kBACH2M,EAAmBzI,EAAM+I,MA0BkCC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,WAAYC,SAAS,SAC5I,kBAACtD,GAAA,EAAD,CAAU3O,QAtDE,WAChBwR,EAAU,aAAa,GACvBE,MAoDI,YACA,kBAAC/C,GAAA,EAAD,CAAU3O,QAnDK,WACfoR,GACFC,IAEFE,MA+CI,eACCD,GAAiB,kBAAC3C,GAAA,EAAD,KAAW,4BAAQrP,UAAU,MAAMP,MAAO,CAAEiK,MAAO,MAAO4G,YAAa,OAAS5P,QAnCvF,WACfmR,EAAStP,EAAMC,IACf4P,MAiCiC,UAAX,IAAmH,4BAAQ3S,MAAO,CAAEqQ,WAAY,OAAS9P,UAAU,MAAMU,QAAS0R,GAA/D,a,qLC9D7I,IAAIxI,GAAUC,KAAOD,QAEf2G,GAAYC,KAAOC,IAAV,MAEK,SAAArL,GAAK,OAAKA,EAAMwN,eAAiB,UAAY,aAIpDC,GAAb,4MAEI1K,MAAQ,CACJ2K,WAAW,EACXd,eAAe,EACfF,cAAa,GALrB,EAUIpK,YAAc,SAACjH,EAAKoP,GAChB,EAAKtH,SAAL,eAAiB9H,EAAMoP,KAX/B,EAaIkD,cAAgB,SAAC5Q,GACb,EAAKiD,MAAM2N,cAAc5Q,IAdjC,EAgBI8P,oBAAsB,WAClB,IAAIe,GAAY,EAAK7K,MAAM6J,cAC3B,EAAKzJ,SAAS,CAAEyJ,cAAegB,KAlBvC,EAoBIjB,mBAAqB,WACjB,IAAIkB,GAAW,EAAK9K,MAAM2J,aAC1B,EAAKvJ,SAAS,CAAEuJ,aAAcmB,KAtBtC,EA2BItD,eAAiB,SAACuD,GACd,IAAM5T,EAAQ,EAAK8F,MAAM9F,MACrB+C,EAAS8Q,MAAMC,KAAK9T,EAAM+C,QACxB4K,EAAM5K,EAAO6K,WAAU,SAAA3K,GAAK,OAAIA,EAAMC,KAAO,EAAK4C,MAAM7C,MAAMC,MAChED,EAAQ,EAAK6C,MAAM7C,MACvBA,EAAMpC,MAAQ+S,EACd7Q,EAAO8K,OAAOF,EAAK,EAAG1K,GACtBjD,EAAM+C,OAASA,EACf,EAAK+C,MAAMP,YAAYvF,IAnC/B,EAsCI6S,mBAAqB,SAACzI,GAClB,IAAMpK,EAAQ,EAAK8F,MAAM9F,MACrB+C,EAAS8Q,MAAMC,KAAK9T,EAAM+C,QACxB4K,EAAM5K,EAAO6K,WAAU,SAAA3K,GAAK,OAAIA,EAAMC,KAAO,EAAK4C,MAAM7C,MAAMC,MAChED,EAAQ,EAAK6C,MAAM7C,MACvBA,EAAMxC,QAAU2J,EAChBrH,EAAO8K,OAAOF,EAAK,EAAG1K,GACtBjD,EAAM+C,OAASA,EACf,EAAK+C,MAAMP,YAAYvF,IA9C/B,EAsDIsR,aAAe,SAACxO,GAEZ,IACMM,EADQ,EAAK0C,MAAM7C,MAAME,MACZH,MAAK,SAAAI,GAAI,OAAIA,EAAKF,KAAOJ,KAC5C,GAAIM,EAAK4O,WAAa5O,EAAK4O,UAAU+B,MAAO,CACxC,IAAMC,EAAQ5Q,EAAK4O,UAAU+B,MAAM1P,OAC7B4P,EAAa7Q,EAAK4O,UAAU+B,MAAMxE,QAAO,SAAA2E,GAAI,OAAoB,IAAhBA,EAAKC,UAAkB9P,OAC9E,MAAM,GAAN,OAAW4P,EAAX,YAAwBD,GAC1B,MAAO,IA9DjB,sDAiEclL,GAEF,OADeA,EAAKzE,QAAU,GAAKyE,EAAOA,EAAKuD,UAAU,EAAE,IAAI+H,OAAS,QAlEpF,+BAwEc,IAAD,OACCnR,EAAQ4C,KAAKC,MAAM7C,MACzB,OACI,yBAAK9C,MAAO,CAAEK,gBAAkByC,EAAMxC,QAAYwC,EAAMxC,QAAW,WAAaC,UAAU,wBAAwBwC,GAAG,kBACjH,4BAAQxC,UAAU,+CAGN,kBAAC,KAAD,CACH2T,aAAepR,EAAMpC,MACrByT,KAAM,SAAAtL,GAAU,EAAKqH,eAAerH,IACpCuL,WAAW,cACXC,WAAW,mBAIjB,kBAAClC,GAAD,CAAYG,mBAAoB5M,KAAK4M,mBAAoBI,mBAAoBhN,KAAKgN,mBAAoBL,aAAc3M,KAAKgD,MAAM2J,aAAcE,cAAe7M,KAAKgD,MAAM6J,cAAeE,UAAW/M,KAAKuC,YAAauK,oBAAqB9M,KAAK8M,oBAAqBJ,SAAU1M,KAAK4N,cAAexQ,MAAOA,KAE1S,kBAAC,GAAD,CAAS9C,MAAO,CACZQ,OAAQ,OACRC,MAAO,OACP2L,SAAU,SACVC,UAAW,SACXC,YAAa,MACbgI,aAAc,QAGd,kBAAC,KAAD,CAAWC,YAAazR,EAAMC,KACzB,SAACsO,EAAUC,GAAX,OAEG,kBAAC,GAAD,eAAWG,IAAKJ,EAASK,UACjBL,EAASmD,eADjB,CAEIrB,eAAgB7B,EAAS6B,iBACxBrQ,EAAME,MAAMjC,KAAI,SAACkC,EAAMoF,GAAP,OAAiB,kBAAC6I,GAAD,CAAaC,aAAc,EAAKA,aAAc9I,MAAOA,EAAOpF,KAAMA,EAAMjC,IAAKiC,EAAKF,GAAIkF,YAAa,EAAKtC,MAAMsC,YAAavF,QAASI,EAAMC,QAC3KsO,EAASnI,iBAKzBxD,KAAKgD,MAAM2K,UACR,kBAAC,GAAD,CAASrB,MAAOtM,KAAKC,MAAMqM,MAAO1M,KAAK,OAAO5C,QAASI,EAAMC,GAAIkF,YAAavC,KAAKuC,cAEnF,4BAAQ1H,UAAU,gBAAgBU,QAAS,kBAAM,EAAKgH,YAAY,aAAa,KAA/E,mBAjHpB,GAA+B/B,aA4HzByD,GAAqB,CACvBvE,eAGSqP,GAAW5K,aARA,SAACnB,GAAD,MAAY,CAChC7I,MAAO6I,EAAMoB,aAAa8C,aAOmBjD,GAAzBE,CAA6CuJ,I,UCtCtDsB,OAxGf,YAAqC,IAApBzM,EAAmB,EAAnBA,YAAYhF,EAAO,EAAPA,KAErB0R,EAAYC,iBAAO,MACnBC,EAAaD,iBAAO,MAHQ,EAIA7F,oBAAS,GAJT,oBAI3B+F,EAJ2B,KAIhBC,EAJgB,OAKVhG,mBAAS,MALC,oBAK3B9E,EAL2B,KAKpB+K,EALoB,KAQlCC,qBAAU,WACR,IAAMC,EAASP,EAAUQ,QACzBD,EAAOzU,MAAQ,IACfyU,EAAO1U,OAAS,IAChB,IAAM4U,EAAUF,EAAOG,WAAW,MAC5BC,EAAM,IAAIC,MAChBD,EAAIE,OAAS,WACTJ,EAAQK,UAAUH,EAAK,EAAG,EAAGJ,EAAOzU,MAAOyU,EAAO1U,SAEtD8U,EAAII,YAAc,YAClBJ,EAAIhN,IAAKrF,EAAKE,OACdiS,EAAQO,QAAU,QAClBP,EAAQQ,YAAc3L,EACtBmL,EAAQS,UAAY,EACpBhB,EAAWM,QAAUC,IAKpB,IAEH,IAaMU,EAAa,WACjB7N,EAAY,YAAY,IAGrB8N,EAAe,uCAAG,gCAAApU,EAAA,6DACnBuT,EAASP,EAAUQ,QACzBlS,EAAKE,OAAS+R,EAAOc,YACrBF,IACIhO,EAAK3B,EAAkBE,cAAcpD,EAAKE,OAAQ,cAJ7B,SAKJgD,EAAkBgB,gBAAgBW,GAL9B,cAKnB3E,EALmB,OAMzBF,EAAKE,OAAOA,EANa,kBAOdF,GAPc,2CAAH,qDA0BpB,OACE,yBAAK1C,UAAU,gBAAgBU,QAAS6U,GACxC,yBAAKvV,UAAU,gEACbU,QAAS,SAAC6E,GAAD,OAAQA,EAAGC,oBACrB,4BAAQ/F,MAAO,CAACiW,aAAa,QAC9BC,YAhDmB,SAAC,GAAmB,IAAlBC,EAAiB,EAAjBA,YACrBtB,EAAWM,QAAQS,YAAc3L,EADK,IAE/BmM,EAAoBD,EAApBC,QAASC,EAAWF,EAAXE,QAChBxB,EAAWM,QAAQmB,YACnBzB,EAAWM,QAAQoB,OAAOH,EAASC,GACnCtB,GAAa,IA4CbyB,UAzCoB,WACrB3B,EAAWM,QAAQsB,YACnB1B,GAAa,IAwCZ2B,YAjBW,SAAC,GAAmB,IAAlBP,EAAiB,EAAjBA,YACb,GAAIrB,EAAJ,CAD8B,IAIvBsB,EAAoBD,EAApBC,QAASC,EAAWF,EAAXE,QAChBxB,EAAWM,QAAQwB,OAAOP,EAASC,GACnCxB,EAAWM,QAAQyB,WAYnBnF,IAAKkD,IAEN,kBAAC,gBAAD,CAAcpU,UAAU,cACTiI,SA3BO,SAACyB,GACtBlI,QAAQC,IAAIiI,EAAM+I,IAAI/I,GACtB+K,EAAS/K,EAAM+I,MA0BDC,OAAQ,CAEN,UACA,UACA,UACA,UACA,UACA,aAKlB,4BAAQ1S,UAAU,MAAMU,QAAS8U,GAAjC,kB,+BClGWc,I,OAAb,4MAEIC,aAAe,SAAC7M,EAAOnE,GAEnB,IAAM6L,EAAS,EAAKhM,MAAMgM,OAE1B,GADA7L,EAAGC,kBACC4L,GAAUA,EAAOzN,OAAS,EAAG,CAG7B,GAFwByN,EAAOvC,QAAO,SAAAwC,GAAK,OAAIA,IAAU3H,KAErC/F,OAAS,EACzB,OAEA,EAAKyB,MAAMoR,aAAa9M,EAAOnE,QAGnC,EAAKH,MAAMoR,aAAa9M,EAAOnE,IAf3C,uDAmBc,IAAD,OASL,OACI,yBAAKvF,UAAU,+BATJ,CACX,UACA,UACA,UACA,UACA,UACA,WAIYQ,KAAI,SAAAkJ,GAAK,OAAI,0BAAMjJ,IAAKiJ,EAAOhJ,QAAS,SAAC6E,GAAD,OAAQ,EAAKgR,aAAa7M,EAAOnE,IAAK9F,MAAO,CAAEK,gBAAiB4J,aA9BhI,GAAgChE,IAAMC,Y,mBCEjB8Q,G,4MACjBtO,MAAM,CACFuO,KAAK,CACDvW,MAAM,GACNsT,OAAO,GACPjR,GAAG,K,EAQXmU,cAAgB,SAACpR,GACbA,EAAGkD,kB,EAGPmO,iBAAmB,WACf,IAAMC,GAAQ,EAAK1O,MAAMuO,KAAKjD,OAC9B,EAAKlL,UAAS,SAAAuO,GAAS,MAAK,CACxBJ,KAAK,2BACEI,EAAUJ,MADb,IAEAjD,OAAQoD,QAGZ,WAAO,EAAKzR,MAAM2R,eAAe,EAAK5O,MAAMuO,U,kEAfhDvR,KAAKoD,SAAS,CAAEmO,KAAMvR,KAAKC,MAAMsR,S,+BAiB3B,IAAD,OACGA,EAASvR,KAAKC,MAAdsR,KACR,OACI,yBAAK1W,UAAU,QAEX,0BAAMA,UAAU,4CAA4CgX,OAAO,IAG3D,uBAAGhX,UAAS,sBAA2C,IAA3BmF,KAAKgD,MAAMuO,KAAKjD,OAAkB,eAAiB,iBAAmB/S,QAAS,kBAAM,EAAKkW,qBAAqBF,EAAKvW,OAEjJ,kBAAE,KAAF,CAAWH,UAAU,kBAAkBU,QAAS,WAAQ,EAAK0E,MAAM6R,aAAaP,EAAKlU,a,GArCnEmD,aCG5BuR,GAAb,4MAEI/O,MAAQ,CACJmJ,UAAW,GACX6F,gBAAiB,GACjBC,QAAS,CACLjX,MAAO,GACPqC,GAAI,GACJiR,QAAQ,GAEZ4D,YAAa,IAVrB,EAkBIJ,aAAe,SAACK,GACZ,EAAKC,oBACL,IAAMlE,EAAQ,EAAKlL,MAAMmJ,UAAU+B,MAC7BmE,EAAUnE,EAAMnG,WAAU,SAAAwJ,GAAI,OAAIA,EAAKlU,KAAO8U,KACpDjE,EAAMlG,OAAOqK,EAAS,GACtB,EAAKjP,UAAS,SAAAuO,GAAS,MAAK,CACxBxF,UAAU,2BACHwF,EAAUxF,WADR,IAEL+B,cAGR,EAAKjO,MAAMqS,mBAAmB,EAAKtP,MAAMmJ,WACzC,EAAKiG,qBA9Bb,EAiCIG,cAAgB,SAACnS,GACb,IAAMpF,EAAQoF,EAAG0B,OAAOqB,MACxB,EAAKC,UAAS,SAAAuO,GAAS,MAAK,CACxBM,QAAQ,2BACDN,EAAUM,SADV,IAEHjX,eAtChB,EA2CIqI,SAAW,SAACjD,GACRA,EAAGkD,iBACH,IAAMjG,EAAKd,EAAamB,SAExB,EAAK0F,UAAS,SAAAuO,GAAS,MAAK,CACxBM,QAAQ,2BACDN,EAAUM,SADV,IAEH5U,KACAiR,QALO,QAOX,WAAQ,EAAKkE,2BArDzB,EAwDIA,qBAAuB,SAACC,GACpB,GAAIA,EAAS,CACT,IAAMvE,EAAQ,EAAKlL,MAAMmJ,UAAU+B,MAE7BpG,EAAMoG,EAAMnG,WAAU,SAAAwJ,GAAI,OAAIA,EAAKlU,KAAOoV,EAAQpV,MACxD6Q,EAAMlG,OAAOF,EAAK,EAAG2K,GAErB,EAAKrP,UAAS,SAAAuO,GAAS,MAAK,CACxBxF,UAAU,2BACHwF,EAAUxF,WADR,IAEL+B,MAAM,aACCA,QAGX,EAAKoE,wBACN,CACH,IAAMpE,EAAQ,EAAKlL,MAAMmJ,UAAU+B,MACnCA,EAAM1I,KAAK,EAAKxC,MAAMiP,SACtB,EAAK7O,UAAS,SAAAuO,GAAS,MAAK,CACxBxF,UAAU,2BACHwF,EAAUxF,WADR,IAEL+B,MAAM,aACCA,QAGX,EAAKoE,oBAEb,EAAKF,qBAnFb,EAsFIE,mBAAqB,WACjB,IAAMnG,EAAY,EAAKnJ,MAAMmJ,UAC7B,EAAKlM,MAAMqS,mBAAmBnG,GAC9B,EAAKiG,qBAzFb,EAuGI5H,eAAiB,SAACxP,GAClB,IAAImR,EAAY,EAAKlM,MAAMkM,UACvBuG,EAAW,EAAKzS,MAAMkM,UAAUnR,MACpC0X,EAAU1X,EACVmR,EAAUnR,MAAM0X,EAChB,EAAKzS,MAAMqS,mBAAmBnG,IA5GlC,kEAcQnM,KAAKoD,SAAS,CAAE+I,UAAWnM,KAAKC,MAAMkM,WAAanM,KAAKoS,uBAdhE,0CA8FQ,IAAKpS,KAAKC,MAAMkM,UAAW,OAAOnM,KAAKoD,SAAS,CAAE8O,YAAa,IAC/D,IAAMhE,EAAQlO,KAAKC,MAAMkM,UAAU+B,MACnC,GAAIA,EAAM1P,OAAS,EAAG,CAClB,IAAMmU,EAAazE,EAAM1P,OAEnBpC,EADW8R,EAAMxE,QAAO,SAAC6H,GAAD,OAA0B,IAAhBA,EAAKjD,UAAkB9P,OACxCmU,EAAc,IACrC,OAAO3S,KAAKoD,SAAS,CAAE8O,YAAa9V,EAAIwW,QAAQ,KAClD,OAAO5S,KAAKoD,SAAS,CAAE8O,YAAa,MArG9C,+BA+Gc,IAAD,OACG/F,EAAcnM,KAAKC,MAAnBkM,UACR,OACI,yBAAKtR,UAAU,qCACX,yBAAKA,UAAU,4CACX,yBAAKA,UAAU,qBAAoB,kBAAC,KAAD,CAAUP,MAAO,CAChD6Q,YAAa,MAAOpQ,MAAO,OAC3BD,OAAQ,UAGR,kBAAC,KAAD,CAAemI,KAAMkJ,EAAUnR,MAE3B6P,WAAY7K,KAAKwK,eACjBM,WAAW,QACXC,YAAY,OACZvP,OAAO,UACPqX,cAAc,SACd7H,gBAAgB,MAChB8H,eAAe,aAInB,4BAAQjY,UAAU,uBAAuBU,QAAS,kBAAM,EAAK0E,MAAM8S,oBAAnE,qBAER,2BAAOC,QAAQ,gBAAf,mBAA+ChT,KAAKgD,MAAMkP,YAA1D,KACA,8BAAU5X,MAAO,CAAES,MAAO,OAASsC,GAAG,eAAe8F,MAAK,UAAKnD,KAAKgD,MAAMkP,aAAehH,IAAI,QAC7F,uBAAGrQ,UAAU,UAAUP,MAAO,CAAE2Y,UAAU,OAAQC,SAAU,YAA5D,eACA,yBAAKrY,UAAU,aACVsR,EAAU+B,OAAS/B,EAAU+B,MAAM7S,KAAI,SAAAkW,GAAI,OAAI,kBAAC,GAAD,CAAajW,IAAKiW,EAAKlU,GAAIkU,KAAMA,EAAMK,eAAgB,EAAKY,qBAAsBV,aAAc,EAAKA,kBACrJ,4BAAQxX,MAAO,CACX6Y,QAAUnT,KAAKgD,MAAMgP,gBAAmB,OAAS,QACjDnI,OAAQ,IAAKuJ,QAAS,YACvB7X,QAAS,WAAQ,EAAK6H,SAAS,CAAE4O,iBAAiB,KAAWnX,UAAU,oBAH1E,YAICmF,KAAKgD,MAAMgP,iBAER,6BACI,0BAAM3O,SAAUrD,KAAKqD,SAAUwO,OAAO,IAClC,4BAAQtW,QAAS,kBAAM,EAAK6H,SAAS,CAAE4O,iBAAiB,KAAUnX,UAAU,OAA5E,KACA,2BAAOmY,QAAQ,cAAf,eACA,2BAAOlQ,SAAU9C,KAAKuS,cAAelV,GAAG,aAAauC,KAAK,SAC1D,4BAAQ/E,UAAU,OAAlB,gBAvJhC,GAAuC2F,aA0K1B6S,GAAmBlP,aATR,SAAAnB,GACpB,MAAO,CACH7I,MAAO6I,EAAMoB,aAAa8C,aAGP,GAIK/C,CAA6C4N,IC3KtE,SAASuB,GAAT,GAAkF,IAA9DnH,EAA6D,EAA7DA,UAAU4G,EAAmD,EAAnDA,gBAAiBQ,EAAkC,EAAlCA,cAAkC,EAAnBC,gBAG7D,OACI,6BACMrH,EAAUnR,OAAS,kBAACqY,GAAD,CAAkBN,gBAAiBA,EAAiBT,mBAAoBiB,EAAepH,UAAWA,EAAW7Q,IAAK6Q,EAAU9O,M,ICR5IoW,G,4MAEjBzQ,MAAQ,CACJmJ,UAAW,CACP9O,GAAI,GACJrC,MAAO,GACPkT,MAAO,K,EAGfwF,aAAe,SAACtT,GAEZ,IAAMpF,EAAQoF,EAAG0B,OAAOqB,MACxB,EAAKC,UAAS,SAAAuO,GAAS,MAAK,CACxBxF,UAAU,2BACHwF,EAAUxF,WADR,IAELnR,e,EAIZqI,SAAW,SAACjD,GACRA,EAAGkD,iBAEH,IAAMjG,EAAKd,EAAamB,SACxB,EAAK0F,UAAS,SAAAuO,GAAS,MAAK,CACxBxF,UAAU,2BACHwF,EAAUxF,WADR,IAEL9O,WAEJ,WAAQ,EAAK4C,MAAM0T,gBAAgB,EAAK3Q,MAAMmJ,e,uDAIlD,OACI,6BACI,0BAAM9I,SAAUrD,KAAKqD,SAAUwO,OAAO,IAClC,2BAAOmB,QAAQ,IAAf,wBACA,2BAAOlQ,SAAU9C,KAAK0T,aAAc9T,KAAK,SACzC,4BAAQ/E,UAAU,OAAlB,a,GArCsB2F,aCMnC,SAASoT,GAAT,GAAmD,IAA7BzZ,EAA4B,EAA5BA,MAAOoD,EAAqB,EAArBA,KAAMmC,EAAe,EAAfA,YAAe,EAErBa,IAAM8I,SAAS,MAFM,oBAE9CC,EAF8C,KAEpCC,EAFoC,KAI/CH,EAAajP,EAAMsP,QAAN,aAAoBtP,EAAMsP,SAAW,GAQlDD,EAAc,uCAAG,WAAOT,GAAP,iBAAA9M,EAAA,yDACnBsN,EAAY,OACRhM,EAAKkM,QAFU,sBAGOlM,EAAKkM,QAAQC,QAAO,SAAArD,GAAM,OAAIA,EAAOhM,MAAQ0O,KACjDvK,OAAS,GAJZ,iEAKIkK,GAAYI,QAAQC,GALxB,OAKT/K,EALS,OAMfT,EAAKkM,QAAQjE,KAAKxH,GANH,yCAQI0K,GAAYI,QAAQC,GARxB,QAQT/K,EARS,OASfT,EAAKkM,QAAU,CAACzL,GATD,QAWnB0B,EAAYvF,GAXO,4CAAH,sDAepB,OACI,yBAAKU,UAAU,gBACX,yBAAKU,QAvBO,SAACoO,GACjBJ,EAAYI,EAAMC,gBAsBa/O,UAAU,+BACjC,uBAAGA,UAAU,sBAAqB,kBAAC,KAAD,CAAcP,MAAO,CAAEuP,OAAQ,kBAAjE,UACA,uBAAGhP,UAAU,mCAAkC,kBAAC,KAAD,QAMnD,kBAACiP,GAAA,EAAD,CACIzM,GAAG,cACHiM,SAAUA,EACVS,aAAW,EACXC,KAAMC,QAAQX,GACdpJ,QAjCQ,WAChBqJ,EAAY,QAkCHH,EAAW5K,OAAS,EACjB4K,EAAW/N,KAAI,SAAAgL,GAAM,OACjB,kBAAC6D,GAAA,EAAD,CAAU5O,IAAK+K,EAAOhM,IAAKQ,UAAU,gBACjC,yBAAKA,UAAU,eAAeU,QAAS,kBAAMiO,EAAenD,EAAOhM,OAC/D,kBAACiM,EAAA,EAAD,CAAQ1D,IAAKyD,EAAO5I,OAAQoF,IAAI,MAAMhI,UAAU,aAChD,uBAAGA,UAAU,aAAawL,EAAOE,eAI7C,kBAAC2D,GAAA,EAAD,2CCvCpB,IAAIzF,GAAUC,KAAOD,QAERoP,GAAb,4MAEI7Q,MAAQ,CACJzF,KAAM,KACNuW,oBAAoB,EACpBC,mBAAmB,EACnBC,YAAY,EACZC,eAAe,EACfC,iBAAiB,EACjBC,sBAAsB,EACtBC,gBAAgB,EAChBC,UAAU,GAXlB,EAmBI9R,YAAc,SAACjH,EAAKoP,GAChB,EAAKtH,SAAL,eAAiB9H,EAAMoP,IACd,uBAANpP,GACC,EAAKgZ,mBAtBjB,EAyBIC,aAAe,WACX,EAAKC,WACL,EAAKvU,MAAMsC,YAAY,kBAAkB,IA3BjD,EA6BIkS,eAAiB,WACb,EAAKxU,MAAMsC,YAAY,kBAAkB,GACzChG,EAAasB,YAAY,EAAKoC,MAAM9F,MAAO,cAAe,EAAK6I,MAAMzF,KAAM,EAAK0C,MAAMyU,UACtF,EAAKzU,MAAM0U,aAAa,EAAK3R,MAAMzF,KAAKF,KAhChD,EAoCIuX,YAAc,WACV,IAAMrX,EAAO,EAAKyF,MAAMzF,YACjBA,EAAKE,OACZ,EAAK2F,SAAS,CAAE7F,UAvCxB,EAyCI+W,gBAAkB,WACd,IAAM/W,EAAO,EAAKyF,MAAMzF,YACjBA,EAAK6O,QACZ,EAAKhJ,SAAS,CAAE7F,UA5CxB,EA8CIiX,SAAW,WACP,EAAKjS,YAAY,qBAAqB,GACtC,IAAItF,EAAS,EAAK+F,MAAMzF,KAAKF,GACvBwX,EAAQ,eAAQ,EAAK5U,MAAM9F,OAC3BiD,EAAQyX,EAAS3X,OAAOC,MAAK,SAAAC,GAAK,OAAIA,EAAMC,KAAO,EAAK4C,MAAMjD,WAC9D8X,EAAU1X,EAAME,MAAMyK,WAAU,SAAAxK,GAAI,OAAIA,EAAKF,KAAOJ,KAC1DG,EAAME,MAAM0K,OAAO8M,EAAS,EAAG,EAAK9R,MAAMzF,MAC1C,EAAK0C,MAAMP,YAAYmV,IArD/B,EAwDIE,SAAW,WACP,EAAKxS,YAAY,qBAAqB,GACtC,EAAKiS,YA1Db,EA4DIhB,gBAAkB,SAAClY,EAAKoP,GAEpB,EAAKtH,UAAS,SAAAuO,GAAS,MAAK,CACxBpU,KAAK,2BACEoU,EAAUpU,MADb,kBAECjC,EAAMoP,SAjEvB,EAqEIF,eAAiB,SAACxP,GACd,EAAKwY,gBAAgB,QAASxY,IAtEtC,EAyEIga,gBAAkB,WACd,EAAKzS,YAAY,cAAc,GAC/B,IAAMhF,EAAO,EAAKyF,MAAMzF,YACjBA,EAAK0X,QACZ,EAAK7R,SAAS,CAAE7F,SAChB,EAAKiX,YA9Eb,EAiFEU,oBAAsB,SAACnZ,GACrB,EAAKwG,YAAY,cAAc,GAC/B,EAAKiR,gBAAgB,UAAWzX,GAChC,EAAKyY,YApFT,EAsFEnD,aAAe,SAAC3G,EAAKtK,GAEnB,GADAA,EAAGC,oBACC,EAAK2C,MAAMzF,KAAK0O,QAAU,EAAKjJ,MAAMzF,KAAK0O,OAAOzN,OAAS,GAA9D,CACA,IAAIyN,EAAS,CAACvB,GACV,EAAK1H,MAAMzF,KAAK0O,SAClBA,EAAS,EAAKjJ,MAAMzF,KAAK0O,QAClBzG,KAAKkF,GAEd,EAAK8I,gBAAgB,SAAUvH,GAC/B1P,EAAasB,YACX,EAAKoC,MAAM9F,MACX,YACA,EAAK6I,MAAMzF,KACX,EAAK0C,MAAMyU,YAnGjB,EAsGES,cAAgB,SAACjJ,GACf,IAAMD,EAAS,EAAKjJ,MAAMzF,KAAK0O,OACzBmJ,EAAWnJ,EAAOoJ,QAAQnJ,GAChCkJ,GAAY,GAAKnJ,EAAOjE,OAAOoN,EAAU,GACzC,EAAK5B,gBAAgB,SAAUvH,IA1GnC,EA4GEqJ,cAAgB,WACd,EAAK9B,gBAAgB,UAAW,IAAIpV,MACpC,EAAKgF,SAAS,CAAE4Q,YAAY,IAC5BzX,EAAasB,YACX,EAAKoC,MAAM9F,MACX,cACA,EAAK6I,MAAMzF,KACX,EAAK0C,MAAMyU,WAnHjB,EAsHEnB,cAAgB,SAACpH,GACf,EAAKqH,gBAAgB,YAAarH,GAClC,EAAKqI,YAxHT,EA0HEb,gBAAkB,SAACxH,GACjB,EAAKoH,cAAcpH,IA3HvB,EA6HE4G,gBAAkB,WAChB,EAAKQ,cAAc,KA9HvB,EAgIEgC,iBAAmB,SAACnV,GAClBA,EAAGC,kBACC,EAAK2C,MAAMiR,cACb,EAAK7Q,SAAS,CAAE6Q,eAAe,IAG7B,EAAKjR,MAAMzF,KAAK0O,OACd,EAAKjJ,MAAMzF,KAAK0O,OAAOzN,OAAS,GAClC,EAAK4E,SAAS,CAAE6Q,eAAe,IAGjC,EAAK7Q,SAAS,CAAE6Q,eAAe,KA3IrC,EA6IIkB,cAAgB,SAACjJ,GACb,IAAMD,EAAS,EAAKjJ,MAAMzF,KAAK0O,OACzBmJ,EAAWnJ,EAAOoJ,QAAQnJ,GAChCkJ,GAAY,GAAKnJ,EAAOjE,OAAOoN,EAAU,GACzC,EAAK5B,gBAAgB,SAAUvH,IAjJvC,EAmJIqJ,cAAgB,WACZ,EAAK9B,gBAAgB,UAAW,IAAIpV,MACpC,EAAKgF,SAAS,CAAE4Q,YAAY,IAC5BzX,EAAasB,YAAY,EAAKoC,MAAM9F,MAAO,cAAe,EAAK6I,MAAMzF,KAAM,EAAK0C,MAAMyU,WAtJ9F,EAyJInB,cAAgB,SAACpH,GACb,EAAKqH,gBAAgB,YAAarH,GAClC,EAAKqI,YA3Jb,EA6JIb,gBAAkB,SAACxH,GACf,EAAKoH,cAAcpH,IA9J3B,EAgKI4G,gBAAkB,WACd,EAAKQ,cAAc,KAjK3B,EAmKIgC,iBAAmB,SAACnV,GAChBA,EAAGC,kBACC,EAAK2C,MAAMiR,cACX,EAAK7Q,SAAS,CAAE6Q,eAAe,IAG/B,EAAKjR,MAAMzF,KAAK0O,OACZ,EAAKjJ,MAAMzF,KAAK0O,OAAOzN,OAAS,GAChC,EAAK4E,SAAS,CAAE6Q,eAAe,IAGnC,EAAK7Q,SAAS,CAAE6Q,eAAe,KA9K3C,EAiLIuB,oBAAsB,WAClB,EAAKpS,SAAS,CAAE8Q,iBAAkB,EAAKlR,MAAMkR,kBAC7C3X,EAAasB,YAAY,EAAKoC,MAAM9F,MAAO,gBAAiB,EAAK6I,MAAMzF,KAAM,EAAK0C,MAAMyU,WAnLhG,EAsLIe,oBAAsB,SAAClR,EAAOnE,GAC1BA,EAAGC,kBACH,EAAKmT,gBAAgB,UAAWjP,EAAM+I,MAxL9C,EA0LIoI,iBAAmB,SAACtV,GAChBA,EAAGC,kBACH9D,EAAasB,YAAY,EAAKoC,MAAM9F,MAAO,eAAgB,EAAK6I,MAAMzF,KAAM,EAAK0C,MAAMyU,UACvF,EAAKtR,SAAS,CAAE+Q,sBAAsB,IACtC,EAAKK,YA9Lb,EAiMImB,aAAe,WACX,EAAKvS,SAAS,CAAE+Q,sBAAsB,IACtC,EAAK/Q,SAAS,CAAE6Q,eAAe,KAnMvC,EA+MI2B,YAAc,SAACzZ,GACX,EAAKiH,SAAS,CAACgR,gBAAe,IAC9B,EAAKQ,cACL,EAAKpB,gBAAgB,UAAUrX,IAlNvC,kEAeQ,IAAMoB,EAAOhB,EAAaQ,YAAYiD,KAAKC,MAAM9F,MAAO6F,KAAKC,MAAMjD,QAASgD,KAAKC,MAAMhD,QACvF+C,KAAKoD,SAAS,CAAE7F,WAhBxB,gCAqMc8I,GACN,OAAIA,GAAUA,EAAO5I,OACV,kBAAC6I,EAAA,EAAD,CAAQhL,IAAK+K,EAAOhM,IAAKuI,IAAKyD,EAAO5I,OAAQ5C,UAAU,WAE9DwL,EACO,kBAACC,EAAA,EAAD,CAAQhL,IAAK+K,EAAOhM,IAAKQ,UAAU,UAAUwL,EAAOE,SAASC,UAAU,EAAG,GAAGC,cAAeJ,EAAOE,SAASC,UAAU,EAAG,GAAGC,eAEhI,kBAACH,EAAA,EAAD,CAAQzL,UAAU,aA5MjC,+BAsNc,IAAD,OACL,IAAKmF,KAAKgD,MAAMzF,KAAM,OAAO,2CADxB,IAEGA,EAASyC,KAAKgD,MAAdzF,KACApD,EAAU6F,KAAKC,MAAf9F,MAER,OACI,yBAAKU,UAAU,gCAEX,yBAAKA,UAAU,cAAcU,QAASyE,KAAKuU,eAE3C,yBAAK1Z,UAAU,4BAA4BU,QAASyE,KAAK2V,cAErD,4BAAQ9a,UAAU,uCAAuCP,MAAO,CAAEK,gBAAiB4C,EAAK3C,UAEnF2C,EAAK6O,SAAW,kBAAC,KAAD,CAAarR,MAAM,MAAMD,OAAO,OAAOqB,IAAKoB,EAAK6O,UAEjE7O,EAAKE,QACF,yBAAK5C,UAAU,WAAW+H,IAAKrF,EAAKE,OAAQoF,IAAI,YAEnDtF,EAAKE,QAAU,4BAAQlC,QAASyE,KAAK4U,YAAa/Z,UAAU,qBAAqBP,MAAO,CAAEsM,YAAa,OAAQgI,aAAc,QAAS,kBAAC,KAAD,CAAYtU,MAAO,CAAE6Q,YAAa,UAGxKnL,KAAKgD,MAAMmR,sBACR,6BACI,kBAAC,iBAAD,CAAerR,SAAU9C,KAAKyV,oBAAqBlI,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAAYC,SAAS,WAI5O,yBAAK3S,UAAU,iBACX,kBAAC,GAAD,CAASP,MAAO,CACZQ,OAAQ,QACRC,MAAO,OACP2L,SAAU,SACVC,UAAW,WAEX,yBAAK9L,UAAU,sBAKD,kBAAC,KAAD,CACjB2T,aAAejR,EAAKvC,MACpByT,KAAM,SAAAtL,GAAU,EAAKqH,eAAerH,IACpCuL,WAAW,cACXC,WAAW,mBAGJ,6BACMpR,EAAK0O,QAAU1O,EAAK0O,OAAOzN,OAAS,GAClC,yBAAKlE,MAAO,CAAEuP,OAAQ,SAAU/O,OAAQ,QAAUD,UAAU,QACxD,yBAAKA,UAAU,qBACX,uBAAGP,MAAO,CAAE6Q,YAAa,QAAUtQ,UAAU,WAA7C,YACC0C,EAAK0O,OAAO5Q,KAAI,SAAA6Q,GAAK,OAAI,yBAAK5Q,IAAK4Q,EAAO3Q,QAAS,kBAAM,EAAK4Z,cAAcjJ,IAAQrR,UAAU,cAAcP,MAAO,CAAEK,gBAAiBuR,UAInJ,yBAAKrR,UAAU,qBAAoB,kBAAC,KAAD,CAAQP,MAAO,CAC9C6Q,YAAa,MAAOpQ,MAAO,OAC3BD,OAAQ,UACP,uBAAGS,QAAS,kBAAM,EAAKgH,YAAY,qBAAqB,IAAO1H,UAAU,WAAzE,kBAEJmF,KAAKgD,MAAM+Q,kBACR,yBAAKlZ,UAAU,sCACX,kBAACgb,GAAA,EAAD,CACIC,OAAO,OACPC,WAAS,EACTC,KAAM,EACNC,aAAcjW,KAAKgD,MAAMzF,KAAKI,YAE9B9C,UAAU,wBACViI,SAAU,SAAA1C,GAAE,OAAI,EAAKoT,gBAAgB,cAAepT,EAAG0B,OAAOqB,UAElE,4BAAQ5H,QAASyE,KAAKwU,SAAU3Z,UAAU,OAA1C,SAGJ,yBACIA,UAAU,4BACVU,QAAS,kBAAM,EAAKgH,YAAY,qBAAqB,KAAQvC,KAAKgD,MAAMzF,KAAKI,YAAcqC,KAAKgD,MAAMzF,KAAKI,YAAc,sCAKrI,yBAAK9C,UAAU,0BAIX,kBAAC+Y,GAAD,CAAYzZ,MAAOA,EAAOoD,KAAMA,EAAMmC,YAAaM,KAAKC,MAAMP,cAE5DnC,EAAKkM,SAAWlM,EAAKkM,QAAQjL,OAAS,GACpC,6BACI,6BAAS3D,UAAU,uBACd0C,EAAKkM,SACF,kBAACwB,EAAA,EAAD,CAAaC,IAAK,GACb3N,EAAKkM,QAAQpO,KAAI,SAAAgL,GAAM,OAAI,EAAKS,UAAUT,WAQjErG,KAAKgD,MAAMgR,YAAczW,EAAK0X,UAC5B,6BACI,kBAAC,KAAD,CACIiB,SAAW3Y,EAAK0X,QAAW,IAAI7W,KAAKb,EAAK0X,SAAW,IAAI7W,KACxD0E,SAAU9C,KAAKkV,oBACfiB,gBAAc,EACdC,WAAW,OAGf,4BAAQ7a,QAASyE,KAAKgV,gBAAiBna,UAAU,OAAjD,MAKPmF,KAAKgD,MAAMzF,KAAK4O,WAAa,kBAACmH,GAAD,CAAWP,gBAAiB/S,KAAK+S,gBAAiBQ,cAAevT,KAAKuT,cAAepH,UAAWnM,KAAKgD,MAAMzF,KAAK4O,YAC7InM,KAAKgD,MAAMkR,iBAAmB,kBAAC,GAAD,CAAcP,gBAAiB3T,KAAK2T,oBAK3E,yBAAK9Y,UAAU,oDACX,4BAAQA,UAAU,mBAAmBP,MAAO,CAAC6Y,QAAS,QAAS5X,QAAS,kBAAM,EAAKgH,YAAY,sBAAsB,KAAO,kBAAC,KAAD,CAAajI,MAAO,CAAE6Q,YAAa,SAA/J,SAEA,4BAAQtQ,UAAU,mBAAmBP,MAAO,CAAC6Y,QAAS,QAAS5X,QAASyE,KAAK0V,kBAAkB,kBAAC,IAAD,CAAapb,MAAO,CAAE6Q,YAAa,MAAOrQ,OAAQ,OAAQC,MAAO,UAAhK,SAEA,4BAAQF,UAAU,mBAAmBP,MAAO,CAAC6Y,QAAS,QAAS5X,QAAS,kBAAM,EAAKia,wBAAuB,kBAAC,KAAD,CAAelb,MAAO,CAAE6Q,YAAa,SAA/I,aACA,4BAAQ5P,QAASyE,KAAKsV,cAAeza,UAAU,oBAAmB,kBAAC,KAAD,CAAeP,MAAO,CAAE6Q,YAAa,SAAvG,aACA,4BAAQ5P,QAASyE,KAAKuV,iBAAkBjb,MAAO,CAAC6Y,QAAS,QAAStY,UAAU,oBAAmB,kBAAC,IAAD,CAAgBP,MAAO,CAAE6Q,YAAa,MAAOrQ,OAAQ,OAAQC,MAAO,UAAnK,UACCiF,KAAKgD,MAAMiR,eACR,kBAAC,GAAD,CAAYpZ,UAAU,cAAcwW,aAAcrR,KAAKqR,aAAcpF,OAAQ1O,EAAK0O,SAEtF,4BAAQpR,UAAU,mBAAmBP,MAAO,CAAC6Y,QAAS,QAAS5X,QAAS,kBAAO,EAAK6H,SAAS,CAAEgR,gBAAgB,MAAU,kBAAC,KAAD,CAAW9Z,MAAO,CAAE6Q,YAAa,MAAOrQ,OAAQ,OAAQC,MAAO,UAAxL,YACCiF,KAAKgD,MAAMoR,gBAAkB,yBAAK9Z,MAAO,CAACwb,OAAQ,oBAAoB,kBAAC,KAAD,CACnEtH,aAAc,iBACdC,KAAM,SAACtS,GAAD,OAAO,EAAKyZ,YAAYzZ,IAE9B2W,eAAe,gBACfuD,eAAe,mBAGnB,4BAAQ9a,QAAS,kBAAI,EAAK6H,SAAS,CAACiR,UAAS,KAAQxZ,UAAU,OAAM,kBAAC,KAAD,CAAcP,MAAO,CAAE6Q,YAAa,SAAzG,UAKA,4BAAQ5P,QAASyE,KAAKyU,eAAgB5Z,UAAU,OAAhD,IAAuD,kBAAC,KAAD,CAAYP,MAAO,CAAE6Q,YAAa,SAAzF,UAIPnL,KAAKgD,MAAM8Q,oBAAsB,kBAAC,EAAD,CAAQvW,KAAMA,EAAMgF,YAAavC,KAAKuC,cACvEvC,KAAKgD,MAAMqR,UAAY,kBAAC,GAAD,CAAQb,gBAAiBxT,KAAKwT,gBAAiBjR,YAAavC,KAAKuC,YAAahF,KAAMyC,KAAKgD,MAAMzF,aA7W3I,GAAkCiD,aA0X5ByD,GAAqB,CACzBvE,eAGW4W,GAAcnS,aAVH,SAACnB,GACvB,MAAO,CACL7I,MAAO6I,EAAMoB,aAAa8C,UAC1BwN,SAAU1R,EAAMuT,YAAYC,gBAS9BvS,GAFyBE,CAGzB0P,IC3YW4C,GAAb,4MACEzT,MAAQ,CACN0T,gBAAgB,EAChBC,YAAY,EACZxc,MAAM,MAJV,EAmBEoI,YAAc,SAACjH,EAAKoP,GAClB,EAAKtH,SAAL,eAAiB9H,EAAMoP,KApB3B,EAsBEkM,YAAc,WACZ,EAAKxT,SAAS,CAAEuT,YAAY,KAvBhC,EA0BErK,MAAQ,SAAC1M,EAAMqD,EAAMjG,GACnB,IAAM6Z,EAAQ,eAAQ,EAAK5W,MAAM9F,OAC3B2c,EAAWD,EAAS3Z,OAAO6K,WAAU,SAAC3K,GAAD,OAAWA,EAAMC,KAAOL,KACnE,GAAa,UAAT4C,EAAkB,CACpB,EAAKwD,SAAS,CAAEuT,YAAY,IAC5B,IAAMvZ,EAAQ,CAAEC,GAAI,IAAMd,EAAamB,SAAU1C,MAAOiI,EAAM3F,MAAO,IACrEuZ,EAAS3Z,OAAOsI,KAAKpI,GACrB,EAAK6C,MAAMP,YAAYmX,QAClB,GAAa,SAATjX,EAAiB,CAC1B,IAAMrC,EAAO,CAAEF,GAAI,IAAMd,EAAamB,SAAU1C,MAAOiI,GACvD4T,EAAS3Z,OAAO4Z,GAAUxZ,MAAMkI,KAAKjI,GACrC,EAAK0C,MAAMP,YAAYmX,KArC7B,EAyCEtU,YAAc,SAACjH,EAAKoP,GAClB,EAAKtH,SAAL,eAAiB9H,EAAMoP,KA1C3B,EA4CEkM,YAAc,WACZ,EAAKxT,SAAS,CAAEuT,YAAY,KA7ChC,EA+CEI,UAAY,SAAA7Q,GAAW,IACb8Q,EAAqC9Q,EAArC8Q,YAAaC,EAAwB/Q,EAAxB+Q,OAAQvL,EAAgBxF,EAAhBwF,YACvBwL,EAAU,EAAKjX,MAAM9F,MAAM+C,OACjC,GAAK8Z,IACDA,EAAYnI,cAAgBoI,EAAOpI,aAAemI,EAAYrU,QAAUsU,EAAOtU,OAAnF,CAEA,IAAMwU,EAAQD,EAAQ/Z,MAAK,SAAAga,GAAK,OAAIA,EAAM9Z,KAAO4Z,EAAOpI,eAClDuI,EAASF,EAAQ/Z,MAAK,SAAAia,GAAM,OAAIA,EAAO/Z,KAAO2Z,EAAYnI,eAEhE,GAAIsI,IAAUC,EAAd,CA4BA,IAAMC,EAAerJ,MAAMC,KAAKkJ,EAAM7Z,OAChCga,EAAcD,EAAala,MAAK,SAAAkR,GAAI,OAAIA,EAAKhR,KAAOqO,KAC1D2L,EAAarP,OAAOiP,EAAOtU,MAAO,GAClC,IAAM4U,EAAQ,2BACTJ,GADS,IAEZ7Z,MAAO+Z,IAIHG,EAAgBxJ,MAAMC,KAAKmJ,EAAO9Z,OACxCka,EAAcxP,OAAOgP,EAAYrU,MAAO,EAAG2U,GAC3C,IAAMG,EAAS,2BACVL,GADU,IAEb9Z,MAAOka,IAGHE,EAAY1J,MAAMC,KAAKiJ,GAEvBS,EAAgBD,EAAU3P,WAAU,SAAA3K,GAAK,OAAIA,EAAMC,KAAOka,EAASla,MACnEua,EAAiBF,EAAU3P,WAAU,SAAA3K,GAAK,OAAIA,EAAMC,KAAOoa,EAAUpa,MAE3Eqa,EAAU1P,OAAO2P,EAAe,EAAGJ,GACnCG,EAAU1P,OAAO4P,EAAgB,EAAGH,GAEpC,IAAMI,EAAQ,2BACT,EAAK5X,MAAM9F,OADF,IAEZ+C,OAAQwa,IAEV,EAAKzX,MAAMP,YAAYmY,OAxDvB,CACE,IAAMC,EAAa9J,MAAMC,KAAKkJ,EAAM7Z,OAC9Bga,EAAcQ,EAAW3a,MAAK,SAAAkR,GAAI,OAAIA,EAAKhR,KAAOqO,KAExDoM,EAAW9P,OAAOiP,EAAOtU,MAAO,GAChCmV,EAAW9P,OAAOgP,EAAYrU,MAAO,EAAG2U,GAGxC,IAAMS,EAAS,2BACVZ,GADU,IAEb7Z,MAAOwa,IAGHJ,EAAY1J,MAAMC,KAAKiJ,GAGvBJ,EAAWI,EAAQnP,WAAU,SAAA3K,GAAK,OAAIA,EAAMC,KAAO0a,EAAU1a,MAEnEqa,EAAU1P,OAAO8O,EAAU,EAAGiB,GAE9B,IAAMF,EAAQ,2BACT,EAAK5X,MAAM9F,OADF,IAEZ+C,OAAQwa,IAEV,EAAKzX,MAAMP,YAAYmY,MAhF7B,EAmHEjK,cAAgB,SAAC5Q,GACf,IAAI6Z,EAAQ,eAAQ,EAAK5W,MAAM9F,OAC/B0c,EAAS3Z,OAAS2Z,EAAS3Z,OAAOwM,QAAO,SAACtM,GAAD,OAAWA,EAAMC,KAAOL,KACjE,EAAKiD,MAAMP,YAAYmX,IAtH3B,EAwHElC,aAAe,SAAC1X,GACd,IAAI4Z,EAAW3O,KAAKC,MAAMD,KAAKO,UAAU,EAAKxI,MAAM9F,QAC9C2c,EAAWD,EAAS3Z,OAAO6K,WAC/B,SAAC3K,GAAD,OAAWA,EAAMC,KAAO,EAAK2F,MAAM0T,eAAe1Z,WAE9Cgb,EAAWhK,MAAMC,KAAK4I,EAAS3Z,OAAO4Z,GAAUxZ,OAChDwX,EAAUkD,EAASjQ,WAAU,SAACxK,GAAD,OAAUA,EAAKF,KAAOJ,KACzD+a,EAAShQ,OAAO8M,EAAS,GACzB+B,EAAS3Z,OAAO4Z,GAAUxZ,MAAQ0a,EAClC,EAAK/X,MAAMP,YAAYmX,IAjI3B,kEAOuB,IACXja,EAAYoD,KAAKC,MAAMgB,MAAMgX,OAA7Brb,QACRoD,KAAKC,MAAMtD,UAAUC,GACrBiD,EAAcb,QACda,EAAcN,KAAK,mBAAoB3C,GACvCiD,EAAcV,GAAG,qBAAsBa,KAAKC,MAAMiY,yBAZtD,6CAgBIrY,EAAcX,cAhBlB,+BAoIY,IAAD,OACC/E,EAAU6F,KAAKC,MAAf9F,MACR,OAAc,OAAVA,EAAuB,2CAEzB,yBAAKU,UAAU,iBAAiBP,MAAO,CAAEE,gBAAgB,OAAD,OAASL,EAAMG,MAAMC,MAAQJ,EAAMG,MAAMC,MAAQ,GAAjD,KAAwDE,eAAgB,QAASC,iBAAkB,YAAayd,UAAW,OAAQxd,gBAAgB,GAAD,OAAKR,EAAMG,MAAMM,QAAUT,EAAMG,MAAMM,QAAU,MAEzP,kBAAC,GAAD,CAAaT,MAAOA,EAAOuF,YAAaM,KAAKC,MAAMP,cAGnD,kBAAC,KAAD,CAAiBqX,UAAW/W,KAAK+W,WAC/B,kBAAC,IAAD,CAAWlc,UAAU,yBAClBV,EAAM+C,OAAO7B,KAAI,SAAA+B,GAAK,OAAI,kBAAC2R,GAAD,CAAUzC,MAAO,EAAKA,MAAOlP,MAAOA,EAAO9B,IAAK8B,EAAMC,GAAIkF,YAAa,EAAKA,YAAaqL,cAAe,EAAKA,mBACvI5N,KAAKgD,MAAM2T,WACV,kBAAC,GAAD,CAASpU,YAAavC,KAAKuC,YAAa+J,MAAOtM,KAAKsM,MAAO1M,KAAK,QAAQ5C,QAAS,OAEjF,4BAAQnC,UAAU,gBAAgBU,QAAS,kBAAM,EAAKqb,gBAAtD,cAKL5W,KAAKgD,MAAM0T,eAAezZ,QACzB,kBAACqZ,GAAD,CAAa/T,YAAavC,KAAKuC,YAAaoS,aAAc3U,KAAK2U,aAAc1X,OAAQ+C,KAAKgD,MAAM0T,eAAezZ,OAAQD,QAASgD,KAAKgD,MAAM0T,eAAe1Z,eAzJpK,GAAmCwD,aAoK7ByD,GAAqB,CACzBtH,UxBvKK,SAAmBC,GACxB,8CAAO,WAAO+C,GAAP,eAAA1D,EAAA,+EAEiBM,EAAaI,UAAUC,GAFxC,OAEGzC,EAFH,OAGHwF,EAAS,CAAEC,KAAM,YAAazF,UAH3B,gDAKHkC,QAAQC,IAAR,+BALG,yDAAP,uDwBuKAoD,cACAwY,sBxBhIK,SAA+B/d,GACpC,OAAO,SAACwF,GACNA,EAAS,CAAEC,KAAM,eAAgBzF,awBgIxBie,GAAejU,aAVJ,SAACnB,GACvB,MAAO,CACL7I,MAAO6I,EAAMoB,aAAa8C,aAU5BjD,GAF0BE,CAG1BsS,I,SCpLK,SAAS4B,GAAT,GAAuC,IAAhBC,EAAe,EAAfA,aAEpBlP,EAAa,CACf,CACI/O,IAAK,2BACLkM,SAAU,aACV9I,OAAQ,6FACT,CACCpD,IAAK,2BACLkM,SAAU,oBACV9I,OAAQ,+FACT,CACCpD,IAAK,2BACLkM,SAAU,eACV9I,OAAQ,+FACT,CACCpD,IAAK,2BACLkM,SAAU,oBACV9I,OAAQ,+FACT,CACCpD,IAAK,2BACLkM,SAAU,cACV9I,OAAQ,+FAtByB,EA0BT8C,IAAM8I,SAAS,MA1BN,oBA0BlCC,EA1BkC,KA0BxBC,EA1BwB,KAgCnC0D,EAAc,WAChB1D,EAAY,OA6BhB,OACI,yBAAK1O,UAAU,iBACX,4BAAQA,UAAU,oBAAoBuS,gBAAc,cAAcC,gBAAc,OAAO9R,QAnC3E,SAACoO,GACjBJ,EAAYI,EAAMC,iBAmCV,kBAAC,KAAD,CAActP,MAAO,CAAEuP,OAAQ,kBADnC,UAGA,kBAACC,GAAA,EAAD,CACIzM,GAAG,cACHiM,SAAUA,EACVS,aAAW,EACXC,KAAMC,QAAQX,GACdpJ,QAAS+M,GAER7D,GACGA,EAAW/N,KAAI,SAAAgL,GAAM,OACjB,kBAAC6D,GAAA,EAAD,CAAU5O,IAAK+K,EAAOhM,IAAKQ,UAAU,gBACjC,yBAAKA,UAAU,eAAeU,QAAS,kBA1CxC,SAACgL,GAEpB,IAAIgS,EACJ,OAFAtL,IAEQ1G,GACJ,IAAK,aACDgS,EAAa,CAACC,IAAK,EAAGjS,SAAU,cAChC,MACJ,IAAK,oBACDgS,EAAa,CAACC,IAAK,EAAGjS,SAAU,qBAChC,MACJ,IAAK,eACDgS,EAAa,CAACC,IAAK,EAAGjS,SAAU,gBAChC,MACJ,IAAK,oBACDgS,EAAa,CAACC,IAAK,EAAGjS,SAAU,qBAChC,MACJ,IAAK,cACDgS,EAAa,CAACC,IAAK,EAAGjS,SAAU,eAMxC+R,EAAaC,GAmBoD/O,CAAenD,EAAOE,YAC/D,kBAACD,EAAA,EAAD,CAAQ1D,IAAKyD,EAAO5I,OAAQoF,IAAI,MAAMhI,UAAU,aAChD,uBAAGA,UAAU,aAAawL,EAAOE,iBC/EjE,IAAMkS,GAAkB,CACpB,CACIvM,MAAO,GACPwM,UAAW,wBACXC,YAAa,sBACbC,WAAY,sBACZC,iBAAkB,OAClBC,mBAAoB,OACpBC,qBAAsB,sBACtBhd,KAAM,CAAC,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,IAElC,CACImQ,MAAO,GACPwM,UAAW,wBACXC,YAAa,sBACbC,WAAY,sBACZC,iBAAkB,OAClBC,mBAAoB,OACpBC,qBAAsB,sBACtBhd,KAAM,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,MAEhC,CACImQ,MAAO,GACPwM,UAAW,wBACXC,YAAa,sBACbC,WAAY,sBACZC,iBAAkB,OAClBC,mBAAoB,OACpBC,qBAAsB,sBACtBhd,KAAM,CAAC,EAAG,IAAK,EAAG,EAAG,IAAK,EAAG,IAAK,MAEtC,CACImQ,MAAO,GACPwM,UAAW,wBACXC,YAAa,sBACbC,WAAY,sBACZC,iBAAkB,OAClBC,mBAAoB,OACpBC,qBAAsB,sBACtBhd,KAAM,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,IAElC,CACImQ,MAAO,GACPwM,UAAW,wBACXC,YAAa,sBACbC,WAAY,sBACZC,iBAAkB,OAClBC,mBAAoB,OACpBC,qBAAsB,sBACtBhd,KAAM,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,KAGpC,SAASid,GAAST,GACd,MAAO,CACHtM,OAAQ,CAAC,QAAS,QAAS,QAAS,QAAS,QAAS,SAAU,SAAU,UAC1EgN,SAAU,CAACR,GAAgBF,KAGnC,IAAMW,GAAU,CACZC,oBAAoB,EACpBC,mBAAoB,kBACpBC,mBAAoB,EACpBC,0BAA0B,EAC1BC,wBAAwB,EACxBC,aAAa,EACbC,mBAAoB,GACpBC,UAAU,EACVC,eAAgB,EAChBC,oBAAqB,EACrBC,wBAAyB,GACzBC,eAAe,EACfC,mBAAoB,EACpBC,aAAa,EACbC,eAAgB,qOAEdC,GAAS,CACXC,eAAgB,CACZ/G,QAAS,gB,IA4CXgH,G,4MAEFpX,MAAQ,CACJpG,QAAS,KACTyd,MAAO,KACPC,MAAO,KACPC,MAAO,KACP7F,SAAU,c,EASd4D,aAAe,SAACC,GACZlc,QAAQC,IAAI,6BAA8Bic,GAC1C,EAAKnV,SAAS,CAAEmX,MAAOvB,GAAST,EAAWC,OAC3C,EAAKpV,SAAS,CAAEsR,SAAU6D,EAAWhS,Y,EAEzCiU,YAAc,WACV,EAAKva,MAAMsF,QAAQC,KAAnB,iBAAkC,EAAKxC,MAAMpG,W,kEAb5B,IACTA,EAAYoD,KAAKC,MAAMgB,MAAMgX,OAA7Brb,QACRoD,KAAKoD,SAAS,CAAExG,YAChBoD,KAAKoD,SAAS,CAAEiX,MA9Bb,CACHpO,OAHW,CAAC,SAAU,OAAQ,UAI9BgN,SAAU,CAAC,CACPld,KAJK,CAAC,GAAI,GAAI,IAKdpB,gBAAiB,CACb,UACA,UACA,WAEJ8f,qBAAsB,CAClB,UACA,UACA,gBAmBRza,KAAKoD,SAAS,CAAEkX,MAnDb,CACHrO,OAHW,CAAC,OAAQ,cAAe,QAInCgN,SAAU,CAAC,CACPld,KAJK,CAAC,EAAG,EAAG,IAKZpB,gBAAiB,CACb,UACA,UACA,WAEJ8f,qBAAsB,CAClB,UACA,UACA,gBAwCRza,KAAKoD,SAAS,CAAEmX,MAAOvB,GAAS,O,+BAchC,OAAKhZ,KAAKgD,MAAMqX,OAAUra,KAAKgD,MAAMsX,OAAUta,KAAKgD,MAAMuX,MAGtD,6BACI,4BAAQ1f,UAAU,iBAAiBU,QAASyE,KAAKwa,aAAjD,QAEA,yBAAK3f,UAAU,QACX,yBAAKA,UAAU,kBACX,yCACA,yBAAKA,UAAU,mBACX,kBAAC,YAAD,CAAUkB,KAAMiE,KAAKgD,MAAMqX,MAAOnB,QAASA,GACvCne,MAAO,IAAKD,OAAQ,QAGhC,yBAAKD,UAAU,aACX,iDACA,yBAAKA,UAAU,mBACX,kBAAC,OAAD,CAAKkB,KAAMiE,KAAKgD,MAAMsX,MAAOpB,QAASA,GAClCne,MAAO,IAAKD,OAAQ,SAIpC,yBAAKD,UAAU,cACX,0DAAyBmF,KAAKgD,MAAM0R,WACpC,kBAAC2D,GAAD,CAAcC,aAActY,KAAKsY,eACjC,oCACA,yBAAKhe,MAAO4f,GAAOC,gBACf,kBAAC,QAAD,CAAepe,KAAMiE,KAAKgD,MAAMuX,MAC5BrB,QAASA,GACTne,MAAO,IAAKD,OAAQ,SA7BgC,+C,GA5BpD0F,aC3Hb,IACX,CACIka,KAAM,kBACNC,UAAWvC,IAEf,CACIsC,KAAM,kBACNC,UDqLoB3T,aAAWoT,KCnLnC,CACIM,KAAM,SACNC,UAAWzW,GAEf,CACIwW,KAAM,IACNC,UCfD,WACH,OACI,6BACI,yBAAK9f,UAAU,QACf,kBAAC,IAAD,CAAMA,UAAU,QAAQT,GAAG,UAAS,qCAC5C,yBAAKwI,IAAI,mFAAmFC,IAAI,SAGxF,yBAAKhI,UAAU,0BAEX,yBAAKA,UAAU,qBACX,yBAAK+H,IAAI,gGAAgGC,IAAI,QAC7G,yBAAKhI,UAAU,QACX,yDACA,iKAKR,yBAAMA,UAAU,6BACZ,yBAAKA,UAAU,QACX,uDACA,2QAEJ,yBAAK+H,IAAI,gGAAgGC,IAAI,SAGjH,yBAAMhI,UAAU,qBACZ,yBAAK+H,IAAI,gGAAgGC,IAAI,QAC7G,yBAAKhI,UAAU,QACX,6CACA,iP,IC/BlB+f,G,4MAEJ5X,MAAQ,CAEN6X,IAAK,GACLC,UAAW,CACTvU,SAAU,GACVwU,SAAU,K,EAKdC,kBAAoB,SAAC5a,GAAQ,IAAD,EACFA,EAAG0B,OAAnBmZ,EADkB,EAClBA,KAAM9X,EADY,EACZA,MACd,EAAKC,UAAS,SAACuO,GAAD,MAAgB,CAACkJ,IAAI,GACjCC,UAAU,2BACLnJ,EAAUmJ,WADN,kBAENG,EAAO9X,S,EAKd+X,Q,uCAAU,WAAO9a,GAAP,qBAAAnE,EAAA,yDACRmE,EAAGkD,iBADK,EAEuB,EAAKN,MAAM8X,UAAlCvU,EAFA,EAEAA,SAAUwU,EAFV,EAEUA,SACbxU,GAAawU,EAHV,yCAIC,EAAK3X,SAAS,CAAEyX,IAAK,gCAJtB,cAOFM,EAAY,CAAE5U,WAAUwU,YAPtB,SAQW,EAAK9a,MAAM0I,MAAMwS,GAR5B,eAWR,EAAKlb,MAAM4D,eACX,EAAKT,SAAS,CAAE0X,UAAW,CAAEvU,SAAU,GAAIwU,SAAU,OAHxC,EAAK3X,SAAS,CAAEyX,IAAK,yCAT1B,2C,6GAiBR,OACE,6BACE,+CACA,0BAAMhgB,UAAU,aAAawI,SAAUrD,KAAKkb,SACtC,kBAACrF,GAAA,EAAD,CACFxY,GAAG,iBACHuC,KAAK,OACLqb,KAAK,WACL9X,MAAOnD,KAAKgD,MAAM8X,UAAUvU,SAC5BzD,SAAU9C,KAAKgb,kBACf9O,MAAM,WACNkP,QAAQ,aAGV,6BACA,kBAACvF,GAAA,EAAD,CACExY,GAAG,0BACH6O,MAAM,WACNtM,KAAK,WACLqb,KAAK,WACL9X,MAAOnD,KAAKgD,MAAM8X,UAAUC,SAC5BjY,SAAU9C,KAAKgb,kBACfK,aAAa,mBACbD,QAAQ,aAEV,6BAEJpb,KAAKgD,MAAM6X,KAAM,yBAAKhgB,UAAU,aAAf,IAA4B,4BAAKmF,KAAKgD,MAAM6X,MAC9D,6BACA,6BACK,4BAAQhgB,UAAU,iBAAlB,e,GArEW2F,aAiFfyD,GAAqB,CAEzB0E,MCrFK,SAAewS,GACpB,8CAAO,WAAMxb,GAAN,eAAA1D,EAAA,sEACcyM,GAAYC,MAAMwS,GADhC,UACCnd,EADD,+DAGL2B,EAAS,CAAEC,KAAM,WAAY5B,SAC7Bsd,OAAOC,SAASC,OAAO,WAJlB,kBAKExd,GALF,2CAAP,wDDwFWyd,GAAQtX,aAXG,SAACnB,GACvB,MAAO,CACLwT,aAAcxT,EAAMuT,YAAYC,gBASUvS,GAAzBE,CAA6CyW,IEvF5Dc,G,4MACJ1Y,MAAQ,CACN6X,IAAK,GACLc,WAAY,CACVZ,SAAU,GACVxU,SAAU,K,EAIdqV,mBAAqB,SAACxb,GAAQ,IAAD,EACHA,EAAG0B,OAAnBmZ,EADmB,EACnBA,KAAM9X,EADa,EACbA,MACd,EAAKC,UAAS,SAACuO,GAAD,MAAgB,CAACkJ,IAAI,GACjCc,WAAW,2BACNhK,EAAUgK,YADL,kBAEPV,EAAO9X,S,EAKd0Y,S,uCAAW,WAAOzb,GAAP,qBAAAnE,EAAA,yDACTmE,EAAGkD,iBADM,EAEsB,EAAKN,MAAM2Y,WAAlCpV,EAFC,EAEDA,SAAUwU,EAFT,EAESA,SACbxU,GAAawU,EAHT,yCAIA,EAAK3X,SAAS,CAAEyX,IAAK,8BAJrB,OAMHiB,EAAc,CAAEvV,WAAUwU,YAChC,EAAK9a,MAAM4I,OAAOiT,GAClB,EAAK7b,MAAM4D,eACX,EAAKT,SAAS,CAAEuY,WAAY,CAAEpV,SAAU,GAAIwU,SAAU,MAT7C,2C,6GAaT,OACE,6BACE,iDACA,0BAAMlgB,UAAU,aAAawI,SAAUrD,KAAK6b,UAE1C,kBAAChG,GAAA,EAAD,CACExY,GAAG,iBACHuC,KAAK,OACLqb,KAAK,WACL9X,MAAOnD,KAAKgD,MAAM2Y,WAAWpV,SAC7BzD,SAAU9C,KAAK4b,mBACf1P,MAAM,WACNkP,QAAQ,aAGV,6BAEA,kBAACvF,GAAA,EAAD,CACExY,GAAG,0BACH6O,MAAM,WACNtM,KAAK,WACLqb,KAAK,WACL9X,MAAOnD,KAAKgD,MAAM2Y,WAAWZ,SAC7BjY,SAAU9C,KAAK4b,mBACfP,aAAa,mBACbD,QAAQ,aAEV,6BACCpb,KAAKgD,MAAM6X,KAAM,yBAAKhgB,UAAU,aAAf,IAA4B,4BAAKmF,KAAKgD,MAAM6X,MACnE,6BACA,6BACK,4BAAQhgB,UAAU,iBAAlB,gB,GA/DY2F,aA4EhByD,GAAqB,CACzB4E,ODtEK,SAAgBsS,GACrB,8CAAO,WAAMxb,GAAN,eAAA1D,EAAA,sEACcyM,GAAYG,OAAOsS,GADjC,OACCnd,EADD,OAEL2B,EAAS,CAAEC,KAAM,WAAY5B,SAC7Bsd,OAAOC,SAASC,OAAO,WAHlB,2CAAP,wDCwEWO,GAAS5X,aATE,SAACnB,GACvB,MAAO,CACLwT,aAAcxT,EAAMuT,YAAYC,gBAOWvS,GAAzBE,CAA6CuX,IC7E7DM,G,4MACJC,YAAa,E,EACbjZ,MAAQ,CACNkZ,UAAU,EACVC,UAAU,EACVC,aAAa,EACbC,MAAM,G,EAURC,WAAa,WACX,EAAKlZ,SAAS,CAAE8Y,UAAU,EAAME,aAAa,EAAMD,UAAU,K,EAG/DI,WAAa,WACX,EAAKnZ,SAAS,CAAE+Y,UAAU,EAAMC,aAAa,EAAMF,UAAU,K,EAG/DrY,aAAe,WACb,EAAKT,SAAS,CAAE+Y,UAAU,EAAOC,aAAa,EAAOF,UAAU,EAAOG,MAAM,K,EAE9Enc,QAAU,WACR,EAAKkD,SAAS,CAAE+Y,UAAU,EAAOC,aAAa,EAAOF,UAAU,K,EAEjE5b,YAAc,WACZ,EAAK8C,SAAS,CAAE+Y,UAAU,EAAOD,UAAU,K,EAE7CM,SAAW,WACT,EAAKpZ,SAAS,CAAEiZ,MAAM,IACtB,EAAKpc,MAAM2I,U,kEAzBP5I,KAAKC,MAAMuW,cAAcxW,KAAKoD,SAAS,CAAEiZ,MAAM,M,6CAGnDrc,KAAKic,YAAa,I,+BA0BOjc,KAAKC,MAAtBuW,aAER,OACE,yBAAK3b,UAAU,6BACb,yBAAKA,UAAU,YAAW,kBAAC,IAAD,CAAST,GAAG,UAAZ,WAC1B,yBAAKS,UAAU,QAAO,kBAAC,IAAD,CAAST,GAAG,KAAZ,OAAoB,0BAAMS,UAAU,UAAhB,KAApB,MAEtB,yBAAKA,UAAS,0BAAuBmF,KAAKgD,MAAMqZ,KAAa,OAAL,IAAe9gB,QAASyE,KAAKuc,YAArF,WACA,yBAAK1hB,UAAS,0BAAuBmF,KAAKgD,MAAMqZ,KAAa,OAAL,IAAe9gB,QAASyE,KAAKsc,YAArF,SACA,yBAAKzhB,UAAS,0BAAuBmF,KAAKgD,MAAMqZ,KAAiB,GAAT,QAAe9gB,QAASyE,KAAKwc,UAArF,UAECxc,KAAKgD,MAAMkZ,UAAY,kBAAC,EAAD,CACtB/b,UAAU,EACVD,QAASF,KAAKE,QACdH,SAAU,kBAAC0b,GAAD,CAAO5X,aAAc7D,KAAK6D,iBAErC7D,KAAKgD,MAAMmZ,UAAY,kBAAC,EAAD,CACtB7b,YAAaN,KAAKM,YAClBH,UAAU,EACVD,QAASF,KAAKE,QACdH,SAAU,kBAACgc,GAAD,CAAQlY,aAAc7D,KAAK6D,sB,GA3DzBtD,IAAMC,WAuEtByD,GAAqB,CACzB2E,OF7DK,WACL,8CAAO,WAAMjJ,GAAN,SAAA1D,EAAA,sEACCyM,GAAYE,SADb,OAELjJ,EAAS,CAAEC,KAAM,WAAY5B,KAAM,OACnCsd,OAAOC,SAASC,OAAO,MAHlB,2CAAP,wDE+DWiB,GAAStY,aATE,SAACnB,GACvB,MAAO,CACLwT,aAAcxT,EAAMuT,YAAYC,gBAOWvS,GAAzBE,CAA6C6C,aAAWgV,KC9D/DU,OAff,WACE,OACE,yBAAK7hB,UAAU,OACb,kBAAC,IAAD,KACE,kBAAC4hB,GAAD,MACA,kBAAC,KAAD,KACKE,GAAOthB,KAAI,SAAAuhB,GAAK,OAAI,kBAAC,KAAD,CAAOthB,IAAKshB,EAAMlC,KAAMmC,OAAK,EAAClC,UAAWiC,EAAMjC,UAAWD,KAAMkC,EAAMlC,c,mBCZjGoC,GAAe,CACjB5hB,OAAQ,GACRgM,UAAY,MCChB,IAAM4V,GAAe,CACnBtG,aAAc,MCEhB,IAAMuG,GAAcC,aAAgB,CAChC5Y,aFFK,WAAqD,IAA/BpB,EAA8B,uDAAtB8Z,GAAcjL,EAAQ,uCACzD,OAAQA,EAAOjS,MACb,IAAK,aAEH,OAAO,2BACFoD,GADL,IAEE9H,OAAO,aAAK2W,EAAO3W,UAErB,IAAK,YACD,OAAO,2BACF8H,GADL,IAEEkE,UAAU,eAAK2K,EAAO1X,SAE9B,IAAK,eACH,OAAO,2BACF6I,GADL,IAEE9H,OAAQ8H,EAAM9H,OAAOwO,QAAO,SAACvP,GAAD,OAAWA,EAAME,MAAQwX,EAAOxU,QAGhE,IAAK,YACH,OAAO,2BACF2F,GADL,IAEE9H,OAAO,GAAD,oBAAM8H,EAAM9H,QAAZ,CAAoB2W,EAAO1X,UAErC,IAAK,eACH,OAAO,2BACF6I,GADL,IAEEkE,UAAU,eAAK2K,EAAO1X,SAG1B,QACE,OAAO6I,IE5BXuT,YDDG,WAA0D,IAApCvT,EAAmC,uDAA3B8Z,GAAcjL,EAAa,uDAAJ,GAC1D,OAAQA,EAAOjS,MACb,IAAK,WACH,OAAO,2BAAKoD,GAAZ,IAAmBwT,aAAc3E,EAAO7T,OAC1C,QACE,OAAOgF,MCDPia,GAAmB3B,OAAO4B,sCAAwCC,KAE3DC,GAAQC,aAAYN,GAAaE,GAAiBK,aAAgBC,Q,OCJ/EC,IAASC,OACN,kBAAC,IAAMC,WAAP,KACC,kBAAC,IAAD,CAAUN,MAAQA,IAClB,kBAAC,GAAD,QAGFO,SAASC,eAAe,W","file":"static/js/main.5bbbe350.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function BoardPreview({ board }) {\r\n  return (\r\n    <div>\r\n     \r\n      <Link to={`/board/${board._id}`}>\r\n        <div\r\n          style={\r\n            (board.style && board.style.bgImg)\r\n              ? {\r\n                backgroundImage: `url(${board.style && board.style.bgImg})`,\r\n                backgroundSize: \"cover\",\r\n                backgroundRepeat: \"no-repeat\",\r\n              }\r\n              : {\r\n                backgroundColor: `${board.style.bgColor ? board.style.bgColor : \"green\"\r\n                  }`,\r\n              }\r\n          }\r\n          className=\"board-preview flex align-center\"\r\n        >\r\n          <h3 style={{backgroundColor: 'rgb(1 139 152 / 15%)',\r\n    height: '25px', width: '100%'}}>{board.title}</h3>\r\n\r\n\r\n        </div>\r\n      </Link>\r\n      \r\n    </div>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport BoardPreview from './BoardPreview';\r\n\r\n\r\n\r\nexport function BoardList({ boards, onAddBoard }) {\r\n  return <div>\r\n\r\n    <div dir=\"rtl\" className=\"board-list grid\">\r\n      {boards.map(board => <BoardPreview board={board} key={board._id} />)}\r\n      <div onClick={onAddBoard} style={{ backgroundColor: \"none\", cursor: \"pointer\" }} className=\"board-preview grid \">\r\n        <h3 style={{ paddingTop: '10px' }}>Create new board</h3 >\r\n      </div>\r\n    </div>\r\n  </div>\r\n}\r\n","import Axios from 'axios';\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n});\r\n\r\nexport default {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'get', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data\r\n        })\r\n        return res.data;\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`);\r\n        console.dir(err);\r\n        // if (err.response && err.response.status === 401) {\r\n        //     window.location.assign('/#/login');\r\n        // }\r\n        throw err;\r\n    }\r\n}","\r\nimport httpService from './httpService';\r\n\r\nexport const boardService = {\r\n  query,\r\n  loadBoard,\r\n  removeBoard,\r\n  update,\r\n  getCardById,\r\n  create,\r\n  makeId,\r\n  addActivity,\r\n  removeActivities\r\n};\r\n\r\nfunction query(filterBy) {\r\n  return httpService.get(`board`);\r\n}\r\nfunction loadBoard(boardId) {\r\n  return httpService.get(`board/${boardId}`)\r\n}\r\nfunction update(board) {\r\n  return httpService.put(`board/${board._id}`, board);\r\n}\r\nfunction removeBoard(boardId) {\r\n  return httpService.delete(`board/${boardId}`);\r\n}\r\nfunction create(txt, imgUrl) {\r\n  const board = _createBoard(txt, imgUrl)\r\n  return httpService.post(`board`, board);\r\n}\r\nfunction _createBoard(txt, imgUrl) {\r\n  return {\r\n    title: txt,\r\n    style: { bgImg: imgUrl },\r\n    groups: [{\r\n      id: 'g' + makeId(),\r\n      title: \"New List\",\r\n      cards: [\r\n        {\r\n          id: 'c' + makeId(),\r\n          title: \"New Card\",\r\n          description: \"Add your description...\",\r\n        }\r\n      ]\r\n    }\r\n    ]\r\n  }\r\n}\r\nfunction getCardById(board, groupId, cardId) {\r\n  const group = board.groups.find(group => group.id === groupId)\r\n  return group.cards.find(card => card.id === cardId)\r\n}\r\nfunction addActivity(board, ActivityType, changeIn, user) {\r\n  if (!board.activities) {\r\n    board.activities = []\r\n  }\r\n  const activities = board.activities\r\n  activities.unshift({\r\n    id: 'a' + makeId(),\r\n    title: ActivityType,\r\n    createdAt: new Date(),\r\n    propertyTitle: changeIn.title,\r\n    byMember: user\r\n  })\r\n  return board\r\n}\r\nfunction removeActivities(board) {\r\n  board.activities = []\r\n  return board\r\n}\r\nfunction makeId(length = 5) {\r\n  var txt = '';\r\n  var possible = '0123456789abcdefgABCDEFG';\r\n  for (var i = 0; i < length; i++) {\r\n    txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n  }\r\n  return txt;\r\n}","import io from 'socket.io-client';\r\n\r\nconst BASE_URL =\r\n  process.env.NODE_ENV === 'production' ? '/' : '//localhost:3030';\r\n\r\nlet socket;\r\n\r\nexport default {\r\n  setup,\r\n  terminate,\r\n  on,\r\n  off,\r\n  emit,\r\n  broadcastEmit\r\n};\r\n\r\nfunction setup() {\r\n  socket = io(BASE_URL);\r\n}\r\n\r\nfunction terminate() {\r\n  socket = null;\r\n}\r\n\r\nfunction on(eventName, cb) {\r\n  socket.on(eventName, cb);\r\n}\r\n\r\nfunction off(eventName, cb) {\r\n  socket.off(eventName, cb);\r\n}\r\n\r\nfunction emit(eventName, data) {\r\n  socket.emit(eventName, data);\r\n}\r\n\r\nfunction broadcastEmit(eventName, data) {\r\n  socket.broadcast.emit(eventName, data);\r\n}\r\n","import { boardService } from \"../../services/boardService\";\r\nimport socketService from \"../../services/socketService\";\r\n\r\nexport function loadBoards() {\r\n  return async (dispatch) => {\r\n    try {\r\n      const boards = await boardService.query()\r\n      dispatch({ type: \"SET_BOARDS\", boards });\r\n    } catch (err) {\r\n      console.log(`ERROR: while loading boards`)\r\n    }\r\n  };\r\n}\r\nexport function loadBoard(boardId) {\r\n  return async (dispatch) => {\r\n    try {\r\n      const board = await boardService.loadBoard(boardId)\r\n      dispatch({ type: \"SET_BOARD\", board });\r\n    } catch (err) {\r\n      console.log(`ERROR: while loadding board`)\r\n    }\r\n  };\r\n}\r\nexport function removeBoard(id) {\r\n  return async (dispatch) => {\r\n    try {\r\n      await boardService.removeBoard(id)\r\n      dispatch({ type: \"REMOVE_BOARD\", id });\r\n    } catch (err) {\r\n      console.log(`ERROR: while remove board`)\r\n    }\r\n  };\r\n}\r\nexport function addBoard(txt, imgUrl) {\r\n  return async (dispatch) => {\r\n    try {\r\n      const board = await boardService.create(txt, imgUrl)\r\n      dispatch({ type: \"ADD_BOARD\", board });\r\n    } catch (err) {\r\n      console.log(`ERROR: while adding board`)\r\n    }\r\n  };\r\n}\r\nexport function updateBoard(board) { //I'm updating the board\r\n  return async (dispatch) => {\r\n    dispatch({ type: \"UPDATE_BOARD\", board });\r\n    try {\r\n      await boardService.update(board)\r\n      socketService.emit('update board', board);\r\n    } catch (err) {\r\n      console.log(`ERROR: while update board`)\r\n    }\r\n  };\r\n}\r\nexport function updateBoardFromSocket(board) { //Someone else updated the board\r\n  return (dispatch) => {\r\n    dispatch({ type: \"UPDATE_BOARD\", board });\r\n  };\r\n}\r\n","import React from \"react\";\r\n\r\nexport class Modal extends React.Component {\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return (\r\n      <div className=\"modal-wrapper\" onClick={this.props.onClose}>\r\n        <div\r\n          className={` ${\r\n            !this.props.isForLog ? \"modal-content\" : \"login-modal\"\r\n          } flex column  align-center`}\r\n          onClick={(ev) => ev.stopPropagation()}\r\n        >\r\n          {children}\r\n\r\n          {this.props.isForLog && this.props.onLoginHere && (\r\n            <p>\r\n              Already have an account?{\" \"}\r\n              <span onClick={this.props.onLoginHere}>login here</span>\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","// import { Image } from 'cloudinary-react';\r\n\r\nexport const cloudinaryService = {\r\n    uploadImg,\r\n    dataURLtoFile,\r\n    uploadCanvasImg\r\n}\r\n\r\nasync function uploadImg(ev) {\r\n    const CLOUD_NAME = \"cloudinary-img\"\r\n    const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\r\n\r\n    const formData = new FormData();\r\n    formData.append('file', ev.target.files[0])\r\n    formData.append('upload_preset', 'ml_default');\r\n    try {\r\n        const res = await fetch(UPLOAD_URL, {\r\n            method: 'POST',\r\n            body: formData\r\n        })\r\n        const data = await res.json()\r\n        return data.secure_url\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}\r\nfunction dataURLtoFile(dataurl, filename) {\r\n \r\n    var arr = dataurl.split(','),\r\n        mime = arr[0].match(/:(.*?);/)[1],\r\n        bstr = atob(arr[1]), \r\n        n = bstr.length, \r\n        u8arr = new Uint8Array(n);\r\n        \r\n    while(n--){\r\n        u8arr[n] = bstr.charCodeAt(n);\r\n    }\r\n    \r\n    return new File([u8arr], filename, {type:mime}); \r\n}\r\n\r\nasync function uploadCanvasImg(file) {\r\n    const CLOUD_NAME = \"cloudinary-img\"\r\n    const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\r\n\r\n    const formData = new FormData();\r\n    formData.append('file', file)\r\n    formData.append('upload_preset', 'ml_default');\r\n    try {\r\n        const res = await fetch(UPLOAD_URL, {\r\n            method: 'POST',\r\n            body: formData\r\n        })\r\n        const data = await res.json()\r\n        return data.secure_url\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}\r\n\r\n\r\n\r\n","import React, { Component } from 'react'\r\n\r\n\r\n\r\n\r\n\r\nimport { cloudinaryService } from '../services/cloudinaryService'\r\n\r\nexport class AddImg extends Component {\r\n\r\n    onSelectImg = (imgUrl) => {\r\n        if (this.props.card) {\r\n            this.props.card.imgUrl = imgUrl\r\n            this.props.updateState('isAddImgModalShown', false)\r\n            return this.props.card\r\n        }\r\n        else {\r\n            this.props.onAddimg(imgUrl)\r\n\r\n        }\r\n\r\n    }\r\n    onAddImg = async (ev) => {\r\n        console.log(ev.target.files[0])\r\n        const imgUrl = await cloudinaryService.uploadImg(ev)\r\n        this.onSelectImg(imgUrl)\r\n    }\r\n\r\n    render() {\r\n        const imgUrls = [\r\n            'https://res.cloudinary.com/dsfnyykw9/image/upload/v1600679540/markus-spiske-1LLh8k2_YFk-unsplash_isgzdk.jpg',\r\n            'https://res.cloudinary.com/cloudinary-img/image/upload/v1600352679/Taskit/tony-yeung-Exq6e9gH4Ag-unsplash_e7ltjx.jpg',\r\n            'https://res.cloudinary.com/cloudinary-img/image/upload/v1600352678/Taskit/seth-doyle--AFVBe7VGqQ-unsplash_xjlclq.jpg',\r\n            'https://res.cloudinary.com/dsfnyykw9/image/upload/v1600675580/pawel-czerwinski-3k9PGKWt7ik-unsplash_n9aon0.jpg',\r\n            'https://res.cloudinary.com/dsfnyykw9/image/upload/v1600670107/cristina-gottardi-iInYwn194Tk-unsplash_l5wrah.jpg',\r\n            'https://res.cloudinary.com/dsfnyykw9/image/upload/v1600670064/you-x-ventures-Oalh2MojUuk-unsplash_vl1wmw.jpg',\r\n            'https://res.cloudinary.com/dsfnyykw9/image/upload/v1600670112/scott-graham-5fNmWej4tAA-unsplash_wrvxnx.jpg',\r\n            'https://res.cloudinary.com/dsfnyykw9/image/upload/v1600670086/giusy-iordache-ZtqDLEkJPcc-unsplash_ywibhv.jpg',\r\n            'https://res.cloudinary.com/dsfnyykw9/image/upload/v1600680300/irfan-simsar-wxWulfjN-G0-unsplash_xwffbk.jpg',\r\n            'https://res.cloudinary.com/dsfnyykw9/image/upload/v1601031276/carousel-1684591_s4p4ih.png',\r\n        ]\r\n        return (\r\n            <div className=\"add-img-page\">\r\n                {!this.props.isForBoard && <div className=\"empty-modal\" onClick={() => this.props.updateState('isAddImgModalShown', false)}></div>}\r\n\r\n                <div className={(this.props.isForBoard) ? '' : 'add-img-modal flex column'}>\r\n                    <div className=\"add-private-img\">\r\n                        {imgUrls.map((imgUrl, index) => <img onClick={() => this.onSelectImg(imgUrl)} className=\"img-preview\" key={index} src={imgUrl} alt=\"Loading\" />)}\r\n                        <input onChange={this.onAddImg} style={{ width: '180px' }} type=\"file\" />\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport { AddImg } from './AddImg';\r\n\r\nexport class AddBoard extends React.Component {\r\n\r\n    state = {\r\n        text: '',\r\n        imgUrl: ''\r\n    }\r\n    handleValueChange = (ev) => {\r\n        const text = ev.target.value;\r\n        this.setState({ text })\r\n    }\r\n    onSubmit = (ev) => {\r\n        ev.preventDefault();\r\n        this.props.saveBoard(this.state.text, this.state.imgUrl)\r\n        this.setState({ text: '', imgUrl: '' })\r\n    }\r\n\r\n    onAddimg = (imgUrl) => {\r\n        this.setState({ imgUrl: imgUrl })\r\n\r\n    }\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <form className=\"add-board-form flex column\" onSubmit={this.onSubmit}>\r\n                    <input className=\"board-name-input\" placeholder=\"Board name\"\r\n                        type=\"text\"\r\n                        onChange={this.handleValueChange}\r\n                        value={this.state.text}\r\n                    />\r\n                    <AddImg isForBoard={this.props.isForBoard} onAddimg={this.onAddimg} />\r\n                    <div className=\"flex\">\r\n                        <button className=\"btn\" >Add Board</button>\r\n                        {this.state.imgUrl && <img className=\"img-board-preview\" src={this.state.imgUrl} alt=\"Loading\" />}\r\n                    </div>\r\n\r\n                </form>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { BoardList } from '../cmps/BoardList'\r\nimport { loadBoards, addBoard } from '../store/actions/boardActions'\r\nimport { Modal } from '../cmps/Modal'\r\nimport { AddBoard } from '../cmps/AddBoard'\r\n\r\n\r\nclass _BoardApp extends Component {\r\n\r\n    state = {\r\n        isAddBoardShown: false,\r\n        isImgForBoard: false,\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.loadBoards()\r\n    }\r\n\r\n    onShowModal = () => {\r\n        this.setState({ isAddBoardShown: true, isImgForBoard: true })\r\n    }\r\n    onCloseModal = () => {\r\n        this.setState({ isAddBoardShown: false, isImgForBoard: false })\r\n    }\r\n\r\n    onSaveBoard = (txt, imgUrl) => {\r\n        this.props.addBoard(txt, imgUrl)\r\n        this.onCloseModal()\r\n    }\r\n\r\n    render() {\r\n        const { boards } = this.props\r\n        return (\r\n            <div className=\"board-app flex column\">\r\n\r\n\r\n                <div className=\"ba-boards flex align-center fiftyPh hundredPw space-evenly\">\r\n                    <div  className=\" h1-div thirdyPw flex hundredPh\"><h1>Your Boards:</h1></div>\r\n\r\n                    <div className=\"seventyPw flex justify-center\"><BoardList boards={boards} onAddBoard={this.onShowModal} />\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <div className=\"ba-templates flex align-center fiftyPh hundredPw space-evenly\">\r\n                <div  className=\" h1-div thirdyPw flex hundredPh\"><h1>Template Boards:</h1></div>\r\n\r\n                    <div className=\"seventyPw flex justify-center\">\r\n                        <BoardList boards={boards} onAddBoard={this.onShowModal} />\r\n                    </div>\r\n                </div>\r\n\r\n                {this.state.isAddBoardShown && <Modal onClose={this.onCloseModal}\r\n                    children={<AddBoard isForBoard={this.state.isImgForBoard} saveBoard={this.onSaveBoard} onClose={this.onCloseModal} />} />}\r\n            </div>\r\n        )\r\n\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        boards: state.boardReducer.boards,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadBoards,\r\n    addBoard\r\n}\r\n\r\nexport const BoardApp = connect(mapStateToProps, mapDispatchToProps)(_BoardApp)\r\n\r\n\r\n","import React from \"react\";\r\n\r\nexport class MenuColorModal extends React.Component {\r\n    onSelectColor = (color, ev) => {\r\n        ev.stopPropagation()\r\n        this.props.onAddColor(color)\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        const colors = [\r\n            '#98D4BB',\r\n            '#9AC8EB',\r\n            '#5784BA',\r\n            '#37667E',\r\n            '#BEB4C5',\r\n            '#F27348',\r\n            '#DC828F',\r\n            '#A15D98',\r\n            '#F7CE76',\r\n            '#F4C815',\r\n        ]\r\n        return (\r\n            <div className=\"board-menu-color-container\">\r\n\r\n                {colors.map(color => <span onClick={(ev) => this.onSelectColor(color, ev)} className=\"color-preview\" style={{ backgroundColor: color }} />)}\r\n            </div>\r\n\r\n        )\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport Swal from 'sweetalert2'\r\n// import { BsListNested, BsCardHeading } from \"react-icons/bs\";\r\nimport { Avatar } from '@material-ui/core';\r\nimport { VscChromeClose } from \"react-icons/vsc\";\r\nimport { IoIosArrowBack } from \"react-icons/io\";\r\nimport { connect } from \"react-redux\";\r\nimport { MdColorLens } from \"react-icons/md\";\r\nimport { AiOutlineMenu } from \"react-icons/ai\";\r\nimport { GoGraph } from \"react-icons/go\";\r\n\r\n\r\n// import { createBrowserHistory } from 'history';\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport { AddImg } from './AddImg';\r\nimport { MenuColorModal } from './MenuColorModal'\r\nimport { updateBoard } from \"../store/actions/boardActions\";\r\nimport { FaFileImage, FaTrashAlt } from \"react-icons/fa\";\r\nimport { boardService } from '../services/boardService'\r\n\r\nimport Scroll from 'react-scroll';\r\nvar Element = Scroll.Element;\r\n\r\nexport class _SideMenu extends Component {\r\n\r\n    state = {\r\n        isChooseImg: false,\r\n        isChooseBgc: false,\r\n        idGraphShown: false,\r\n    }\r\n\r\n    onChangeBoardImg = () => {\r\n        this.setState({ isChooseImg: true })\r\n    }\r\n    onChangeBoardColor = () => {\r\n        this.setState({ isChooseColor: true })\r\n    }\r\n    onBackToMenu = () => {\r\n\r\n        if (!this.state.isChooseImg && !this.state.isChooseColor) {\r\n            this.props.onToggleMenu()\r\n            return\r\n        }\r\n        this.setState({ isChooseImg: false, isChooseColor: false })\r\n    }\r\n    onChangeImg = (imgUrl) => {\r\n        const board = this.props.board\r\n        board.style.bgImg = imgUrl\r\n        board.style.bgColor = ''\r\n        this.props.updateBoard(board)\r\n\r\n    }\r\n    onChangeColor = (color) => {\r\n        const board = this.props.board\r\n        board.style.bgColor = color\r\n        board.style.bgImg = ''\r\n        this.props.updateBoard(board)\r\n    }\r\n    onOpenGraph = () => {\r\n        this.props.onToggleMenu()\r\n        this.props.history.push(`/graph/${this.props.board._id}`)\r\n    }\r\n    removeAllActivity = () => {\r\n        Swal.fire({\r\n            title: 'Are you sure?',\r\n            text: \"You won't be able to revert the activities\",\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: 'rgb(221 51 51 / 78%)',\r\n            cancelButtonColor: 'rgb(48 133 214 / 83%)',\r\n            confirmButtonText: 'Yes, delete all'\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                const board = boardService.removeActivities(this.props.board)\r\n                this.props.updateBoard(board)\r\n            }\r\n        })\r\n    }\r\n    getAvatar(member) {\r\n        if (member && member.imgUrl) {\r\n            return <Avatar key={member._id} src={member.imgUrl} className=\"avatar\" />\r\n        }\r\n        if (member) {\r\n            return <Avatar key={member._id} className=\"avatar\">{member.userName.substring(0, 1).toUpperCase()}{member.userName.substring(1, 2).toUpperCase()}</Avatar>\r\n        }\r\n        return <Avatar className=\"avatar\" />\r\n    }\r\n    onRemoveBoard = async () => {\r\n        const answer = await Swal.fire({\r\n            title: 'Are you sure?',\r\n            text: \"You won't be able to revert the board\",\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: 'rgb(221 51 51 / 78%)',\r\n            cancelButtonColor: 'rgb(48 133 214 / 83%)',\r\n            confirmButtonText: 'Yes, delete the Board'\r\n        })\r\n        if (answer.isConfirmed) {\r\n            await boardService.removeBoard(this.props.board._id)\r\n            this.props.history.push('/board')\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { activities } = this.props.board\r\n        return (\r\n            <div className=\"side-menu\" >\r\n                <Element style={{\r\n                    height: 'calc(100vh - 60px)',\r\n                    width: '100%',\r\n                    overflow: 'scroll',\r\n                    overflowX: 'hidden',\r\n                    paddingLeft: '5px'\r\n                }}>\r\n                    <div className=\"menu-header flex space-between\">\r\n                        <IoIosArrowBack onClick={this.onBackToMenu} />\r\n                        <span style={{ color: 'black' }}>Menu</span>\r\n                        <VscChromeClose onClick={this.props.onToggleMenu} className=\"close-modal-btn\" />\r\n                    </div>\r\n\r\n                    <hr />\r\n                    {this.state.isChooseImg && <AddImg isForBoard={true} onAddimg={this.onChangeImg} />}\r\n                    {this.state.isChooseColor && <MenuColorModal onAddColor={this.onChangeColor} />}\r\n                    {!this.state.isChooseImg && !this.state.isChooseColor && <div>\r\n                        <div className=\"menu-actions flex column\">\r\n                            {/* <div className=\"menu-action flex\" ><BsCardHeading /><span>Change Name</span></div> */}\r\n                            <div className=\"menu-action flex\" onClick={this.onChangeBoardImg}><FaFileImage /><span>Change board Img</span></div>\r\n                            <div className=\"menu-action flex\" onClick={this.onChangeBoardColor}><MdColorLens /><span>Change board color</span></div>\r\n                            <div className=\"menu-action flex\" onClick={this.onRemoveBoard}><FaTrashAlt /><span>Delete Board</span></div>\r\n\r\n                        </div>\r\n                        <hr />\r\n                        <div className=\"menu-action flex\" style={{paddingLeft:'5px'}} onClick={this.onOpenGraph}><GoGraph /><span>Graph</span></div>\r\n                        <hr />\r\n                        <div className=\"activity-log flex align-center space-between\">\r\n                            <div className=\"flex align-center\">\r\n                                <AiOutlineMenu />\r\n                                <span> Activity</span>\r\n                            </div>\r\n                            <p className=\"delete-activities\" onClick={this.removeAllActivity}>Delete all</p>\r\n                        </div>\r\n                        {activities && <div>\r\n                            <ul className=\"side-menu-list\">\r\n                                {activities.map(activity =>\r\n                                    <li key={activity.id} className=\"one-activity flex\">\r\n\r\n                                        <span className=\"user-avatar\">{this.getAvatar(activity.byMember)}</span>\r\n\r\n                                        <div className=\"one-activity flex column\">\r\n\r\n                                            <p>\r\n                                                <span className=\"user-name\">{activity.byMember ? activity.byMember.userName : 'Guest'}</span>\r\n                                                <span className=\"action-name\">{' ' + activity.title}</span>\r\n                                            </p>\r\n                                            <p>Card: {activity.propertyTitle}</p>\r\n                                        </div>\r\n                                    </li>\r\n                                )}\r\n                            </ul>\r\n                        </div>\r\n                        }\r\n                    </div>}\r\n                </Element>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        board: state.boardReducer.currBoard,\r\n    };\r\n};\r\nconst mapDispatchToProps = {\r\n    updateBoard\r\n};\r\n\r\nconst SideMenuWithRouter = withRouter(_SideMenu)\r\n\r\nexport const SideMenu = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(SideMenuWithRouter);\r\n\r\n\r\n","\r\n\r\nexport default {\r\n    query,\r\n    get,\r\n    post,\r\n    put,\r\n    remove,\r\n}\r\n\r\nfunction query(entityType) {\r\n    var entities = JSON.parse(localStorage.getItem(entityType)) || []\r\n    return Promise.resolve(entities);\r\n}\r\n\r\n\r\nfunction get(entityType, entityId) {\r\n    return query(entityType)\r\n        .then(entities => entities.find(entity => entity._id === entityId))\r\n}\r\nfunction post(entityType, newEntity) {\r\n    newEntity._id = _makeId()\r\n    return query(entityType)\r\n        .then(entities => {\r\n            entities.push(newEntity);\r\n            _save(entityType, entities)\r\n            return newEntity;\r\n        })\r\n}\r\n\r\n\r\n\r\nfunction put(entityType, updatedEntity) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            const idx = entities.findIndex(entity => entity._id === updatedEntity._id);\r\n            entities.splice(idx, 1, updatedEntity)\r\n            _save(entityType, entities)\r\n            return updatedEntity;\r\n        })\r\n}\r\n\r\nfunction remove(entityType, entityId) {\r\n    return query(entityType)\r\n        .then(entities => {\r\n            const idx = entities.findIndex(entity => entity._id === entityId);\r\n            entities.splice(idx, 1)\r\n            _save(entityType, entities)\r\n        })\r\n}\r\n\r\n\r\nfunction _save(entityType, entities) {\r\n    localStorage.setItem(entityType, JSON.stringify(entities))\r\n}\r\n\r\nfunction _makeId(length = 5) {\r\n    var text = \"\";\r\n    var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n    for (var i = 0; i < length; i++) {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return text;\r\n}","import httpService from \"./httpService\";\r\nimport storageService from './asyncStorageService'\r\n\r\nexport const userService ={\r\n  login,\r\n  logout,\r\n  signup,\r\n  getById,\r\n  update,\r\n  loginAsGuest\r\n};\r\n\r\n\r\n\r\nasync function login(userCred) {\r\n  const user = await httpService.post('auth/login', userCred)\r\n  return _handleLogin(user)\r\n}\r\nasync function signup(userCred) {\r\n  const user = await httpService.post('auth/signup', userCred)\r\n  return _handleLogin(user)\r\n}\r\nasync function logout() {\r\n  await httpService.post('auth/logout');\r\n  // sessionStorage.clear();\r\n}\r\nfunction _handleLogin(user) {\r\n  // sessionStorage.setItem('user', JSON.stringify(user))\r\n  return user;\r\n}\r\nfunction getById(userId) {\r\n  console.log(\"getById -> userId\", userId)\r\n  return httpService.get(`user/${userId}`);\r\n  // return storageService.get('user', userId)\r\n}\r\n\r\nfunction update(user) {\r\n  return storageService.put('user', user)\r\n  // return httpService.put(`user/${user._id}`, user);\r\n}\r\n\r\n\r\n// async function signup(userCred) {\r\n//   userCred._id ='u'+ makeId\r\n//   const user = await storageService.post('user', userCred)\r\n//     return _handleLogin(user)\r\n\r\n//   // const user = await httpService.post(\"auth/signup\", userCred);\r\n//   // return _handleLogin(user);\r\n// }\r\n\r\n// async function logout() {\r\n//   // await httpService.post(\"auth/logout\");\r\n//   // sessionStorage.clear();\r\n//   sessionStorage.clear()\r\n  \r\n// }\r\n\r\n\r\n\r\nfunction loginAsGuest(){\r\n    const user = { _id: 'u104', userName: 'Guest'}\r\n    return  user \r\n       \r\n}\r\n\r\n\r\n// function makeId(length = 5) {\r\n//   var txt = '';\r\n//   var possible = '0123456789abcdefgABCDEFG';\r\n//   for (var i = 0; i < length; i++) {\r\n//     txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n//   }\r\n//   return txt;\r\n// }","import React from 'react'\r\nimport Button from '@material-ui/core/Button';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { FaUserCircle } from \"react-icons/fa\";\r\nimport { Avatar } from '@material-ui/core';\r\n\r\nimport { userService } from '../services/userService'\r\n\r\nexport function BoardInvite({ board, updateBoard }) {\r\n\r\n    const allMembers = [\r\n        {\r\n            _id: \"5f6f020e486616919e1f0de3\",\r\n            userName: \"Arik Einav\",\r\n            imgUrl: \"https://res.cloudinary.com/cloudinary-img/image/upload/v1600864700/Taskit/erik_lnajh5.png\"\r\n        }, {\r\n            _id: \"5f6f0220486616919e1f13c2\",\r\n            userName: \"Shlomi Koplianski\",\r\n            imgUrl: \"https://res.cloudinary.com/cloudinary-img/image/upload/v1600864700/Taskit/shlomi_rujmqc.png\"\r\n        }, {\r\n            _id: \"5f6f01f9486616919e1f0682\",\r\n            userName: \"Shahar Sadof\",\r\n            imgUrl: \"https://res.cloudinary.com/cloudinary-img/image/upload/v1600864700/Taskit/shahar_wyjntk.png\"\r\n        }, {\r\n            _id: \"5f6f374f81cc744a0002589c\",\r\n            userName: \"Meital Lazarovich\",\r\n            imgUrl: \"https://res.cloudinary.com/cloudinary-img/image/upload/v1601122561/Taskit/meital_xr42uc.png\"\r\n        }, {\r\n            _id: \"5f6f37c181cc744a0002589d\",\r\n            userName: \"Yaron Biton\",\r\n            imgUrl: \"https://res.cloudinary.com/cloudinary-img/image/upload/v1601123470/Taskit/Yaron_z1uuw2.png\"\r\n        },\r\n    ]\r\n\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    }\r\n    const onSelectMember = async (userId) => {\r\n        setAnchorEl(null);\r\n        if (board.members) {\r\n            const memberInBoard = board.members.filter(member => member._id === userId)\r\n            if (memberInBoard.length > 0) return\r\n            const user = await userService.getById(userId)\r\n            board.members.push(user)\r\n        } else {\r\n            const user = await userService.getById(userId)\r\n            board.members = [user]\r\n        }\r\n        updateBoard(board)\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"invite-modal\">\r\n            <div onClick={handleClick} className=\"board-header-invite\">\r\n                <p className=\"btn invite-btn\"><FaUserCircle style={{ margin: \"0px 5px -2px\" }} />Invite</p>\r\n                <p className=\"btn invite-btn-small-screen\"><FaUserCircle /></p>\r\n            </div>\r\n            \r\n            <Menu\r\n                id=\"simple-menu\"\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}\r\n            >\r\n                {allMembers &&\r\n                    allMembers.map(member =>\r\n                        <MenuItem key={member._id} className=\"user-in-list\">\r\n                            <div className=\"members flex\" onClick={() => onSelectMember(member._id)}>\r\n                                <Avatar src={member.imgUrl} alt=\"img\" className=\"user-img\" />\r\n                                <p className=\"user-name\">{member.userName}</p>\r\n                            </div>\r\n                        </MenuItem>)\r\n                }\r\n            </Menu>\r\n        </div>\r\n    )\r\n}","import React, { Component } from 'react'\r\n// import { FaUserCircle } from \"react-icons/fa\";\r\nimport { Avatar } from '@material-ui/core';\r\nimport { AvatarGroup } from '@material-ui/lab';\r\nimport { AiOutlineMenu } from \"react-icons/ai\";\r\n\r\nimport { SideMenu } from './SideBarMenu'\r\nimport EditableLabel from 'react-inline-editing'\r\nimport { BoardInvite } from './BoardInvite'\r\n\r\nexport class BoardHeader extends Component {\r\n\r\n    state = {\r\n        filterBy: '',\r\n        isMenuShow: false,\r\n        isInviteMembersShown: false\r\n    }\r\n\r\n    toggleMenu = () => {\r\n        let menuState = !this.state.isMenuShow\r\n        this.setState({ isMenuShow: menuState })\r\n    }\r\n    handleFocusOut = (title) => {\r\n        const board = this.props.board\r\n        board.title = title\r\n        this.props.updateBoard(board)\r\n\r\n    }\r\n\r\n    onToggleInviteModal = (val) => {\r\n        this.setState({ isInviteMembersShown: val })\r\n    }\r\n\r\n    render() {\r\n        const { board } = this.props\r\n\r\n\r\n\r\n        return (\r\n            <div className=\"board-header flex space-between\">\r\n                <div className=\"name-and-member flex\">\r\n                    <div style={{ marginLeft: \"10px\", alignSelf: \"center\" }}>  <EditableLabel text={board.title} onFocusOut={this.handleFocusOut}\r\n                        inputWidth='200px'\r\n                        inputHeight='34px'\r\n                        cursor='pointer'\r\n                        inputFontWeight='400' />\r\n                    </div>\r\n\r\n                    {board.members &&\r\n                        <section className=\"avatar-members flex\">\r\n                            <AvatarGroup max={4}>\r\n                                {board.members.map(member =>\r\n                                    member.imgUrl ?\r\n                                        <Avatar key={member._id} src={member.imgUrl} />\r\n                                        :\r\n                                        <Avatar key={member._id} src={member.imgUrl}>{member.userName.substring(0, 1).toUpperCase()}{member.userName.substring(1, 2).toUpperCase()}</Avatar>\r\n                                )}\r\n                            </AvatarGroup>\r\n                        </section>}\r\n                </div>\r\n                <div className=\"flex\">\r\n\r\n                    <BoardInvite board={board} updateBoard={this.props.updateBoard} />\r\n\r\n                    <button className=\"btn board-header-btn menu flex\" onClick={this.toggleMenu}><AiOutlineMenu style={{ margin: \"0px 5px -2px\" }} />Menu</button>\r\n\r\n                    <button className=\"btn board-header-btn-small-screen menu\" onClick={this.toggleMenu}><AiOutlineMenu style={{ marginRight: \"5px\" }} /></button>\r\n                </div>\r\n                {this.state.isMenuShow && <SideMenu onToggleMenu={this.toggleMenu} />}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport { Draggable } from 'react-beautiful-dnd'\r\nimport styled from 'styled-components'\r\nimport NaturalDragAnimation from 'natural-drag-animation-rbdnd';\r\nimport ReactPlayer from 'react-player/youtube'\r\nimport { RiTaskLine } from \"react-icons/ri\";\r\n\r\n\r\n\r\nconst Container = styled.div`\r\nbackground-color: ${props => (props.isDragging ? '#B5B5B5' : '#fff')};\r\n`;\r\n\r\n\r\nexport function CardPreview({ card, updateState, groupId, index, calcProgress }) {\r\n\r\n\r\n\r\n    const openCardDetails = (cardId) => {\r\n        updateState('isDetailsShown', { cardId, groupId })\r\n    }\r\n\r\n    return (\r\n        < Draggable draggableId={card.id} index={index} >\r\n            {(provided, snapshot) => (\r\n                <NaturalDragAnimation\r\n                    style={provided.draggableProps.style}\r\n                    snapshot={snapshot}\r\n                >\r\n                    {style => (\r\n                        <Container   isDragging={snapshot.isDragging}  className=\"card-preview flex column justify-center\" onClick={() => openCardDetails(card.id)} {...provided.draggableProps} {...provided.dragHandleProps} style={style} ref={provided.innerRef}>\r\n                            <div className='card flex column space-between' style={{ backgroundColor: card.bgColor }} >\r\n                                <div className=\"flex  space-between\">\r\n                                <div className=\"flex\">{(card.labels && card.labels.length > 0) && \r\n                                        card.labels.map(label => <div key={label} className=\"small-small-label\" style={{ backgroundColor: label }} />)\r\n                                          }</div>\r\n                                    {card.checklist && <div className=\"footer-div-card-prev flex align-center\"><RiTaskLine style={{ marginRight:'5px'}}/>{calcProgress(card.id)}</div>}\r\n                                </div>\r\n                                <p className=\"p-card-preview\">{card.title}</p>\r\n                                        {card.youtube && <div className=\"img-card-preview\"><ReactPlayer  width='100%' height='100%' url={card.youtube} /></div>  ||\r\n                                        card.imgUrl && <img className=\"img-card-preview\" src={card.imgUrl} alt=\"Loading\" />}\r\n                            </div>\r\n                            \r\n                        </Container >\r\n                    )}\r\n                </NaturalDragAnimation>\r\n            )\r\n            }\r\n        </Draggable >\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport class AddText extends React.Component {\r\n\r\n    state = {\r\n        text: ''\r\n    }\r\n    handleValueChange = (ev) => {\r\n        const text = ev.target.value;\r\n        this.setState({ text })\r\n    }\r\n    onSubmit = (ev) => {\r\n        ev.preventDefault();\r\n        if (!this.state.text) return;\r\n        (this.props.type === 'Card') && this.props.updateState('isAddCard', false)\r\n\r\n        this.props.onAdd(this.props.type, this.state.text, this.props.groupId)\r\n        this.setState({ text: '' })\r\n    }\r\n    onRemoveTextEditor = () => {\r\n        let isAddType = (this.props.type==='Card')?'isAddCard':'isAddGroup'\r\n        this.props.updateState (isAddType, false)\r\n        this.setState({ text: '' })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"adding-div flex column\">\r\n                <form onSubmit={this.onSubmit}>\r\n                    \r\n                    {/* <TextField  className=\"title-input\" value={this.state.text} onChange={this.handleValueChange} type=\"text\" id=\"outlined-basic\" label=\"Outlined\" variant=\"outlined\" placeholder={this.props.type === 'Card' ? \"Card name\" : \"List name\"} /> */}\r\n                    <input className=\"title-input\" placeholder={this.props.type === 'Card' ? \"Card name\" : \"List name\"}\r\n                        type=\"text\"\r\n                        onChange={this.handleValueChange}\r\n                        value={this.state.text}\r\n                    />\r\n                    <div className=\"flex\">\r\n                        <button className=\"btn\" onClick={this.onSubmit}>{this.props.type === 'Card' ? \"Add Card\" : \"Add List\"}</button>\r\n                        <button className=\"btn cancel-add\" onClick={this.onRemoveTextEditor}>X</button>\r\n                    </div>\r\n                    \r\n               \r\n                </form>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { TwitterPicker } from 'react-color'\r\n\r\n\r\nexport function SimpleMenu({ onRemove, group,isGroupColor,onShowColorTogglle, isDeleteGroup, onShowDeleteTogglle, onAddCard,onGroupColorChange }) {\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleAdd = () => {\r\n    onAddCard('isAddCard', true)\r\n    handleClose()\r\n  };\r\n  const handledelete = () => {\r\n    if (isGroupColor){ \r\n      onShowColorTogglle()\r\n    }\r\n    onShowDeleteTogglle()\r\n\r\n  };\r\n  const handleClose = () => {\r\n    if (isDeleteGroup) {\r\n       onShowDeleteTogglle()\r\n       setAnchorEl(null);\r\n      } else if (isGroupColor){ \r\n        onShowColorTogglle()\r\n        setAnchorEl(null);\r\n      }else\r\n    setAnchorEl(null);\r\n  };\r\n  const onDelete = () => {\r\n    onRemove(group.id)\r\n    handleClose()\r\n  }\r\n  const handlecolor=(color, ev)=>{\r\n    ev.stopPropagation();\r\n    onGroupColorChange(color.hex)\r\n\r\n  }\r\n  const onColorTogglle=()=>{\r\n    if (isDeleteGroup) {\r\n      onShowDeleteTogglle()\r\n    }\r\n    onShowColorTogglle()\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Button style={{fontWeight:'900'}} aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>\r\n          . . .\r\n      </Button>\r\n      <Menu\r\n        id=\"simple-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        {/* <div style={{color:\"#666666\",textAlign:\"center\"}} >List menu </div>\r\n        <hr style={{margin:\"3px 7px\"}}/> */}\r\n        <MenuItem onClick={onColorTogglle} >Background color</MenuItem>\r\n        {isGroupColor &&<TwitterPicker onChange={handlecolor}  colors={['#218B82', '#9AD9DB', '#E5DBD9', '#98D4BB', '#EB96AA', '#ebecf0']} triangle=\"hide\" />}\r\n        <MenuItem onClick={handleAdd}>Add card</MenuItem>\r\n        <MenuItem onClick={handledelete}>Delete list</MenuItem>\r\n        {isDeleteGroup && <MenuItem ><button className=\"btn\" style={{ color: 'red', marginRight: '2px' }} onClick={onDelete}>Delete</button> <button style={{ marginLeft: '2px' }} className=\"btn\" onClick={handleClose}>Cancel</button></MenuItem>}\r\n\r\n      </Menu>\r\n    </div>\r\n  );\r\n}","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Droppable } from 'react-beautiful-dnd'\r\nimport { CardPreview } from './CardPreview'\r\nimport { AddText } from './AddText'\r\nimport styled from 'styled-components'\r\nimport { SimpleMenu } from './CardListMenu'\r\nimport EditableLabel from 'react-editable-label'\r\nimport Scroll from 'react-scroll';\r\nimport { updateBoard } from '../store/actions/boardActions'\r\nvar Element = Scroll.Element;\r\n\r\nconst Container = styled.div`\r\ntransition: background-color 0.2s ease;\r\nbackground-color: ${props => (props.isDraggingOver ? '#3493A5' : 'inherit')};\r\nmin-height:40px;\r\n`\r\n\r\nexport class _CardList extends Component {\r\n\r\n    state = {\r\n        isAddCard: false,\r\n        isDeleteGroup: false,\r\n        isGroupColor:false\r\n\r\n    }\r\n\r\n\r\n    updateState = (key, val) => {\r\n        this.setState({ [key]: val })\r\n    }\r\n    onRemoveGroup = (groupId) => {\r\n        this.props.onRemoveGroup(groupId)\r\n    }\r\n    onShowDeleteTogglle = () => {\r\n        let isDelete = !this.state.isDeleteGroup\r\n        this.setState({ isDeleteGroup: isDelete })\r\n    }\r\n    onShowColorTogglle = () => {\r\n        let isColor = !this.state.isGroupColor\r\n        this.setState({ isGroupColor: isColor })\r\n    }\r\n\r\n\r\n\r\n    handleFocusOut = (groupTitle) => {\r\n        const board = this.props.board\r\n        let groups = Array.from(board.groups)\r\n        const idx = groups.findIndex(group => group.id === this.props.group.id)\r\n        let group = this.props.group\r\n        group.title = groupTitle\r\n        groups.splice(idx, 1, group)\r\n        board.groups = groups\r\n        this.props.updateBoard(board)\r\n\r\n    }\r\n    onGroupColorChange = (color) => {\r\n        const board = this.props.board\r\n        let groups = Array.from(board.groups)\r\n        const idx = groups.findIndex(group => group.id === this.props.group.id)\r\n        let group = this.props.group\r\n        group.bgColor = color\r\n        groups.splice(idx, 1, group)\r\n        board.groups = groups\r\n        this.props.updateBoard(board)\r\n\r\n    }\r\n\r\n\r\n  \r\n\r\n\r\n    calcProgress = (cardId) => {\r\n\r\n        const cards = this.props.group.cards\r\n        const card = cards.find(card => card.id === cardId)\r\n        if (card.checklist && card.checklist.todos) {\r\n            const tasks = card.checklist.todos.length\r\n            const doneTasks = (card.checklist.todos.filter(task => task.isDone === true)).length\r\n            return (`${doneTasks}/${tasks}`)\r\n        } return ''\r\n\r\n    }\r\n     longTxt (text) {\r\n        const textToShow =(text.length <= 20)? text : text.substring(0,20).trim() + '...';    \r\n            return textToShow\r\n                   \r\n     }\r\n\r\n\r\n    render() {\r\n        const group = this.props.group\r\n        return (\r\n            <div style={{ backgroundColor: (group.bgColor) ? (group.bgColor) : '#ebecf0' }} className=\"card-list flex column\" id=\"card-container\">\r\n                <header className=\"card-header flex space-between align-center\">\r\n                \r\n                       \r\n                            <EditableLabel \r\n                         initialValue={(group.title)}\r\n                         save={value => {this.handleFocusOut(value)}}\r\n                         inputClass='title-input'\r\n                         labelClass='my-label-class'\r\n                         \r\n                            />\r\n                  \r\n                   <SimpleMenu onShowColorTogglle={this.onShowColorTogglle} onGroupColorChange={this.onGroupColorChange} isGroupColor={this.state.isGroupColor} isDeleteGroup={this.state.isDeleteGroup} onAddCard={this.updateState} onShowDeleteTogglle={this.onShowDeleteTogglle} onRemove={this.onRemoveGroup} group={group} />\r\n                </header>\r\n                <Element style={{\r\n                    height: 'auto',\r\n                    width: '100%',\r\n                    overflow: 'scroll',\r\n                    overflowX: 'hidden',\r\n                    paddingLeft: '8px',\r\n                    paddingRight: '4px'\r\n                }}>\r\n\r\n                    <Droppable droppableId={group.id}>\r\n                        {(provided, snapshot) => (\r\n\r\n                            <Container ref={provided.innerRef}\r\n                                {...provided.droppableProps}\r\n                                isDraggingOver={snapshot.isDraggingOver}>\r\n                                {group.cards.map((card, index) => <CardPreview calcProgress={this.calcProgress} index={index} card={card} key={card.id} updateState={this.props.updateState} groupId={group.id} />)}\r\n                                {provided.placeholder}\r\n                            </Container>\r\n                        )}</Droppable>\r\n\r\n                </Element>\r\n                {this.state.isAddCard ?\r\n                    <AddText onAdd={this.props.onAdd} type=\"Card\" groupId={group.id} updateState={this.updateState} />\r\n                    :\r\n                    <button className=\" add-card-btn\" onClick={() => this.updateState('isAddCard', true)}>+ Add card</button>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    board: state.boardReducer.currBoard\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    updateBoard,\r\n}\r\n\r\nexport const CardList = connect(mapStateToProps, mapDispatchToProps)(_CardList)","import React, { useRef, useEffect, useState } from 'react';\r\nimport { cloudinaryService } from '../services/cloudinaryService'\r\nimport { CirclePicker } from \"react-color\";\r\n\r\nfunction Canvas({updateState,card}) {\r\n\r\n  const canvasRef = useRef(null)\r\n  const contextRef = useRef(null)\r\n  const [isDrawing, setIsDrawing] = useState(false)\r\n  const [color, setColor]=useState(null)\r\n\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    canvas.width = 300\r\n    canvas.height = 300;\r\n    const context = canvas.getContext(\"2d\")\r\n    const img = new Image()\r\n    img.onload = () => {\r\n        context.drawImage(img, 0, 0, canvas.width, canvas.height)\r\n    }\r\n    img.crossOrigin = 'Anonymous'\r\n    img.src =card.imgUrl\r\n    context.lineCap = \"round\"\r\n    context.strokeStyle = color\r\n    context.lineWidth = 3\r\n    contextRef.current = context;\r\n    \r\n    \r\n    \r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  const startDrawing = ({nativeEvent}) => {\r\n    contextRef.current.strokeStyle = color\r\n    const {offsetX, offsetY} = nativeEvent;\r\n    contextRef.current.beginPath()\r\n    contextRef.current.moveTo(offsetX, offsetY)\r\n    setIsDrawing(true)\r\n  }\r\n\r\n  const finishDrawing = () => {\r\n   contextRef.current.closePath()\r\n   setIsDrawing(false)\r\n  }\r\n\r\n  const closeCanvas =()=>{\r\n    updateState('isCanvas', false)\r\n  }\r\n  \r\n const addCanvasToCard = async () => { \r\nconst canvas = canvasRef.current\r\ncard.imgUrl = canvas.toDataURL()\r\ncloseCanvas()\r\nvar file=cloudinaryService.dataURLtoFile(card.imgUrl, 'canvas.png')\r\nconst imgUrl = await cloudinaryService.uploadCanvasImg(file)\r\ncard.imgUrl=imgUrl\r\n    return card\r\n}\r\n\r\nconst changeStrokeStyle =(color)=>{\r\n    console.log(color.hex,color)\r\n    setColor(color.hex)\r\n}\r\n\r\n\r\n  const draw = ({nativeEvent}) => {\r\n    if(!isDrawing){\r\n      return\r\n    }\r\n    const {offsetX, offsetY} = nativeEvent;\r\n    contextRef.current.lineTo(offsetX, offsetY)\r\n    contextRef.current.stroke()\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"modal-wrapper\" onClick={closeCanvas} >\r\n    <div className=\"canvas-modal-content flex column justify-center space-evenly \"  \r\n      onClick={(ev) => ev.stopPropagation()}\r\n    ><canvas style={{marginBottom:'10px'}}\r\n    onMouseDown={startDrawing}\r\n    onMouseUp={finishDrawing}\r\n    onMouseMove={draw}\r\n    ref={canvasRef}\r\n  />\r\n   <CirclePicker className=\"self-center\"\r\n                  onChange={changeStrokeStyle}\r\n                  colors={[\r\n                    \r\n                    \"#000000\",\r\n                    \"#0050fb\",\r\n                    \"#ff0000\",\r\n                    \"#00ff2b\",\r\n                    \"#fdff00\",\r\n                    \"#533829\",\r\n                   \r\n                  ]}\r\n                \r\n                />\r\n  <button className=\"btn\" onClick={addCanvasToCard}>save canvas</button>\r\n    </div>\r\n  </div>\r\n)\r\n    \r\n  \r\n  }\r\n\r\nexport default Canvas;","import React from \"react\";\r\n\r\nexport class ColorModal extends React.Component {\r\n\r\n    onClickColor = (color, ev) => {\r\n\r\n        const labels = this.props.labels\r\n        ev.stopPropagation();\r\n        if (labels && labels.length > 0) {\r\n            const isColorInLabels = labels.filter(label => label === color)\r\n\r\n            if (isColorInLabels.length > 0) {\r\n                return\r\n            } else {\r\n                this.props.onSaveLabels(color, ev);\r\n            }\r\n        } else {\r\n            this.props.onSaveLabels(color, ev);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const colors = [\r\n            '#61BD4F',\r\n            '#F2D600',\r\n            '#FF9F1A',\r\n            '#EB5A46',\r\n            '#C377E0',\r\n            '#0079BF',\r\n        ]\r\n        return (\r\n            <div className=\"color-container flex column\">\r\n                {colors.map(color => <span key={color} onClick={(ev) => this.onClickColor(color, ev)} style={{ backgroundColor: color }} />)}\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport { FiDelete } from \"react-icons/fi\";\r\n\r\n\r\nexport default class TodoPreview extends Component {\r\n    state={\r\n        todo:{\r\n            title:'',\r\n            isDone:'',\r\n            id:''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ todo: this.props.todo })\r\n    }\r\n\r\n    onInputChange = (ev) => {\r\n        ev.preventDefault()\r\n    }\r\n\r\n    onCheckboxChange = () => {\r\n        const bool = (this.state.todo.isDone) ? false : true;\r\n        this.setState(prevState => ({\r\n            todo: {\r\n                ...prevState.todo,\r\n                isDone: bool\r\n\r\n            }\r\n        }), () => {this.props.updateCheckbox(this.state.todo)})\r\n    }\r\n    render() {\r\n        const { todo } = this.props\r\n        return (\r\n            <div className=\"flex\">\r\n\r\n                <form className=\"flex align-center space-between hundredPw\" action=\"\">\r\n\r\n\r\n                        <p className={`todo-title ${this.state.todo.isDone === true ? \"line-through\" : \"text-dec-none\"}`} onClick={() => this.onCheckboxChange()}>{todo.title}</p>\r\n                    {/* <div className=\"flex align-center space-between\"> */}\r\n                       < FiDelete className=\"todo-btn-delete\" onClick={() => { this.props.onRemoveTodo(todo.id) }} />\r\n                    {/* </div> */}\r\n\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport TodoPreview from './TodoPreview'\r\nimport { boardService } from '../services/boardService.js'\r\nimport { BiListUl } from \"react-icons/bi\";\r\nimport { connect } from 'react-redux';\r\nimport EditableLabel from 'react-inline-editing';\r\n\r\nexport class _ChecklistPreview extends Component {\r\n\r\n    state = {\r\n        checklist: {},\r\n        isTodoEditShown: '',\r\n        newTodo: {\r\n            title: '',\r\n            id: '',\r\n            isDone: false\r\n        },\r\n        progressbar: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ checklist: this.props.checklist }, this.calculateProgress())\r\n\r\n    }\r\n\r\n    onRemoveTodo = (todoId) => {\r\n        this.calculateProgress()\r\n        const todos = this.state.checklist.todos\r\n        const todoIdx = todos.findIndex(todo => todo.id === todoId)\r\n        todos.splice(todoIdx, 1)\r\n        this.setState(prevState => ({\r\n            checklist: {\r\n                ...prevState.checklist,\r\n                todos\r\n            }\r\n        }))\r\n        this.props.onUpdateChecklists(this.state.checklist)\r\n        this.calculateProgress()\r\n    }\r\n\r\n    onHandleInput = (ev) => {\r\n        const title = ev.target.value\r\n        this.setState(prevState => ({\r\n            newTodo: {\r\n                ...prevState.newTodo,\r\n                title\r\n            }\r\n        }))\r\n    }\r\n\r\n    onSubmit = (ev) => {\r\n        ev.preventDefault()\r\n        const id = boardService.makeId()\r\n        const isDone = false;\r\n        this.setState(prevState => ({\r\n            newTodo: {\r\n                ...prevState.newTodo,\r\n                id,\r\n                isDone\r\n            }\r\n        }), () => { this.updateLocalChecklist() })\r\n\r\n    }\r\n    updateLocalChecklist = (updTodo) => {\r\n        if (updTodo) {\r\n            const todos = this.state.checklist.todos\r\n\r\n            const idx = todos.findIndex(todo => todo.id === updTodo.id)\r\n            todos.splice(idx, 1, updTodo)\r\n\r\n            this.setState(prevState => ({\r\n                checklist: {\r\n                    ...prevState.checklist,\r\n                    todos: [\r\n                        ...todos\r\n                    ]\r\n                }\r\n            }), this.onUpdateChecklists)\r\n        } else {\r\n            const todos = this.state.checklist.todos\r\n            todos.push(this.state.newTodo)\r\n            this.setState(prevState => ({\r\n                checklist: {\r\n                    ...prevState.checklist,\r\n                    todos: [\r\n                        ...todos\r\n                    ]\r\n                }\r\n            }), this.onUpdateChecklists)\r\n        }\r\n        this.calculateProgress()\r\n    }\r\n\r\n    onUpdateChecklists = () => {\r\n        const checklist = this.state.checklist\r\n        this.props.onUpdateChecklists(checklist)\r\n        this.calculateProgress()\r\n    }\r\n\r\n    calculateProgress() {\r\n\r\n        if (!this.props.checklist) return this.setState({ progressbar: 0 })\r\n        const todos = this.props.checklist.todos\r\n        if (todos.length > 0) {\r\n            const totalTodos = todos.length\r\n            const isDones = (todos.filter((todo) => todo.isDone === true)).length\r\n            const res = (isDones / totalTodos) * 100\r\n            return this.setState({ progressbar: res.toFixed(2) })\r\n        } return this.setState({ progressbar: 0 })\r\n    }\r\n    handleFocusOut = (title) => {\r\n    let checklist = this.props.checklist   \r\n    let updtTitle= this.props.checklist.title\r\n    updtTitle=title\r\n    checklist.title=updtTitle\r\n    this.props.onUpdateChecklists(checklist)\r\n    }\r\n\r\n    render() {\r\n        const { checklist } = this.props\r\n        return (\r\n            <div className=\"checklist-preview-div flex column\">\r\n                <div className=\"checklist-prev-header flex space-between\">\r\n                    <div className=\"flex align-center\"><BiListUl style={{\r\n                        marginRight: '5px', width: '18px',\r\n                        height: '18px'\r\n                    }} />\r\n\r\n                        <EditableLabel text={checklist.title}\r\n\r\n                            onFocusOut={this.handleFocusOut}\r\n                            inputWidth='200px'\r\n                            inputHeight='34px'\r\n                            cursor='pointer'\r\n                            labelFontSize='1.1rem'\r\n                            inputFontWeight='400'\r\n                            labelClassName='cd-subt' />\r\n\r\n\r\n                    </div>\r\n                        <button className=\"btn delete-checklist\" onClick={() => this.props.removeChecklist()}>Delete Checklist</button>\r\n                </div>\r\n                <label htmlFor=\"progress-bar\">Todos progress: {this.state.progressbar}%</label>\r\n                <progress style={{ width: '50%' }} id=\"progress-bar\" value={`${this.state.progressbar}`} max=\"100\"></progress>\r\n                <p className=\"cd-subt\" style={{ marginTop:'25px', fontSize: '0.95rem'}}>Your Todos:</p>\r\n                <div className=\"grey-zone\">\r\n                    {checklist.todos && checklist.todos.map(todo => <TodoPreview key={todo.id} todo={todo} updateCheckbox={this.updateLocalChecklist} onRemoveTodo={this.onRemoveTodo} />)}\r\n                    <button style={{\r\n                        display: (this.state.isTodoEditShown) ? \"none\" : \"block\",\r\n                        margin: '0', padding: '3px 6px '\r\n                    }} onClick={() => { this.setState({ isTodoEditShown: true }) }} className=\"btn add-todo-btn\">Add Todo</button>\r\n                    {this.state.isTodoEditShown &&\r\n\r\n                        <div>\r\n                            <form onSubmit={this.onSubmit} action=\"\">\r\n                                <button onClick={() => this.setState({ isTodoEditShown: false })} className=\"btn\" >X</button>\r\n                                <label htmlFor=\"todo-title\">Todo Title:</label>\r\n                                <input onChange={this.onHandleInput} id=\"todo-title\" type=\"text\" />\r\n                                <button className=\"btn\" >Save</button>\r\n                            </form>\r\n                        </div>}\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        board: state.boardReducer.currBoard\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n\r\n}\r\n\r\nexport const ChecklistPreview = connect(mapStateToProps, mapDispatchToProps)(_ChecklistPreview)","import React from 'react'\r\n// import { connect } from 'react-redux'\r\nimport { ChecklistPreview } from './ChecklistPreview'\r\n\r\n\r\n\r\nexport function Checklist({checklist,removeChecklist, saveChecklist, updateLocalCard }) {\r\n  \r\n     \r\n        return (\r\n            <div>\r\n                { checklist.title && <ChecklistPreview removeChecklist={removeChecklist} onUpdateChecklists={saveChecklist} checklist={checklist} key={checklist.id} />}\r\n            </div>\r\n        )\r\n    }\r\n\r\n","import React, { Component } from 'react'\r\nimport { boardService } from '../services/boardService.js'\r\n\r\nexport default class ChecklistAdd extends Component {\r\n\r\n    state = {\r\n        checklist: {\r\n            id: '',\r\n            title: '',\r\n            todos: []\r\n        }\r\n    }\r\n    handleChange = (ev) => {\r\n\r\n        const title = ev.target.value\r\n        this.setState(prevState => ({\r\n            checklist: {\r\n                ...prevState.checklist,\r\n                title\r\n            }\r\n        }))\r\n    }\r\n    onSubmit = (ev) => {\r\n        ev.preventDefault()\r\n\r\n        const id = boardService.makeId()\r\n        this.setState(prevState => ({\r\n            checklist: {\r\n                ...prevState.checklist,\r\n                id,\r\n            }\r\n        }), () => { this.props.addNewChecklist(this.state.checklist) })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <form onSubmit={this.onSubmit} action=\"\">\r\n                    <label htmlFor=\"\">New Checklist Title:</label>\r\n                    <input onChange={this.handleChange} type=\"text\" />\r\n                    <button className=\"btn\">Add</button>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport Button from '@material-ui/core/Button';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { FaUserCircle } from \"react-icons/fa\";\r\nimport { Avatar } from '@material-ui/core';\r\n\r\nimport { userService } from '../services/userService'\r\n\r\nexport function CardInvite({ board, card, updateBoard }) {\r\n\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n    const allMembers = board.members ? [...board.members] : [];\r\n\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    }\r\n    const onSelectMember = async (userId) => {\r\n        setAnchorEl(null);\r\n        if (card.members) {\r\n            const memberInBoard = card.members.filter(member => member._id === userId)\r\n            if (memberInBoard.length > 0) return\r\n            const user = await userService.getById(userId)\r\n            card.members.push(user)\r\n        } else {\r\n            const user = await userService.getById(userId)\r\n            card.members = [user]\r\n        }\r\n        updateBoard(board)\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"invite-modal\">\r\n            <div onClick={handleClick} className=\"board-header-invite-details\">\r\n                <p className=\"invite-details-btn\"><FaUserCircle style={{ margin: \"0px 5px -2px\" }} />Invite</p>\r\n                <p className=\"invite-details-btn-small-screen\"><FaUserCircle /></p>\r\n            </div>\r\n            {/* <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick} >\r\n                <p className=\"btn btn-invite\"><FaUserCircle style={{ margin: \"0px 5px -2px\" }} />Invite</p>\r\n                <p className=\"btn invite-btn-small-screen\"><FaUserCircle style={{ marginRight: \"5px\" }} /></p>\r\n            </Button> */}\r\n            <Menu\r\n                id=\"simple-menu\"\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}\r\n            >\r\n                {allMembers.length > 0 ?\r\n                    allMembers.map(member =>\r\n                        <MenuItem key={member._id} className=\"user-in-list\">\r\n                            <div className=\"members flex\" onClick={() => onSelectMember(member._id)}>\r\n                                <Avatar src={member.imgUrl} alt=\"img\" className=\"user-img\" />\r\n                                <p className=\"user-name\">{member.userName}</p>\r\n                            </div>\r\n                        </MenuItem>)\r\n                    :\r\n                    <MenuItem>The are no members in this board</MenuItem>\r\n                }\r\n            </Menu>\r\n        </div>\r\n    )\r\n}","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Avatar } from '@material-ui/core';\r\nimport { AvatarGroup } from '@material-ui/lab';\r\nimport { FaCheckCircle, FaFileImage, FaTrashAlt,FaUserCircle, FaCalendarAlt, FaYoutube ,FaPaintBrush} from \"react-icons/fa\";\r\nimport { BiMenu, } from \"react-icons/bi\";\r\nimport { MdColorLens, MdInvertColors } from \"react-icons/md\";\r\nimport { TwitterPicker } from \"react-color\";\r\nimport EditableLabel from 'react-editable-label'\r\nimport ReactPlayer from 'react-player/youtube'\r\nimport Canvas from \"./Canvas\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport Scroll from 'react-scroll';\r\nimport { ColorModal } from './ColorModal'\r\nimport { boardService } from '../services/boardService'\r\nimport { AddImg } from './AddImg'\r\nimport { Checklist } from './Checklist'\r\nimport ChecklistAdd from './ChecklistAdd';\r\nimport { updateBoard } from '../store/actions/boardActions'\r\nimport { CardInvite } from './CardInvite'\r\n\r\nvar Element = Scroll.Element;\r\n\r\nexport class _CardDetails extends Component {\r\n\r\n    state = {\r\n        card: null,\r\n        isAddImgModalShown: false,\r\n        isDescriptionEdit: false,\r\n        isTimeEdit: false,\r\n        isLabelesEdit: false,\r\n        isChecklistEdit: false,\r\n        isAddColorModalShown: false,\r\n        isYoutubeShown: false,\r\n        isCanvas: false,\r\n    }\r\n    \r\n    componentDidMount() {\r\n        const card = boardService.getCardById(this.props.board, this.props.groupId, this.props.cardId)\r\n        this.setState({ card })\r\n    }\r\n\r\n    updateState = (key, val) => {\r\n        this.setState({ [key]: val })\r\n        if(key==='isAddImgModalShown'){\r\n            this.onRemoveYoutube()\r\n        }\r\n    }\r\n    onRmoveModal = () => {\r\n        this.saveCard()\r\n        this.props.updateState('isDetailsShown', false)\r\n    }\r\n    onHandleRemove = () => {\r\n        this.props.updateState('isDetailsShown', false)\r\n        boardService.addActivity(this.props.board, 'Remove card', this.state.card, this.props.currUser)\r\n        this.props.onRemoveCard(this.state.card.id)\r\n    }\r\n\r\n  \r\n    onRemoveImg = () => {\r\n        const card = this.state.card\r\n        delete card.imgUrl\r\n        this.setState({ card })\r\n    }\r\n    onRemoveYoutube = () => {\r\n        const card = this.state.card\r\n        delete card.youtube\r\n        this.setState({ card })\r\n    }\r\n    saveCard = () => {\r\n        this.updateState('isDescriptionEdit', false)\r\n        var cardId = this.state.card.id;\r\n        const newBoard = { ...this.props.board }\r\n        const group = newBoard.groups.find(group => group.id === this.props.groupId);\r\n        const cardIdx = group.cards.findIndex(card => card.id === cardId);\r\n        group.cards.splice(cardIdx, 1, this.state.card)\r\n        this.props.updateBoard(newBoard)\r\n    }\r\n   \r\n    doneEdit = () => {\r\n        this.updateState('isDescriptionEdit', false)\r\n        this.saveCard()\r\n    }\r\n    updateLocalCard = (key, val) => {\r\n\r\n        this.setState(prevState => ({\r\n            card: {\r\n                ...prevState.card,\r\n                [key]: val\r\n            }\r\n        }))\r\n    }\r\n    handleFocusOut = (title) => {\r\n        this.updateLocalCard('title', title)\r\n\r\n    }\r\n    onRemoveDuedate = () => {\r\n        this.updateState('isTimeEdit', false)\r\n        const card = this.state.card\r\n        delete card.dueDate\r\n        this.setState({ card })\r\n        this.saveCard()\r\n  \r\n    }\r\n  handleChangeDuedate = (data) => {\r\n    this.updateState(\"isTimeEdit\", false);\r\n    this.updateLocalCard(\"dueDate\", data);\r\n    this.saveCard();\r\n  };\r\n  onSaveLabels = (val, ev) => {\r\n    ev.stopPropagation();\r\n    if (this.state.card.labels && this.state.card.labels.length > 4) return;\r\n    var labels = [val];\r\n    if (this.state.card.labels) {\r\n      labels = this.state.card.labels;\r\n      labels.push(val);\r\n    }\r\n    this.updateLocalCard(\"labels\", labels);\r\n    boardService.addActivity(\r\n      this.props.board,\r\n      \"Add label\",\r\n      this.state.card,\r\n      this.props.currUser\r\n    );\r\n  };\r\n  onRemoveLabel = (label) => {\r\n    const labels = this.state.card.labels;\r\n    const labelIdx = labels.indexOf(label);\r\n    labelIdx > -1 && labels.splice(labelIdx, 1);\r\n    this.updateLocalCard(\"labels\", labels);\r\n  };\r\n  onOpenDuedate = () => {\r\n    this.updateLocalCard(\"dueDate\", new Date());\r\n    this.setState({ isTimeEdit: true });\r\n    boardService.addActivity(\r\n      this.props.board,\r\n      \"Add dueDate\",\r\n      this.state.card,\r\n      this.props.currUser\r\n    );\r\n  };\r\n  saveChecklist = (checklist) => {\r\n    this.updateLocalCard(\"checklist\", checklist);\r\n    this.saveCard();\r\n  };\r\n  addNewChecklist = (checklist) => {\r\n    this.saveChecklist(checklist);\r\n  };\r\n  removeChecklist = () => {\r\n    this.saveChecklist({});\r\n  };\r\n  onOpenLabelModal = (ev) => {\r\n    ev.stopPropagation();\r\n    if (this.state.isLabelesEdit) {\r\n      this.setState({ isLabelesEdit: false });\r\n      return;\r\n    }\r\n    if (this.state.card.labels) {\r\n      if (this.state.card.labels.length < 6) {\r\n        this.setState({ isLabelesEdit: true });\r\n      }\r\n    } else {\r\n      this.setState({ isLabelesEdit: true });\r\n    }}\r\n    onRemoveLabel = (label) => {\r\n        const labels = this.state.card.labels\r\n        const labelIdx = labels.indexOf(label);\r\n        labelIdx > -1 && labels.splice(labelIdx, 1);\r\n        this.updateLocalCard('labels', labels)\r\n    }\r\n    onOpenDuedate = () => {\r\n        this.updateLocalCard('dueDate', new Date())\r\n        this.setState({ isTimeEdit: true })\r\n        boardService.addActivity(this.props.board, 'Add dueDate', this.state.card, this.props.currUser)\r\n\r\n    }\r\n    saveChecklist = (checklist) => {\r\n        this.updateLocalCard('checklist', checklist)\r\n        this.saveCard()\r\n    }\r\n    addNewChecklist = (checklist) => {\r\n        this.saveChecklist(checklist)\r\n    }\r\n    removeChecklist = () => {\r\n        this.saveChecklist({})\r\n    }\r\n    onOpenLabelModal = (ev) => {\r\n        ev.stopPropagation()\r\n        if (this.state.isLabelesEdit) {\r\n            this.setState({ isLabelesEdit: false })\r\n            return\r\n        }\r\n        if (this.state.card.labels) {\r\n            if (this.state.card.labels.length < 6) {\r\n                this.setState({ isLabelesEdit: true })\r\n            }\r\n        } else {\r\n            this.setState({ isLabelesEdit: true })\r\n        }\r\n    }\r\n    openChecklistEditor = () => {\r\n        this.setState({ isChecklistEdit: (this.state.isChecklistEdit ? false : true) })\r\n        boardService.addActivity(this.props.board, 'Add Checklist', this.state.card, this.props.currUser)\r\n\r\n    }\r\n    handleChangeBGColor = (color, ev) => {\r\n        ev.stopPropagation();\r\n        this.updateLocalCard('bgColor', color.hex)\r\n    }\r\n    onOpenColorModal = (ev) => {\r\n        ev.stopPropagation();\r\n        boardService.addActivity(this.props.board, 'Add BG Color', this.state.card, this.props.currUser)\r\n        this.setState({ isAddColorModalShown: true })\r\n        this.saveCard()\r\n    }\r\n   \r\n    onModalClick = () => {\r\n        this.setState({ isAddColorModalShown: false })\r\n        this.setState({ isLabelesEdit: false })\r\n    }\r\n    getAvatar(member) {\r\n        if (member && member.imgUrl) {\r\n            return <Avatar key={member._id} src={member.imgUrl} className=\"avatar\" />\r\n        }\r\n        if (member) {\r\n            return <Avatar key={member._id} className=\"avatar\">{member.userName.substring(0, 1).toUpperCase()}{member.userName.substring(1, 2).toUpperCase()}</Avatar>\r\n        }\r\n        return <Avatar className=\"avatar\" />\r\n    }\r\n  \r\n    youtubeFunc = (url)=>{\r\n        this.setState({isYoutubeShown:false})\r\n        this.onRemoveImg()\r\n        this.updateLocalCard('youtube',url)\r\n        // this.saveCard()\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.card) return <div>Loading...</div>\r\n        const { card } = this.state\r\n        const { board } = this.props\r\n\r\n        return (\r\n            <div className=\"card-modal flex align-center\">\r\n\r\n                <div className=\"empty-modal\" onClick={this.onRmoveModal}></div>\r\n\r\n                <div className=\"details-modal flex column\" onClick={this.onModalClick}>\r\n\r\n                    <header className=\"card-header flex column align-center\" style={{ backgroundColor: card.bgColor }}>\r\n\r\n                        {card.youtube && <ReactPlayer width='50%' height='100%' url={card.youtube} />}\r\n                      \r\n                        {card.imgUrl &&\r\n                            <img className=\"card-img\" src={card.imgUrl} alt=\"Loading\" />\r\n                        }\r\n                        {card.imgUrl && <button onClick={this.onRemoveImg} className=\"btn delete-img-btn\" style={{ paddingLeft: \"10px\", paddingRight: \"6px\" }}><FaTrashAlt style={{ marginRight: \"5px\" }} /></button>}\r\n\r\n\r\n                        {this.state.isAddColorModalShown &&\r\n                            <div>\r\n                                <TwitterPicker onChange={this.handleChangeBGColor} colors={['#FFFFFF', '#99f3bd', '#99f3bd', '#7ea04d', '#f0a500', '#de4463', '#fccbcb', '#70adb5', '#625261', '#89beb3', '#efbbcf', '#8ED1FC', '#ABB8C3', '#F78DA7']} triangle=\"hide\" />\r\n                            </div>\r\n                        }\r\n                    </header>\r\n                    <div className=\"body-div flex\">\r\n                        <Element style={{\r\n                            height: '380px',\r\n                            width: '100%',\r\n                            overflow: 'scroll',\r\n                            overflowX: 'hidden',\r\n                        }}>\r\n                            <div className=\"modal-details-left\">\r\n                                \r\n                                    \r\n                                   \r\n                                    \r\n                                          <EditableLabel \r\n                         initialValue={(card.title)}\r\n                         save={value => {this.handleFocusOut(value)}}\r\n                         inputClass='title-input'\r\n                         labelClass='my-label-class'\r\n                         \r\n                            />\r\n                                <div>\r\n                                    {(card.labels && card.labels.length > 0) &&\r\n                                        <div style={{ margin: '15px 0', height: '40px' }} className=\"flex\">\r\n                                            <div className=\"flex align-center\">\r\n                                                <p style={{ marginRight: '10px' }} className=\"cd-subt\">Labels: </p>\r\n                                                {card.labels.map(label => <div key={label} onClick={() => this.onRemoveLabel(label)} className=\"small-label\" style={{ backgroundColor: label }} />)}\r\n                                            </div>\r\n                                        </div>\r\n                                    }\r\n                                    <div className=\"flex align-center\"><BiMenu style={{\r\n                                        marginRight: '5px', width: '18px',\r\n                                        height: '18px'\r\n                                    }} /><p onClick={() => this.updateState('isDescriptionEdit', true)} className=\"cd-subt\"> Description:</p></div>\r\n\r\n                                    {this.state.isDescriptionEdit ?\r\n                                        <div className=\"edit-desc flex column align-center\" >\r\n                                            <TextField\r\n                                                border=\"none\"\r\n                                                multiline\r\n                                                rows={6}\r\n                                                defaultValue={this.state.card.description}\r\n                                                // variant=\"outlined\"\r\n                                                className=\"edit-card-description\"\r\n                                                onChange={ev => this.updateLocalCard('description', ev.target.value)}\r\n                                            />\r\n                                            <button onClick={this.saveCard} className=\"btn\">Save</button>\r\n                                        </div>\r\n                                        :\r\n                                        <div\r\n                                            className=\"not-edit-card-description\"\r\n                                            onClick={() => this.updateState('isDescriptionEdit', true)}>{this.state.card.description ? this.state.card.description : \"Add a more details description...\"}\r\n                                        </div>\r\n                                    }\r\n                                </div>\r\n\r\n                                <div className=\"members-container flex\">\r\n\r\n                                    {/* <button className=\"btn btn-invite self-start\" > <FaUserCircle style={{ marginRight: \"5px\" }} /> Invite</button> */}\r\n\r\n                                    <CardInvite board={board} card={card} updateBoard={this.props.updateBoard} />\r\n\r\n                                    {(card.members && card.members.length > 0) &&\r\n                                        <div>\r\n                                            <section className=\"avatar-members flex\">\r\n                                                {card.members &&\r\n                                                    <AvatarGroup max={4}>\r\n                                                        {card.members.map(member => this.getAvatar(member))}\r\n                                                    </AvatarGroup>\r\n                                                }\r\n                                            </section>\r\n                                        </div>\r\n                                    }\r\n                                </div>\r\n\r\n                                {(this.state.isTimeEdit || card.dueDate) &&\r\n                                    <div>\r\n                                        <DatePicker\r\n                                            selected={(card.dueDate) ? new Date(card.dueDate) : new Date()}\r\n                                            onChange={this.handleChangeDuedate}\r\n                                            showTimeSelect\r\n                                            dateFormat=\"Pp\"\r\n                                        />\r\n\r\n                                        <button onClick={this.onRemoveDuedate} className=\"btn\">X</button>\r\n                                    </div>\r\n                                }\r\n\r\n\r\n                                {this.state.card.checklist && <Checklist removeChecklist={this.removeChecklist} saveChecklist={this.saveChecklist} checklist={this.state.card.checklist} />}\r\n                                {this.state.isChecklistEdit && <ChecklistAdd addNewChecklist={this.addNewChecklist} />}\r\n\r\n\r\n                            </div>\r\n                        </Element >\r\n                        <div className=\"side-bar-details-right flex column justify-start\">\r\n                            <button className=\"btn align-center\" style={{display: 'flex'}} onClick={() => this.updateState('isAddImgModalShown', true)}><FaFileImage style={{ marginRight: \"7px\" }} />Cover</button>\r\n\r\n                            <button className=\"btn align-center\" style={{display: 'flex'}} onClick={this.onOpenColorModal}><MdColorLens style={{ marginRight: \"3px\", height: '12px', width: '12px' }} />Color</button>\r\n\r\n                            <button className=\"btn align-center\" style={{display: 'flex'}} onClick={() => this.openChecklistEditor()}><FaCheckCircle style={{ marginRight: \"6px\" }} />Checklist</button>\r\n                            <button onClick={this.onOpenDuedate} className=\"btn align-center\"><FaCalendarAlt style={{ marginRight: \"5px\" }} /> Due Date</button>\r\n                            <button onClick={this.onOpenLabelModal} style={{display: 'flex'}} className=\"btn align-center\"><MdInvertColors style={{ marginRight: \"5px\", height: '12px', width: '12px' }} />Labels</button>\r\n                            {this.state.isLabelesEdit &&\r\n                                <ColorModal className=\"color-modal\" onSaveLabels={this.onSaveLabels} labels={card.labels} />}\r\n\r\n                            <button className=\"btn align-center\" style={{display: 'flex'}} onClick={() => (this.setState({ isYoutubeShown: true }))}><FaYoutube style={{ marginRight: \"6px\", height: '12px', width: '12px' }}/> YouTube</button>\r\n                            {this.state.isYoutubeShown && <div style={{border: \"1px solid black\"}}><EditableLabel \r\n                                initialValue={'Paste Url Here'}\r\n                                save={(url)=>this.youtubeFunc(url)}\r\n                         \r\n                                labelClassName='youtube-label'\r\n                                inputClassName='youtube-input'\r\n                                /></div>\r\n                            }\r\n                            <button onClick={()=>this.setState({isCanvas:true})} className=\"btn\"><FaPaintBrush style={{ marginRight: \"6px\" }}/>\r\n\r\n                \r\nCanvas\r\n</button>\r\n                            <button onClick={this.onHandleRemove} className=\"btn\"> <FaTrashAlt style={{ marginRight: \"6px\" }} />Card</button>\r\n                        </div>\r\n\r\n                    </div >\r\n                    {this.state.isAddImgModalShown && <AddImg card={card} updateState={this.updateState} />}\r\n                    {this.state.isCanvas && <Canvas updateLocalCard={this.updateLocalCard} updateState={this.updateState} card={this.state.card}/>}\r\n                </div >\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    board: state.boardReducer.currBoard,\r\n    currUser: state.userReducer.loggedInUser,\r\n  };\r\n};\r\nconst mapDispatchToProps = {\r\n  updateBoard,\r\n};\r\n\r\nexport const CardDetails = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(_CardDetails);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport StickyBox from \"react-sticky-box\";\r\n\r\n\r\nimport { loadBoard, updateBoard, updateBoardFromSocket } from \"../store/actions/boardActions\";\r\nimport { BoardHeader } from \"../cmps/BoardHeader\";\r\nimport { CardList } from \"../cmps/CardList\";\r\nimport { CardDetails } from \"../cmps/CardDetails\";\r\nimport { DragDropContext } from \"react-beautiful-dnd\";\r\nimport { AddText } from \"../cmps/AddText\";\r\nimport { boardService } from \"../services/boardService\";\r\nimport socketService from '../services/socketService';\r\n\r\n\r\nexport class _BoardDetails extends Component {\r\n  state = {\r\n    isDetailsShown: false,\r\n    isAddGroup: false,\r\n    board:null\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { boardId } = this.props.match.params;\r\n    this.props.loadBoard(boardId);\r\n    socketService.setup();\r\n    socketService.emit('connect to board', boardId);\r\n    socketService.on('send updated board', this.props.updateBoardFromSocket);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    socketService.terminate();\r\n  }\r\n \r\n  updateState = (key, val) => {\r\n    this.setState({ [key]: val });\r\n  };\r\n  onEditGroup = () => {\r\n    this.setState({ isAddGroup: true });\r\n  };\r\n\r\n  onAdd = (type, text, groupId) => {\r\n    const newboard = { ...this.props.board };\r\n    const groupIdx = newboard.groups.findIndex((group) => group.id === groupId);\r\n    if (type === \"Group\") {\r\n      this.setState({ isAddGroup: false });\r\n      const group = { id: \"g\" + boardService.makeId(), title: text, cards: [] };\r\n      newboard.groups.push(group);\r\n      this.props.updateBoard(newboard);\r\n    } else if (type === \"Card\") {\r\n      const card = { id: \"c\" + boardService.makeId(), title: text };\r\n      newboard.groups[groupIdx].cards.push(card);\r\n      this.props.updateBoard(newboard);\r\n    }\r\n  };\r\n\r\n  updateState = (key, val) => {\r\n    this.setState({ [key]: val })\r\n  }\r\n  onEditGroup = () => {\r\n    this.setState({ isAddGroup: true })\r\n  }\r\n  onDragEnd = result => {\r\n    const { destination, source, draggableId } = result;\r\n    const columns = this.props.board.groups// groups are called columns in this func\r\n    if (!destination) return;\r\n    if (destination.droppableId === source.droppableId && destination.index === source.index) return;\r\n\r\n    const start = columns.find(start => start.id === source.droppableId);//finding the group from which a drag was started\r\n    const finish = columns.find(finish => finish.id === destination.droppableId);//finding the group from which a drag was ended\r\n\r\n    if (start === finish) {//in-group movements of cards\r\n      const newTaskIds = Array.from(start.cards);\r\n      const shiftedTask = newTaskIds.find(task => task.id === draggableId)//i added this code-line since the tutorial lacked it\r\n\r\n      newTaskIds.splice(source.index, 1)\r\n      newTaskIds.splice(destination.index, 0, shiftedTask)//and this 'shiftedTask' var as well \r\n\r\n\r\n      const newColumn = {\r\n        ...start,\r\n        cards: newTaskIds,\r\n      }\r\n\r\n      const newGroups = Array.from(columns);\r\n\r\n\r\n      const groupIdx = columns.findIndex(group => group.id === newColumn.id)\r\n\r\n      newGroups.splice(groupIdx, 1, newColumn)\r\n\r\n      const newState = {\r\n        ...this.props.board,\r\n        groups: newGroups\r\n      }\r\n      this.props.updateBoard(newState)\r\n      return;\r\n    }\r\n    // inter-groups-movement of cards:\r\n    const startTaskIds = Array.from(start.cards); //array-copy of the cards at the start-column\r\n    const shiftedTask = startTaskIds.find(task => task.id === draggableId)//(my-code) targeting the card i wish to DND and putting it as a var\r\n    startTaskIds.splice(source.index, 1);//cutting one card out at the start-column\r\n    const newStart = {\r\n      ...start,\r\n      cards: startTaskIds\r\n    } // creating a start column variable that is spread and also updated with cards (one card less..)\r\n\r\n\r\n    const finishtaskIds = Array.from(finish.cards);\r\n    finishtaskIds.splice(destination.index, 0, shiftedTask)\r\n    const newFinish = {\r\n      ...finish,\r\n      cards: finishtaskIds\r\n    }\r\n\r\n    const newGroups = Array.from(columns);\r\n    //here i need to prepare the final stage where i take the groups array, and make it updated. then i could send it to the newState.\r\n    const startGroupIdx = newGroups.findIndex(group => group.id === newStart.id)\r\n    const finishGroupIdx = newGroups.findIndex(group => group.id === newFinish.id)\r\n\r\n    newGroups.splice(startGroupIdx, 1, newStart)\r\n    newGroups.splice(finishGroupIdx, 1, newFinish)\r\n\r\n    const newState = {\r\n      ...this.props.board,\r\n      groups: newGroups\r\n    }\r\n    this.props.updateBoard(newState)\r\n    return;\r\n  }\r\n  onRemoveGroup = (groupId) => {\r\n    var newboard = { ...this.props.board };\r\n    newboard.groups = newboard.groups.filter((group) => group.id !== groupId);\r\n    this.props.updateBoard(newboard);\r\n  };\r\n  onRemoveCard = (cardId) => {\r\n    var newboard = JSON.parse(JSON.stringify(this.props.board));\r\n    const groupIdx = newboard.groups.findIndex(\r\n      (group) => group.id === this.state.isDetailsShown.groupId\r\n    );\r\n    const newCards = Array.from(newboard.groups[groupIdx].cards);\r\n    const cardIdx = newCards.findIndex((card) => card.id === cardId);\r\n    newCards.splice(cardIdx, 1);\r\n    newboard.groups[groupIdx].cards = newCards;\r\n    this.props.updateBoard(newboard);\r\n  };\r\n\r\n  render() {\r\n    const { board } = this.props\r\n    if (board === null) return <div>Loading...</div>\r\n    return (\r\n      <div className=\"board-details \" style={{ backgroundImage: `url(${board.style.bgImg ? board.style.bgImg : ''})`, backgroundSize: \"cover\", backgroundRepeat: \"no-repeat\", minHeight: \"90vh\", backgroundColor: `${board.style.bgColor ? board.style.bgColor : ''}` }} >\r\n\r\n        <BoardHeader board={board} updateBoard={this.props.updateBoard}/>\r\n\r\n\r\n        <DragDropContext onDragEnd={this.onDragEnd}>\r\n          <StickyBox className=\"groups-container flex\">\r\n            {board.groups.map(group => <CardList onAdd={this.onAdd} group={group} key={group.id} updateState={this.updateState} onRemoveGroup={this.onRemoveGroup} />)}\r\n            {this.state.isAddGroup ?\r\n              <AddText updateState={this.updateState} onAdd={this.onAdd} type=\"Group\" groupId={null} />\r\n              :\r\n              <button className=\"add-group btn\" onClick={() => this.onEditGroup()}>Add List</button>\r\n            }\r\n          </StickyBox>\r\n        </DragDropContext>\r\n\r\n        {this.state.isDetailsShown.cardId &&\r\n          <CardDetails updateState={this.updateState} onRemoveCard={this.onRemoveCard} cardId={this.state.isDetailsShown.cardId} groupId={this.state.isDetailsShown.groupId} />}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    board: state.boardReducer.currBoard,\r\n  };\r\n};\r\nconst mapDispatchToProps = {\r\n  loadBoard,\r\n  updateBoard,\r\n  updateBoardFromSocket\r\n};\r\nexport const BoardDetails = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(_BoardDetails);\r\n","import React from 'react'\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { FaUserCircle } from \"react-icons/fa\";\r\nimport { Avatar } from '@material-ui/core';\r\n\r\n\r\nexport function MembersChart({memberNumber}) {\r\n\r\n    const allMembers = [\r\n        {\r\n            _id: \"5f6f020e486616919e1f0de3\",\r\n            userName: \"Arik Einav\",\r\n            imgUrl: \"https://res.cloudinary.com/cloudinary-img/image/upload/v1600864700/Taskit/erik_lnajh5.png\"\r\n        }, {\r\n            _id: \"5f6f0220486616919e1f13c2\",\r\n            userName: \"Shlomi Koplianski\",\r\n            imgUrl: \"https://res.cloudinary.com/cloudinary-img/image/upload/v1600864700/Taskit/shlomi_rujmqc.png\"\r\n        }, {\r\n            _id: \"5f6f01f9486616919e1f0682\",\r\n            userName: \"Shahar Sadof\",\r\n            imgUrl: \"https://res.cloudinary.com/cloudinary-img/image/upload/v1600864700/Taskit/shahar_wyjntk.png\"\r\n        }, {\r\n            _id: \"5f6f374f81cc744a0002589c\",\r\n            userName: \"Meital Lazarovich\",\r\n            imgUrl: \"https://res.cloudinary.com/cloudinary-img/image/upload/v1601122561/Taskit/meital_xr42uc.png\"\r\n        }, {\r\n            _id: \"5f6f37c181cc744a0002589d\",\r\n            userName: \"Yaron Biton\",\r\n            imgUrl: \"https://res.cloudinary.com/cloudinary-img/image/upload/v1601123470/Taskit/Yaron_z1uuw2.png\"\r\n        },\r\n    ]\r\n\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    }\r\n    const onSelectMember = (userName) => {\r\n        handleClose()\r\n        var userToShow;\r\n        switch (userName) {\r\n            case 'Arik Einav':\r\n                userToShow = {num: 0, userName: 'Arik Einav'}\r\n                break;\r\n            case 'Shlomi Koplianski':\r\n                userToShow = {num: 1, userName: 'Shlomi Koplianski'}\r\n                break;\r\n            case 'Shahar Sadof':\r\n                userToShow = {num: 2, userName: 'Shahar Sadof'}\r\n                break;\r\n            case 'Meital Lazarovich':\r\n                userToShow = {num: 3, userName: 'Meital Lazarovich'}\r\n                break;\r\n            case 'Yaron Biton':\r\n                userToShow = {num: 4, userName: 'Yaron Biton'}\r\n                break;\r\n        \r\n            default:\r\n                break;\r\n        }\r\n        memberNumber(userToShow)\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"members-chart\">\r\n            <button className=\"choose-member-btn\" aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick} >\r\n                <FaUserCircle style={{ margin: \"0px 5px -2px\" }} />Member\r\n            </button>\r\n            <Menu\r\n                id=\"simple-menu\"\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}\r\n            >\r\n                {allMembers &&\r\n                    allMembers.map(member =>\r\n                        <MenuItem key={member._id} className=\"user-in-list\">\r\n                            <div className=\"members flex\" onClick={() => onSelectMember(member.userName)}>\r\n                                <Avatar src={member.imgUrl} alt=\"img\" className=\"user-img\" />\r\n                                <p className=\"user-name\">{member.userName}</p>\r\n                            </div>\r\n                        </MenuItem>)\r\n                }\r\n            </Menu>\r\n        </div>\r\n    )\r\n}","import React, { Component } from 'react'\r\nimport { Doughnut, Pie } from 'react-chartjs-2';\r\nimport { Line as LineChartData } from 'react-chartjs-2';\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport { MembersChart } from '../cmps/MembersChart'\r\n\r\nconst datasetsForLine = [\r\n    {\r\n        label: '',\r\n        fillColor: 'rgba(220,220,220,0.2)',\r\n        strokeColor: 'rgba(220,220,220,1)',\r\n        pointColor: 'rgba(220,220,220,1)',\r\n        pointStrokeColor: '#fff',\r\n        pointHighlightFill: '#fff',\r\n        pointHighlightStroke: 'rgba(220,220,220,1)',\r\n        data: [0, 3.5, 5, 4, 6, 7, 6, 8],\r\n    },\r\n    {\r\n        label: '',\r\n        fillColor: 'rgba(151,187,205,0.2)',\r\n        strokeColor: 'rgba(151,187,205,1)',\r\n        pointColor: 'rgba(151,187,205,1)',\r\n        pointStrokeColor: '#fff',\r\n        pointHighlightFill: '#fff',\r\n        pointHighlightStroke: 'rgba(151,187,205,1)',\r\n        data: [0, 3, 4, 5, 7, 5, 7, 7.5],\r\n    },\r\n    {\r\n        label: '',\r\n        fillColor: 'rgba(151,187,205,0.2)',\r\n        strokeColor: 'rgba(151,187,205,1)',\r\n        pointColor: 'rgba(151,187,205,1)',\r\n        pointStrokeColor: '#fff',\r\n        pointHighlightFill: '#fff',\r\n        pointHighlightStroke: 'rgba(151,187,205,1)',\r\n        data: [0, 3.5, 4, 6, 4.5, 7, 5.5, 7.5],\r\n    },\r\n    {\r\n        label: '',\r\n        fillColor: 'rgba(151,187,205,0.2)',\r\n        strokeColor: 'rgba(151,187,205,1)',\r\n        pointColor: 'rgba(151,187,205,1)',\r\n        pointStrokeColor: '#fff',\r\n        pointHighlightFill: '#fff',\r\n        pointHighlightStroke: 'rgba(151,187,205,1)',\r\n        data: [0, 1, 2, 1, 1, 3, 2.5, 2],\r\n    },\r\n    {\r\n        label: '',\r\n        fillColor: 'rgba(151,187,205,0.2)',\r\n        strokeColor: 'rgba(151,187,205,1)',\r\n        pointColor: 'rgba(151,187,205,1)',\r\n        pointStrokeColor: '#fff',\r\n        pointHighlightFill: '#fff',\r\n        pointHighlightStroke: 'rgba(151,187,205,1)',\r\n        data: [0, 0, 0, 0, 0, 0, 0, 0],\r\n    }\r\n]\r\nfunction lineData(userToShow) {\r\n    return {\r\n        labels: ['Day 0', 'Day 2', 'Day 4', 'Day 6', 'Day 8', 'Day 10', 'Day 12', 'Day 14'],\r\n        datasets: [datasetsForLine[userToShow]]\r\n    }\r\n}\r\nconst options = {\r\n    scaleShowGridLines: true,\r\n    scaleGridLineColor: 'rgba(0,0,0,.05)',\r\n    scaleGridLineWidth: 1,\r\n    scaleShowHorizontalLines: true,\r\n    scaleShowVerticalLines: true,\r\n    bezierCurve: true,\r\n    bezierCurveTension: 0.4,\r\n    pointDot: true,\r\n    pointDotRadius: 4,\r\n    pointDotStrokeWidth: 1,\r\n    pointHitDetectionRadius: 20,\r\n    datasetStroke: true,\r\n    datasetStrokeWidth: 2,\r\n    datasetFill: true,\r\n    legendTemplate: '<ul class=\\\"<%=name.toLowerCase()%>-legend\\\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\\\"background-color:<%=datasets[i].strokeColor%>\\\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>',\r\n}\r\nconst styles = {\r\n    graphContainer: {\r\n        padding: '0 15px 10px'\r\n    }\r\n}\r\nfunction pieData() {\r\n    const labels = ['Done', 'In progress', 'Task']\r\n    const data = [5, 8, 12]\r\n    return {\r\n        labels,\r\n        datasets: [{\r\n            data,\r\n            backgroundColor: [\r\n                '#FF6384',\r\n                '#36A2EB',\r\n                '#FFCE56'\r\n            ],\r\n            hoverBackgroundColor: [\r\n                '#FF6384',\r\n                '#36A2EB',\r\n                '#FFCE56'\r\n            ]\r\n        }]\r\n    }\r\n}\r\nfunction doughnutData() {\r\n    const labels = ['Shahar', 'Arik', 'Shlomi']\r\n    const data = [12, 17, 20]\r\n    return {\r\n        labels,\r\n        datasets: [{\r\n            data,\r\n            backgroundColor: [\r\n                '#FF6384',\r\n                '#36A2EB',\r\n                '#FFCE56'\r\n            ],\r\n            hoverBackgroundColor: [\r\n                '#FF6384',\r\n                '#36A2EB',\r\n                '#FFCE56'\r\n            ]\r\n        }]\r\n    }\r\n}\r\n\r\nclass _GraphDetails extends Component {\r\n\r\n    state = {\r\n        boardId: null,\r\n        data1: null,\r\n        data2: null,\r\n        data3: null,\r\n        currUser: 'Arik Einav'\r\n    }\r\n    componentDidMount() {\r\n        const { boardId } = this.props.match.params;\r\n        this.setState({ boardId })\r\n        this.setState({ data1: doughnutData() })\r\n        this.setState({ data2: pieData() })\r\n        this.setState({ data3: lineData(0) })\r\n    }\r\n    memberNumber = (userToShow) => {\r\n        console.log(\"memberNumber -> userToShow\", userToShow)\r\n        this.setState({ data3: lineData(userToShow.num) })\r\n        this.setState({ currUser: userToShow.userName })\r\n    }\r\n    backToBoard = () => {\r\n        this.props.history.push(`/board/${this.state.boardId}`)\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        if (!this.state.data1 || !this.state.data2 || !this.state.data3) return <div>Loading...</div>\r\n\r\n        return (\r\n            <div>\r\n                <button className=\"back-board-btn\" onClick={this.backToBoard}>Back</button>\r\n\r\n                <div className=\"flex\">\r\n                    <div className=\"doughnut-chart\">\r\n                        <h3>All Tasks</h3>\r\n                        <div className=\"graph-container\">\r\n                            <Doughnut data={this.state.data1} options={options}\r\n                                width={500} height={250} />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"pie-chart\">\r\n                        <h3>Status per member</h3>\r\n                        <div className=\"graph-container\">\r\n                            <Pie data={this.state.data2} options={options}\r\n                                width={500} height={250} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"line-chart\">\r\n                    <h4>Tasks per day of {`${this.state.currUser}`}</h4>\r\n                    <MembersChart memberNumber={this.memberNumber} />\r\n                    <p>Tasks</p>\r\n                    <div style={styles.graphContainer}>\r\n                        <LineChartData data={this.state.data3}\r\n                            options={options}\r\n                            width={600} height={150} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport const GraphDetails = withRouter(_GraphDetails)\r\n","import { Home } from './pages/Home.jsx'\r\nimport { BoardApp } from './pages/BoardApp.jsx'\r\nimport { BoardDetails } from './pages/BoardDetails.jsx'\r\nimport { GraphDetails } from './pages/GraphDetails.jsx'\r\n\r\nexport default [\r\n    {\r\n        path: '/board/:boardId',\r\n        component: BoardDetails\r\n    },\r\n    {\r\n        path: '/graph/:boardId',\r\n        component: GraphDetails\r\n    },\r\n    {\r\n        path: '/board',\r\n        component: BoardApp\r\n    },\r\n    {\r\n        path: '/',\r\n        component: Home\r\n    }\r\n]\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\n\r\nexport function Home() {\r\n    return (\r\n        <div>\r\n            <div className=\"home\">\r\n            <Link className=\"enter\" to=\"/board\"><p>Enter</p></Link>\r\n    <img src=\"https://res.cloudinary.com/dsfnyykw9/image/upload/v1601112428/kanban5_fll98a.jpg\" alt=\"img\"/>\r\n            \r\n            </div>\r\n            <div className=\"home-details-comtainer\">\r\n               \r\n                <div className=\"home-details flex\">\r\n                    <img src=\"https://res.cloudinary.com/dsfnyykw9/image/upload/v1601040007/vectorstock_25716430_e79vvh.jpg\" alt=\"img\"/>\r\n                    <div className=\"info\">\r\n                        <h2>Efficient Organizing Tool</h2>\r\n                        <p>Taskit provides the upmost efficient platform to architecte your work time table. Allow us to help you do, What You Do, Better! </p>\r\n                    </div>\r\n                </div >\r\n\r\n                \r\n                <div  className=\"home-details second  flex\">\r\n                    <div className=\"info\">\r\n                        <h2>Manage your Performance</h2>\r\n                        <p>Be it your mobile phone, tablet or desktop computer, team leaders are now able to supervise their team's effort, gain a closer look at the team's work-progress, delegate authority to team members and manage the project more effectively</p>\r\n                    </div>\r\n                    <img src=\"https://res.cloudinary.com/dsfnyykw9/image/upload/v1601042641/vectorstock_29242780_wd2ele.jpg\" alt=\"img\"/>\r\n                </div >\r\n\r\n                <div  className=\"home-details flex\">\r\n                    <img src=\"https://res.cloudinary.com/dsfnyykw9/image/upload/v1601043061/vectorstock_31608808_og58qj.jpg\" alt=\"img\"/>\r\n                    <div className=\"info\">\r\n                        <h2>Make it yours</h2>\r\n                        <p>Make it feel like home for you and your team. Customize the board's design, organize your lists to fit the team's flow. Taskit, along with its many features allow an accesible and flexible design to all.</p>\r\n                    </div>\r\n                </div >\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { login } from \"../store/actions/userActions\";\r\nimport TextField from \"@material-ui/core/TextField\"\r\n\r\nclass _Login extends Component {\r\n  \r\n  state = {\r\n\r\n    msg: \"\",\r\n    loginCred: {\r\n      userName: \"\",\r\n      password: \"\",\r\n    },\r\n  };\r\n  \r\n\r\n  loginHandleChange = (ev) => {\r\n    const { name, value } = ev.target;\r\n    this.setState((prevState) => ({msg:\"\",\r\n      loginCred: {\r\n        ...prevState.loginCred,\r\n        [name]: value,\r\n      },\r\n    }));\r\n  };\r\n\r\n  doLogin = async (ev) => {\r\n    ev.preventDefault();\r\n    const { userName, password } = this.state.loginCred;\r\n    if (!userName || !password) {\r\n      return this.setState({ msg: \"Please enter user/password\" });\r\n    }\r\n\r\n    const userCreds = { userName, password };\r\n    const user = await this.props.login(userCreds)\r\n      if (!user) this.setState({ msg: \"There isn't an account for this user\" })\r\n      else{\r\n    this.props.onCloseModal()\r\n    this.setState({ loginCred: { userName: \"\", password: \"\" } });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div >\r\n        <h3>Login to Taskit</h3>\r\n        <form className=\"login-page\" onSubmit={this.doLogin}>\r\n              <TextField\r\n            id=\"outlined-basic\"\r\n            type=\"text\"\r\n            name=\"userName\"\r\n            value={this.state.loginCred.userName}\r\n            onChange={this.loginHandleChange}\r\n            label=\"Username\"\r\n            variant=\"outlined\"\r\n          />\r\n\r\n          <br />\r\n          <TextField\r\n            id=\"outlined-password-input\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={this.state.loginCred.password}\r\n            onChange={this.loginHandleChange}\r\n            autoComplete=\"current-password\"\r\n            variant=\"outlined\"\r\n          />\r\n          <br/>\r\n          \r\n     {this.state.msg &&<div className=\"error-msg\"> <h5>{this.state.msg}</h5></div>} \r\n     <br/>\r\n     <br/>\r\n          <button className=\"btn login-btn\">Login</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loggedInUser: state.userReducer.loggedInUser,\r\n  };\r\n};\r\nconst mapDispatchToProps = {\r\n\r\n  login,\r\n};\r\n\r\n\r\nexport const Login = connect(mapStateToProps, mapDispatchToProps)(_Login);\r\n","// import { cloneElement } from \"react\";\r\nimport { userService } from \"../../services/userService\";\r\n\r\nexport function login(userCreds) {\r\n  return async dispatch => {\r\n    const user = await userService.login(userCreds);\r\n    if(!user) return;\r\n    dispatch({ type: 'SET_USER', user }); \r\n    window.location.assign('#/board')\r\n    return user\r\n    }\r\n};\r\nexport function signup(userCreds) {\r\n  return async dispatch => {\r\n    const user = await userService.signup(userCreds);\r\n    dispatch({ type: 'SET_USER', user });\r\n    window.location.assign('#/board')\r\n  };\r\n}\r\nexport function logout() {\r\n  return async dispatch => {\r\n    await userService.logout();\r\n    dispatch({ type: 'SET_USER', user: null });\r\n    window.location.assign('#/')\r\n\r\n  };\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport function update(userCreds) {\r\n  return async dispatch => {\r\n    const user = await userService.signup(userCreds);\r\n    dispatch({ type: 'SET_USER', user });\r\n    window.location.assign('#/board')\r\n  };\r\n}\r\n\r\nexport function loginAsGuest() {\r\n  return async dispatch => {\r\n    const user = await userService.loginAsGuest();\r\n    dispatch({ type: 'SET_USER', user });\r\n    window.location.assign('#/board')\r\n  };\r\n}","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { signup } from \"../store/actions/userActions\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nclass _Submit extends Component {\r\n  state = {\r\n    msg: \"\",\r\n    signupCred: {\r\n      password: \"\",\r\n      userName: \"\",\r\n    },\r\n  };\r\n\r\n  signupHandleChange = (ev) => {\r\n    const { name, value } = ev.target;\r\n    this.setState((prevState) => ({msg:\"\",\r\n      signupCred: {\r\n        ...prevState.signupCred,\r\n        [name]: value,\r\n      },\r\n    }));\r\n  };\r\n\r\n  doSignup = async (ev) => {\r\n    ev.preventDefault();\r\n    const { userName, password } = this.state.signupCred;\r\n    if (!userName || !password) {\r\n      return this.setState({ msg: \"All inputs are required!\" });\r\n    }\r\n    const signupCreds = { userName, password };\r\n    this.props.signup(signupCreds);\r\n    this.props.onCloseModal();\r\n    this.setState({ signupCred: { userName: \"\", password: \"\" } });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div >\r\n        <h3>Sign in to Taskit</h3>\r\n        <form className=\"login-page\" onSubmit={this.doSignup}>\r\n\r\n          <TextField\r\n            id=\"outlined-basic\"\r\n            type=\"text\"\r\n            name=\"userName\"\r\n            value={this.state.signupCred.userName}\r\n            onChange={this.signupHandleChange}\r\n            label=\"Username\"\r\n            variant=\"outlined\"\r\n          />\r\n\r\n          <br />\r\n\r\n          <TextField\r\n            id=\"outlined-password-input\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={this.state.signupCred.password}\r\n            onChange={this.signupHandleChange}\r\n            autoComplete=\"current-password\"\r\n            variant=\"outlined\"\r\n          />\r\n          <br />\r\n          {this.state.msg &&<div className=\"error-msg\"> <h5>{this.state.msg}</h5></div>} \r\n     <br/>\r\n     <br/>\r\n          <button className=\"btn login-btn\">Signin</button>\r\n        </form>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loggedInUser: state.userReducer.loggedInUser,\r\n  };\r\n};\r\nconst mapDispatchToProps = {\r\n  signup,\r\n};\r\n\r\nexport const Submit = connect(mapStateToProps, mapDispatchToProps)(_Submit);\r\n","import React from 'react'\r\nimport { NavLink, withRouter } from 'react-router-dom';\r\nimport { Login } from './Login'\r\nimport { Submit } from './Submit'\r\nimport { Modal } from './Modal'\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../store/actions/userActions\";\r\n\r\nclass _NavBar extends React.Component {\r\n  _isMounted = false\r\n  state = {\r\n    isLogged: false,\r\n    isSignIn: false,\r\n    isModalShow: false,\r\n    isIn: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.loggedInUser) this.setState({ isIn: true });\r\n  }\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  onIsLogged = () => {\r\n    this.setState({ isLogged: true, isModalShow: true, isSignIn: false })\r\n\r\n  }\r\n  onIsSubmit = () => {\r\n    this.setState({ isSignIn: true, isModalShow: true, isLogged: false })\r\n  }\r\n\r\n  onCloseModal = () => {\r\n    this.setState({ isSignIn: false, isModalShow: false, isLogged: false, isIn: true })\r\n  }\r\n  onClose = () => {\r\n    this.setState({ isSignIn: false, isModalShow: false, isLogged: false })\r\n  }\r\n  onLoginHere = () => {\r\n    this.setState({ isSignIn: false, isLogged: true })\r\n  }\r\n  onLogOut = () => {\r\n    this.setState({ isIn: false })\r\n    this.props.logout()\r\n  }\r\n\r\n  render() {\r\n    const { loggedInUser } = this.props\r\n\r\n    return (\r\n      <nav className=\"nav-bar grid align-center\">\r\n        <div className=\"navdiv-s\"><NavLink to=\"/board\">Boards</NavLink></div>\r\n        <div className=\"logo\"><NavLink to=\"/\">Task<span className=\"logo-i\">i</span>t</NavLink></div>\r\n\r\n        <div className={`navdiv-s signup ${(!this.state.isIn) ? '' : 'hide'}`} onClick={this.onIsSubmit}>Sign Up</div>\r\n        <div className={`navdiv-s login  ${(!this.state.isIn) ? '' : 'hide'}`} onClick={this.onIsLogged}>Login</div>\r\n        <div className={`navdiv-s login  ${(!this.state.isIn) ? 'hide' : ''}`} onClick={this.onLogOut}>LogOut</div>\r\n\r\n        {this.state.isLogged && <Modal\r\n          isForLog={true}\r\n          onClose={this.onClose}\r\n          children={<Login onCloseModal={this.onCloseModal} />}\r\n        />}\r\n        {this.state.isSignIn && <Modal\r\n          onLoginHere={this.onLoginHere}\r\n          isForLog={true}\r\n          onClose={this.onClose}\r\n          children={<Submit onCloseModal={this.onCloseModal} />}\r\n        />}\r\n      </nav>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loggedInUser: state.userReducer.loggedInUser,\r\n  };\r\n};\r\nconst mapDispatchToProps = {\r\n  logout,\r\n};\r\n\r\nexport const NavBar = connect(mapStateToProps, mapDispatchToProps)(withRouter(_NavBar));\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport routes from './routes.js'\r\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport { NavBar } from './cmps/NavBar'\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <NavBar />\r\n        <Switch>\r\n            {routes.map(route => <Route key={route.path} exact component={route.component} path={route.path} />)}\r\n        </Switch>\r\n      </Router>\r\n      \r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const initialState = {\r\n    boards: [],\r\n    currBoard : null\r\n  };\r\n  \r\n  export function boardReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n      case \"SET_BOARDS\":\r\n  \r\n        return {\r\n          ...state,\r\n          boards: [...action.boards],\r\n        };\r\n        case \"SET_BOARD\":\r\n            return {\r\n              ...state,\r\n              currBoard: {...action.board},\r\n            };\r\n      case \"REMOVE_BOARD\":\r\n        return {\r\n          ...state,\r\n          boards: state.boards.filter((board) => board._id !== action.id),\r\n        };\r\n  \r\n      case \"ADD_BOARD\":\r\n        return {\r\n          ...state,\r\n          boards: [...state.boards, action.board],\r\n        };\r\n      case \"UPDATE_BOARD\":\r\n        return {\r\n          ...state,\r\n          currBoard: {...action.board},\r\n        };\r\n  \r\n      default:\r\n        return state;\r\n    }\r\n  }","// let localLoggedinUser = null;\r\n// if (sessionStorage.user) localLoggedinUser = JSON.parse(sessionStorage.user);\r\n\r\nconst initialState = {\r\n  loggedInUser: null,\r\n};\r\n\r\nexport function userReducer (state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_USER':\r\n      return { ...state, loggedInUser: action.user };\r\n    default:\r\n      return state;\r\n  }\r\n}","import { createStore, applyMiddleware, compose, combineReducers } from 'redux'\r\n\r\nimport thunk from 'redux-thunk';\r\nimport {boardReducer} from './reducers/boardReducer';\r\nimport {userReducer} from './reducers/userReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n    boardReducer,\r\n    userReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { Provider } from 'react-redux';\r\nimport { store } from './store/store';\r\n\r\nimport './styles/global.scss';\r\n// import * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n   <React.StrictMode>\r\n    <Provider store={ store }>\r\n    <App />\r\n    </Provider>\r\n   </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// serviceWorker.unregister();\r\n"],"sourceRoot":""}