(this.webpackJsonpsprint4=this.webpackJsonpsprint4||[]).push([[0],{282:function(e,t,a){e.exports=a(584)},338:function(e,t){},583:function(e,t,a){},584:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(17),s=a.n(o),i=a(55);var l=a(13),c=a(14),u=a(16),d=a(15),p=a(23);function m(e){var t=e.board;return r.a.createElement("div",null,r.a.createElement(i.b,{to:"/board/".concat(t._id)},r.a.createElement("div",{style:t.style&&t.style.bgImg?{backgroundImage:"url(".concat(t.style&&t.style.bgImg,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"}:{backgroundColor:"".concat(t.style.bgColor?t.style.bgColor:"green")},className:"board-preview flex align-center"},r.a.createElement("h3",{style:{backgroundColor:"rgb(1 139 152 / 15%)",height:"25px",width:"100%"}},t.title))))}function h(e){var t=e.boards,a=e.onAddBoard;return r.a.createElement("div",null,r.a.createElement("div",{dir:"rtl",className:"board-list grid"},t.map((function(e){return r.a.createElement(m,{board:e,key:e._id})})),r.a.createElement("div",{onClick:a,style:{backgroundColor:"none",cursor:"pointer"},className:"board-preview grid "},r.a.createElement("h3",{style:{paddingTop:"10px"}},"Create new board"))))}var g=a(9),f=a.n(g),b=a(18),v=a(254),E=a.n(v).a.create({withCredentials:!0}),C=function(e,t){return w(e,"GET",t)},y=function(e,t){return w(e,"POST",t)},k=function(e,t){return w(e,"PUT",t)},S=function(e,t){return w(e,"DELETE",t)};function w(e){return x.apply(this,arguments)}function x(){return(x=Object(b.a)(f.a.mark((function e(t){var a,n,r,o=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:"get",n=o.length>2&&void 0!==o[2]?o[2]:null,e.prev=2,e.next=5,E({url:"".concat("/api/").concat(t),method:a,data:n});case 5:return r=e.sent,e.abrupt("return",r.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(a,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(n)),console.dir(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var N={query:function(e){return C("board")},loadBoard:function(e){return C("board/".concat(e))},removeBoard:function(e){return S("board/".concat(e))},update:function(e){return k("board/".concat(e._id),e)},getCardById:function(e,t,a){return e.groups.find((function(e){return e.id===t})).cards.find((function(e){return e.id===a}))},create:function(e,t){var a=function(e,t){return{title:e,style:{bgImg:t},groups:[{id:"g"+O(),title:"New List",cards:[{id:"c"+O(),title:"New Card",description:"Add your description..."}]}]}}(e,t);return y("board",a)},makeId:O,addActivity:function(e,t,a,n){e.activities||(e.activities=[]);return e.activities.unshift({id:"a"+O(),title:t,createdAt:new Date,propertyTitle:a.title,byMember:n}),e},removeActivities:function(e){return e.activities=[],e}};function O(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",a="0123456789abcdefgABCDEFG",n=0;n<e;n++)t+=a.charAt(Math.floor(Math.random()*a.length));return t}var j,A=a(255),B=a.n(A),I={setup:function(){j=B()("/")},terminate:function(){j=null},on:function(e,t){j.on(e,t)},off:function(e,t){j.off(e,t)},emit:function(e,t){j.emit(e,t)},broadcastEmit:function(e,t){j.broadcast.emit(e,t)}};function D(e){return function(){var t=Object(b.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"UPDATE_BOARD",board:e}),t.prev=1,t.next=4,N.update(e);case 4:I.emit("update board",e),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log("ERROR: while update board");case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}var T=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement("div",{className:"modal-wrapper",onClick:this.props.onClose},r.a.createElement("div",{className:" ".concat(this.props.isForLog?"login-modal":"modal-content"," flex column  align-center"),onClick:function(e){return e.stopPropagation()}},e,this.props.isForLog&&this.props.onLoginHere&&r.a.createElement("p",null,"Already have an account?"," ",r.a.createElement("span",{onClick:this.props.onLoginHere},"login here"))))}}]),a}(r.a.Component),R={uploadImg:function(e){return L.apply(this,arguments)},dataURLtoFile:function(e,t){var a=e.split(","),n=a[0].match(/:(.*?);/)[1],r=atob(a[1]),o=r.length,s=new Uint8Array(o);for(;o--;)s[o]=r.charCodeAt(o);return new File([s],t,{type:n})},uploadCanvasImg:function(e){return U.apply(this,arguments)}};function L(){return(L=Object(b.a)(f.a.mark((function e(t){var a,n,r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"cloudinary-img",a="https://api.cloudinary.com/v1_1/".concat("cloudinary-img","/image/upload"),(n=new FormData).append("file",t.target.files[0]),n.append("upload_preset","ml_default"),e.prev=5,e.next=8,fetch(a,{method:"POST",body:n});case 8:return r=e.sent,e.next=11,r.json();case 11:return o=e.sent,e.abrupt("return",o.secure_url);case 15:e.prev=15,e.t0=e.catch(5),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}function U(){return(U=Object(b.a)(f.a.mark((function e(t){var a,n,r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"cloudinary-img",a="https://api.cloudinary.com/v1_1/".concat("cloudinary-img","/image/upload"),(n=new FormData).append("file",t),n.append("upload_preset","ml_default"),e.prev=5,e.next=8,fetch(a,{method:"POST",body:n});case 8:return r=e.sent,e.next=11,r.json();case 11:return o=e.sent,e.abrupt("return",o.secure_url);case 15:e.prev=15,e.t0=e.catch(5),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}var M=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onSelectImg=function(t){if(e.props.card)return e.props.card.imgUrl=t,e.props.updateState("isAddImgModalShown",!1),e.props.card;e.props.onAddimg(t)},e.onAddImg=function(){var t=Object(b.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a.target.files[0]),t.next=3,R.uploadImg(a);case 3:n=t.sent,e.onSelectImg(n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"add-img-page"},!this.props.isForBoard&&r.a.createElement("div",{className:"empty-modal",onClick:function(){return e.props.updateState("isAddImgModalShown",!1)}}),r.a.createElement("div",{className:this.props.isForBoard?"":"add-img-modal flex column"},r.a.createElement("div",{className:"add-private-img"},["https://res.cloudinary.com/dsfnyykw9/image/upload/v1600679540/markus-spiske-1LLh8k2_YFk-unsplash_isgzdk.jpg","https://res.cloudinary.com/cloudinary-img/image/upload/v1600352679/Taskit/tony-yeung-Exq6e9gH4Ag-unsplash_e7ltjx.jpg","https://res.cloudinary.com/cloudinary-img/image/upload/v1600352678/Taskit/seth-doyle--AFVBe7VGqQ-unsplash_xjlclq.jpg","https://res.cloudinary.com/dsfnyykw9/image/upload/v1600675580/pawel-czerwinski-3k9PGKWt7ik-unsplash_n9aon0.jpg","https://res.cloudinary.com/dsfnyykw9/image/upload/v1600670107/cristina-gottardi-iInYwn194Tk-unsplash_l5wrah.jpg","https://res.cloudinary.com/dsfnyykw9/image/upload/v1600670064/you-x-ventures-Oalh2MojUuk-unsplash_vl1wmw.jpg","https://res.cloudinary.com/dsfnyykw9/image/upload/v1600670112/scott-graham-5fNmWej4tAA-unsplash_wrvxnx.jpg","https://res.cloudinary.com/dsfnyykw9/image/upload/v1600670086/giusy-iordache-ZtqDLEkJPcc-unsplash_ywibhv.jpg","https://res.cloudinary.com/dsfnyykw9/image/upload/v1600680300/irfan-simsar-wxWulfjN-G0-unsplash_xwffbk.jpg","https://res.cloudinary.com/dsfnyykw9/image/upload/v1601031276/carousel-1684591_s4p4ih.png"].map((function(t,a){return r.a.createElement("img",{onClick:function(){return e.onSelectImg(t)},className:"img-preview",key:a,src:t,alt:"Loading"})})),r.a.createElement("input",{onChange:this.onAddImg,style:{width:"180px"},type:"file"}))))}}]),a}(n.Component),_=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={text:"",imgUrl:""},e.handleValueChange=function(t){var a=t.target.value;e.setState({text:a})},e.onSubmit=function(t){t.preventDefault(),e.props.saveBoard(e.state.text,e.state.imgUrl),e.setState({text:"",imgUrl:""})},e.onAddimg=function(t){e.setState({imgUrl:t})},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{className:"add-board-form flex column",onSubmit:this.onSubmit},r.a.createElement("input",{className:"board-name-input",placeholder:"Board name",type:"text",onChange:this.handleValueChange,value:this.state.text}),r.a.createElement(M,{isForBoard:this.props.isForBoard,onAddimg:this.onAddimg}),r.a.createElement("div",{className:"flex"},r.a.createElement("button",{className:"btn"},"Add Board"),this.state.imgUrl&&r.a.createElement("img",{className:"img-board-preview",src:this.state.imgUrl,alt:"Loading"}))))}}]),a}(r.a.Component),F=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isAddBoardShown:!1,isImgForBoard:!1},e.onShowModal=function(){e.setState({isAddBoardShown:!0,isImgForBoard:!0})},e.onCloseModal=function(){e.setState({isAddBoardShown:!1,isImgForBoard:!1})},e.onSaveBoard=function(t,a){e.props.addBoard(t,a),e.onCloseModal()},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.loadBoards()}},{key:"render",value:function(){var e=this.props.boards;return r.a.createElement("div",{className:"board-app flex column"},r.a.createElement("div",{className:"ba-boards flex align-center fiftyPh hundredPw space-evenly"},r.a.createElement("div",{className:" h1-div thirdyPw flex hundredPh"},r.a.createElement("h1",null,"Your Boards:")),r.a.createElement("div",{className:"seventyPw flex justify-center"},r.a.createElement(h,{boards:e,onAddBoard:this.onShowModal}))),r.a.createElement("div",{className:"ba-templates flex align-center fiftyPh hundredPw space-evenly"},r.a.createElement("div",{className:" h1-div thirdyPw flex hundredPh"},r.a.createElement("h1",null,"Template Boards:")),r.a.createElement("div",{className:"seventyPw flex justify-center"},r.a.createElement(h,{boards:e,onAddBoard:this.onShowModal}))),this.state.isAddBoardShown&&r.a.createElement(T,{onClose:this.onCloseModal,children:r.a.createElement(_,{isForBoard:this.state.isImgForBoard,saveBoard:this.onSaveBoard,onClose:this.onCloseModal})}))}}]),a}(n.Component),P={loadBoards:function(){return function(){var e=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.query();case 3:a=e.sent,t({type:"SET_BOARDS",boards:a}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("ERROR: while loading boards");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},addBoard:function(e,t){return function(){var a=Object(b.a)(f.a.mark((function a(n){var r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,N.create(e,t);case 3:r=a.sent,n({type:"ADD_BOARD",board:r}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log("ERROR: while adding board");case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}},G=Object(p.b)((function(e){return{boards:e.boardReducer.boards}}),P)(F),H=a(10),Y=a(35),z=a(256),W=a(625),V=a(590),q=a(623),X=a(94),J=a(176),K=a.n(J),Q=a(262),Z=a(261),$=a(93),ee=a(263),te=a(21),ae=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onSelectColor=function(t,a){a.stopPropagation(),e.props.onAddColor(t)},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"board-menu-color-container"},["#98D4BB","#9AC8EB","#5784BA","#37667E","#BEB4C5","#F27348","#DC828F","#A15D98","#F7CE76","#F4C815"].map((function(t){return r.a.createElement("span",{onClick:function(a){return e.onSelectColor(t,a)},className:"color-preview",style:{backgroundColor:t}})})))}}]),a}(r.a.Component),ne=a(30),re=a(72),oe=a.n(re),se=oe.a.Element,ie=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isChooseImg:!1,isChooseBgc:!1,idGraphShown:!1},e.onChangeBoardImg=function(){e.setState({isChooseImg:!0})},e.onChangeBoardColor=function(){e.setState({isChooseColor:!0})},e.onBackToMenu=function(){e.state.isChooseImg||e.state.isChooseColor?e.setState({isChooseImg:!1,isChooseColor:!1}):e.props.onToggleMenu()},e.onChangeImg=function(t){var a=e.props.board;a.style.bgImg=t,a.style.bgColor="",e.props.updateBoard(a)},e.onChangeColor=function(t){var a=e.props.board;a.style.bgColor=t,a.style.bgImg="",e.props.updateBoard(a)},e.onOpenGraph=function(){e.props.onToggleMenu(),e.props.history.push("/graph/".concat(e.props.board._id))},e.removeAllActivity=function(){K.a.fire({title:"Are you sure?",text:"You won't be able to revert the activities",icon:"warning",showCancelButton:!0,confirmButtonColor:"rgb(221 51 51 / 78%)",cancelButtonColor:"rgb(48 133 214 / 83%)",confirmButtonText:"Yes, delete all"}).then((function(t){if(t.isConfirmed){var a=N.removeActivities(e.props.board);e.props.updateBoard(a)}}))},e.onRemoveBoard=Object(b.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.a.fire({title:"Are you sure?",text:"You won't be able to revert the board",icon:"warning",showCancelButton:!0,confirmButtonColor:"rgb(221 51 51 / 78%)",cancelButtonColor:"rgb(48 133 214 / 83%)",confirmButtonText:"Yes, delete the Board"});case 2:if(!t.sent.isConfirmed){t.next=7;break}return t.next=6,N.removeBoard(e.props.board._id);case 6:e.props.history.push("/board");case 7:case"end":return t.stop()}}),t)}))),e}return Object(c.a)(a,[{key:"getAvatar",value:function(e){return e&&e.imgUrl?r.a.createElement(V.a,{key:e._id,src:e.imgUrl,className:"avatar"}):e?r.a.createElement(V.a,{key:e._id,className:"avatar"},e.userName.substring(0,1).toUpperCase(),e.userName.substring(1,2).toUpperCase()):r.a.createElement(V.a,{className:"avatar"})}},{key:"render",value:function(){var e=this,t=this.props.board.activities;return r.a.createElement("div",{className:"side-menu"},r.a.createElement(se,{style:{height:"calc(100vh - 60px)",width:"100%",overflow:"scroll",overflowX:"hidden",paddingLeft:"5px"}},r.a.createElement("div",{className:"menu-header flex space-between"},r.a.createElement(Z.a,{onClick:this.onBackToMenu}),r.a.createElement("span",{style:{color:"black"}},"Menu"),r.a.createElement(Q.a,{onClick:this.props.onToggleMenu,className:"close-modal-btn"})),r.a.createElement("hr",null),this.state.isChooseImg&&r.a.createElement(M,{isForBoard:!0,onAddimg:this.onChangeImg}),this.state.isChooseColor&&r.a.createElement(ae,{onAddColor:this.onChangeColor}),!this.state.isChooseImg&&!this.state.isChooseColor&&r.a.createElement("div",null,r.a.createElement("div",{className:"menu-actions flex column"},r.a.createElement("div",{className:"menu-action flex",onClick:this.onChangeBoardImg},r.a.createElement(ne.c,null),r.a.createElement("span",null,"Change board Img")),r.a.createElement("div",{className:"menu-action flex",onClick:this.onChangeBoardColor},r.a.createElement($.a,null),r.a.createElement("span",null,"Change board color")),r.a.createElement("div",{className:"menu-action flex",onClick:this.onRemoveBoard},r.a.createElement(ne.e,null),r.a.createElement("span",null,"Delete Board"))),r.a.createElement("hr",null),r.a.createElement("div",{className:"menu-action flex",style:{paddingLeft:"5px"},onClick:this.onOpenGraph},r.a.createElement(ee.a,null),r.a.createElement("span",null,"Graph")),r.a.createElement("hr",null),r.a.createElement("div",{className:"activity-log flex align-center space-between"},r.a.createElement("div",{className:"flex align-center"},r.a.createElement(X.a,null),r.a.createElement("span",null," Activity")),r.a.createElement("p",{className:"delete-activities",onClick:this.removeAllActivity},"Delete all")),t&&r.a.createElement("div",null,r.a.createElement("ul",{className:"side-menu-list"},t.map((function(t){return r.a.createElement("li",{key:t.id,className:"one-activity flex"},r.a.createElement("span",{className:"user-avatar"},e.getAvatar(t.byMember)),r.a.createElement("div",{className:"one-activity flex column"},r.a.createElement("p",null,r.a.createElement("span",{className:"user-name"},t.byMember?t.byMember.userName:"Guest"),r.a.createElement("span",{className:"action-name"}," "+t.title)),r.a.createElement("p",null,"Card: ",t.propertyTitle)))})))))))}}]),a}(n.Component),le={updateBoard:D},ce=Object(te.f)(ie),ue=Object(p.b)((function(e){return{board:e.boardReducer.currBoard}}),le)(ce),de=a(117),pe=a.n(de),me=a(44),he=a(274),ge=a(627),fe={query:be,get:function(e,t){return be(e).then((function(e){return e.find((function(e){return e._id===t}))}))},post:function(e,t){return t._id=Ee(),be(e).then((function(a){return a.push(t),ve(e,a),t}))},put:function(e,t){return be(e).then((function(a){var n=a.findIndex((function(e){return e._id===t._id}));return a.splice(n,1,t),ve(e,a),t}))},remove:function(e,t){return be(e).then((function(a){var n=a.findIndex((function(e){return e._id===t}));a.splice(n,1),ve(e,a)}))}};function be(e){var t=JSON.parse(localStorage.getItem(e))||[];return Promise.resolve(t)}function ve(e,t){localStorage.setItem(e,JSON.stringify(t))}function Ee(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=a.charAt(Math.floor(Math.random()*a.length));return t}var Ce={login:function(e){return ye.apply(this,arguments)},logout:function(){return Se.apply(this,arguments)},signup:function(e){return ke.apply(this,arguments)},getById:function(e){return console.log("getById -> userId",e),C("user/".concat(e))},update:function(e){return fe.put("user",e)},loginAsGuest:function(){return{_id:"u104",userName:"Guest"}}};function ye(){return(ye=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("auth/login",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(){return(ke=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("auth/signup",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(){return(Se=Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("auth/logout");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e){var t=e.board,a=e.updateBoard,n=[{_id:"5f6f020e486616919e1f0de3",userName:"Arik Einav",imgUrl:"https://res.cloudinary.com/cloudinary-img/image/upload/v1600864700/Taskit/erik_lnajh5.png"},{_id:"5f6f0220486616919e1f13c2",userName:"Shlomi Koplianski",imgUrl:"https://res.cloudinary.com/cloudinary-img/image/upload/v1600864700/Taskit/shlomi_rujmqc.png"},{_id:"5f6f01f9486616919e1f0682",userName:"Shahar Sadof",imgUrl:"https://res.cloudinary.com/cloudinary-img/image/upload/v1600864700/Taskit/shahar_wyjntk.png"},{_id:"5f6f374f81cc744a0002589c",userName:"Meital Lazarovich",imgUrl:"https://res.cloudinary.com/cloudinary-img/image/upload/v1601122561/Taskit/meital_xr42uc.png"},{_id:"5f6f37c181cc744a0002589d",userName:"Yaron Biton",imgUrl:"https://res.cloudinary.com/cloudinary-img/image/upload/v1601123470/Taskit/Yaron_z1uuw2.png"}],o=r.a.useState(null),s=Object(me.a)(o,2),i=s[0],l=s[1],c=function(){var e=Object(b.a)(f.a.mark((function e(n){var r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l(null),!t.members){e.next=11;break}if(!(t.members.filter((function(e){return e._id===n})).length>0)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Ce.getById(n);case 7:r=e.sent,t.members.push(r),e.next=15;break;case 11:return e.next=13,Ce.getById(n);case 13:o=e.sent,t.members=[o];case 15:a(t);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"invite-modal"},r.a.createElement("div",{onClick:function(e){l(e.currentTarget)},className:"board-header-invite"},r.a.createElement("p",{className:"btn invite-btn"},r.a.createElement(ne.f,{style:{margin:"0px 5px -2px"}}),"Invite"),r.a.createElement("p",{className:"btn invite-btn-small-screen"},r.a.createElement(ne.f,null))),r.a.createElement(he.a,{id:"simple-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:function(){l(null)}},n&&n.map((function(e){return r.a.createElement(ge.a,{key:e._id,className:"user-in-list"},r.a.createElement("div",{className:"members flex",onClick:function(){return c(e._id)}},r.a.createElement(V.a,{src:e.imgUrl,alt:"img",className:"user-img"}),r.a.createElement("p",{className:"user-name"},e.userName)))}))))}var xe=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={filterBy:"",isMenuShow:!1,isInviteMembersShown:!1},e.toggleMenu=function(){var t=!e.state.isMenuShow;e.setState({isMenuShow:t})},e.handleFocusOut=function(t){var a=e.props.board;a.title=t,e.props.updateBoard(a)},e.onToggleInviteModal=function(t){e.setState({isInviteMembersShown:t})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.board;return r.a.createElement("div",{className:"board-header flex space-between"},r.a.createElement("div",{className:"name-and-member flex"},r.a.createElement("div",{style:{marginLeft:"10px",alignSelf:"center"}},"  ",r.a.createElement(pe.a,{text:e.title,onFocusOut:this.handleFocusOut,inputWidth:"200px",inputHeight:"34px",cursor:"pointer",inputFontWeight:"400"})),e.members&&r.a.createElement("section",{className:"avatar-members flex"},r.a.createElement(q.a,{max:4},e.members.map((function(e){return e.imgUrl?r.a.createElement(V.a,{key:e._id,src:e.imgUrl}):r.a.createElement(V.a,{key:e._id,src:e.imgUrl},e.userName.substring(0,1).toUpperCase(),e.userName.substring(1,2).toUpperCase())}))))),r.a.createElement("div",{className:"flex"},r.a.createElement(we,{board:e,updateBoard:this.props.updateBoard}),r.a.createElement("button",{className:"btn board-header-btn menu flex",onClick:this.toggleMenu},r.a.createElement(X.a,{style:{margin:"0px 5px -2px"}}),"Menu"),r.a.createElement("button",{className:"btn board-header-btn-small-screen menu",onClick:this.toggleMenu},r.a.createElement(X.a,{style:{marginRight:"5px"}}))),this.state.isMenuShow&&r.a.createElement(ue,{onToggleMenu:this.toggleMenu}))}}]),a}(n.Component),Ne=a(120),Oe=a(76),je=a(122),Ae=a(264),Be=a.n(Ae),Ie=a(121),De=a.n(Ie),Te=a(268);function Re(){var e=Object(Ne.a)(["\nbackground-color: ",";\n"]);return Re=function(){return e},e}var Le=je.a.div(Re(),(function(e){return e.isDragging?"#B5B5B5":"#fff"}));function Ue(e){var t=e.card,a=e.updateState,n=e.groupId,o=e.index,s=e.calcProgress;return r.a.createElement(Oe.b,{draggableId:t.id,index:o},(function(e,o){return r.a.createElement(Be.a,{style:e.draggableProps.style,snapshot:o},(function(i){return r.a.createElement(Le,Object.assign({isDragging:o.isDragging,className:"card-preview flex column justify-center",onClick:function(){return e=t.id,void a("isDetailsShown",{cardId:e,groupId:n});var e}},e.draggableProps,e.dragHandleProps,{style:i,ref:e.innerRef}),r.a.createElement("div",{className:"card flex column space-between",style:{backgroundColor:t.bgColor}},r.a.createElement("div",{className:"flex  space-between"},r.a.createElement("div",{className:"flex"},t.labels&&t.labels.length>0&&t.labels.map((function(e){return r.a.createElement("div",{key:e,className:"small-small-label",style:{backgroundColor:e}})}))),t.checklist&&r.a.createElement("div",{className:"footer-div-card-prev flex align-center"},r.a.createElement(Te.a,{style:{marginRight:"5px"}}),s(t.id))),r.a.createElement("p",{className:"p-card-preview"},t.title),t.youtube&&r.a.createElement("div",{className:"img-card-preview"},r.a.createElement(De.a,{width:"100%",height:"100%",url:t.youtube}))||t.imgUrl&&r.a.createElement("img",{className:"img-card-preview",src:t.imgUrl,alt:"Loading"})))}))}))}var Me=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={text:""},e.handleValueChange=function(t){var a=t.target.value;e.setState({text:a})},e.onSubmit=function(t){t.preventDefault(),e.state.text&&("Card"===e.props.type&&e.props.updateState("isAddCard",!1),e.props.onAdd(e.props.type,e.state.text,e.props.groupId),e.setState({text:""}))},e.onRemoveTextEditor=function(){var t="Card"===e.props.type?"isAddCard":"isAddGroup";e.props.updateState(t,!1),e.setState({text:""})},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"adding-div flex column"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{className:"title-input",placeholder:"Card"===this.props.type?"Card name":"List name",type:"text",onChange:this.handleValueChange,value:this.state.text}),r.a.createElement("div",{className:"flex"},r.a.createElement("button",{className:"btn",onClick:this.onSubmit},"Card"===this.props.type?"Add Card":"Add List"),r.a.createElement("button",{className:"btn cancel-add",onClick:this.onRemoveTextEditor},"X"))))}}]),a}(r.a.Component),_e=a(624),Fe=a(73);function Pe(e){var t=e.onRemove,a=e.group,n=e.isGroupColor,o=e.onShowColorTogglle,s=e.isDeleteGroup,i=e.onShowDeleteTogglle,l=e.onAddCard,c=e.onGroupColorChange,u=r.a.useState(null),d=Object(me.a)(u,2),p=d[0],m=d[1],h=function(){s?(i(),m(null)):n?(o(),m(null)):m(null)};return r.a.createElement("div",null,r.a.createElement(_e.a,{style:{fontWeight:"900"},"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){m(e.currentTarget)}},". . ."),r.a.createElement(he.a,{id:"simple-menu",anchorEl:p,keepMounted:!0,open:Boolean(p),onClose:h},r.a.createElement(ge.a,{onClick:function(){s&&i(),o()}},"Background color"),n&&r.a.createElement(Fe.TwitterPicker,{onChange:function(e,t){t.stopPropagation(),c(e.hex)},colors:["#218B82","#9AD9DB","#E5DBD9","#98D4BB","#EB96AA","#ebecf0"],triangle:"hide"}),r.a.createElement(ge.a,{onClick:function(){l("isAddCard",!0),h()}},"Add card"),r.a.createElement(ge.a,{onClick:function(){n&&o(),i()}},"Delete list"),s&&r.a.createElement(ge.a,null,r.a.createElement("button",{className:"btn",style:{color:"red",marginRight:"2px"},onClick:function(){t(a.id),h()}},"Delete")," ",r.a.createElement("button",{style:{marginLeft:"2px"},className:"btn",onClick:h},"Cancel"))))}var Ge=a(96),He=a.n(Ge);function Ye(){var e=Object(Ne.a)(["\ntransition: background-color 0.2s ease;\nbackground-color: ",";\nmin-height:40px;\n"]);return Ye=function(){return e},e}var ze=oe.a.Element,We=je.a.div(Ye(),(function(e){return e.isDraggingOver?"#3493A5":"inherit"})),Ve=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isAddCard:!1,isDeleteGroup:!1,isGroupColor:!1},e.updateState=function(t,a){e.setState(Object(Y.a)({},t,a))},e.onRemoveGroup=function(t){e.props.onRemoveGroup(t)},e.onShowDeleteTogglle=function(){var t=!e.state.isDeleteGroup;e.setState({isDeleteGroup:t})},e.onShowColorTogglle=function(){var t=!e.state.isGroupColor;e.setState({isGroupColor:t})},e.handleFocusOut=function(t){var a=e.props.board,n=Array.from(a.groups),r=n.findIndex((function(t){return t.id===e.props.group.id})),o=e.props.group;o.title=t,n.splice(r,1,o),a.groups=n,e.props.updateBoard(a)},e.onGroupColorChange=function(t){var a=e.props.board,n=Array.from(a.groups),r=n.findIndex((function(t){return t.id===e.props.group.id})),o=e.props.group;o.bgColor=t,n.splice(r,1,o),a.groups=n,e.props.updateBoard(a)},e.calcProgress=function(t){var a=e.props.group.cards.find((function(e){return e.id===t}));if(a.checklist&&a.checklist.todos){var n=a.checklist.todos.length,r=a.checklist.todos.filter((function(e){return!0===e.isDone})).length;return"".concat(r,"/").concat(n)}return""},e}return Object(c.a)(a,[{key:"longTxt",value:function(e){return e.length<=20?e:e.substring(0,20).trim()+"..."}},{key:"render",value:function(){var e=this,t=this.props.group;return r.a.createElement("div",{style:{backgroundColor:t.bgColor?t.bgColor:"#ebecf0"},className:"card-list flex column",id:"card-container"},r.a.createElement("header",{className:"card-header flex space-between align-center"},r.a.createElement(He.a,{initialValue:t.title,save:function(t){e.handleFocusOut(t)},inputClass:"title-input",labelClass:"my-label-class"}),r.a.createElement(Pe,{onShowColorTogglle:this.onShowColorTogglle,onGroupColorChange:this.onGroupColorChange,isGroupColor:this.state.isGroupColor,isDeleteGroup:this.state.isDeleteGroup,onAddCard:this.updateState,onShowDeleteTogglle:this.onShowDeleteTogglle,onRemove:this.onRemoveGroup,group:t})),r.a.createElement(ze,{style:{height:"auto",width:"100%",overflow:"scroll",overflowX:"hidden",paddingLeft:"8px",paddingRight:"4px"}},r.a.createElement(Oe.c,{droppableId:t.id},(function(a,n){return r.a.createElement(We,Object.assign({ref:a.innerRef},a.droppableProps,{isDraggingOver:n.isDraggingOver}),t.cards.map((function(a,n){return r.a.createElement(Ue,{calcProgress:e.calcProgress,index:n,card:a,key:a.id,updateState:e.props.updateState,groupId:t.id})})),a.placeholder)}))),this.state.isAddCard?r.a.createElement(Me,{onAdd:this.props.onAdd,type:"Card",groupId:t.id,updateState:this.updateState}):r.a.createElement("button",{className:" add-card-btn",onClick:function(){return e.updateState("isAddCard",!0)}},"+ Add card"))}}]),a}(n.Component),qe={updateBoard:D},Xe=Object(p.b)((function(e){return{board:e.boardReducer.currBoard}}),qe)(Ve),Je=a(123),Ke=a(626),Qe=a(270),Ze=a.n(Qe);a(516);var $e=function(e){var t=e.updateState,a=e.card,o=Object(n.useRef)(null),s=Object(n.useRef)(null),i=Object(n.useState)(!1),l=Object(me.a)(i,2),c=l[0],u=l[1],d=Object(n.useState)(null),p=Object(me.a)(d,2),m=p[0],h=p[1];Object(n.useEffect)((function(){var e=o.current;e.width=300,e.height=300;var t=e.getContext("2d"),n=new Image;n.onload=function(){t.drawImage(n,0,0,e.width,e.height)},n.crossOrigin="Anonymous",n.src=a.imgUrl,t.lineCap="round",t.strokeStyle=m,t.lineWidth=3,s.current=t}),[]);var g=function(e,t){var a=t.nativeEvent;e.preventDefault(),s.current.strokeStyle=m;var n=a.offsetX,r=a.offsetY;s.current.beginPath(),s.current.moveTo(n,r),u(!0)},v=function(e){e.preventDefault(),s.current.closePath(),u(!1)},E=function(){t("isCanvas",!1)},C=function(){var e=Object(b.a)(f.a.mark((function e(){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.current,a.imgUrl=t.toDataURL(),E(),n=R.dataURLtoFile(a.imgUrl,"canvas.png"),e.next=6,R.uploadCanvasImg(n);case 6:return r=e.sent,a.imgUrl=r,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(e,t){var a=t.nativeEvent;if(e.preventDefault(),c){var n=a.offsetX,r=a.offsetY;s.current.lineTo(n,r),s.current.stroke()}};return r.a.createElement("div",{className:"modal-wrapper",onClick:E},r.a.createElement("div",{className:"canvas-modal-content flex column justify-center space-evenly ",onClick:function(e){return e.stopPropagation()}},r.a.createElement("canvas",{style:{marginBottom:"10px"},onMouseDown:g,onMouseUp:v,onMouseMove:y,onTouchStart:g,onTouchEnd:v,onTouchMove:y,ref:o}),r.a.createElement(Fe.CirclePicker,{className:"self-center",onChange:function(e){console.log(e.hex,e),h(e.hex)},colors:["#000000","#0050fb","#ff0000","#00ff2b","#fdff00","#533829"]}),r.a.createElement("button",{className:"btn",onClick:C},"save canvas")))},et=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onClickColor=function(t,a){var n=e.props.labels;if(a.stopPropagation(),n&&n.length>0){if(n.filter((function(e){return e===t})).length>0)return;e.props.onSaveLabels(t,a)}else e.props.onSaveLabels(t,a)},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"color-container flex column"},["#61BD4F","#F2D600","#FF9F1A","#EB5A46","#C377E0","#0079BF"].map((function(t){return r.a.createElement("span",{key:t,onClick:function(a){return e.onClickColor(t,a)},style:{backgroundColor:t}})})))}}]),a}(r.a.Component),tt=a(63),at=a(269),nt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={todo:{title:"",isDone:"",id:""}},e.onInputChange=function(e){e.preventDefault()},e.onCheckboxChange=function(){var t=!e.state.todo.isDone;e.setState((function(e){return{todo:Object(H.a)(Object(H.a)({},e.todo),{},{isDone:t})}}),(function(){e.props.updateCheckbox(e.state.todo)}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({todo:this.props.todo})}},{key:"render",value:function(){var e=this,t=this.props.todo;return r.a.createElement("div",{className:"flex"},r.a.createElement("form",{className:"flex align-center space-between hundredPw",action:""},r.a.createElement("p",{className:"todo-title ".concat(!0===this.state.todo.isDone?"line-through":"text-dec-none"),onClick:function(){return e.onCheckboxChange()}},t.title),r.a.createElement(at.a,{className:"todo-btn-delete",onClick:function(){e.props.onRemoveTodo(t.id)}})))}}]),a}(n.Component),rt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={checklist:{},isTodoEditShown:"",newTodo:{title:"",id:"",isDone:!1},progressbar:""},e.onRemoveTodo=function(t){e.calculateProgress();var a=e.state.checklist.todos,n=a.findIndex((function(e){return e.id===t}));a.splice(n,1),e.setState((function(e){return{checklist:Object(H.a)(Object(H.a)({},e.checklist),{},{todos:a})}})),e.props.onUpdateChecklists(e.state.checklist),e.calculateProgress()},e.onHandleInput=function(t){var a=t.target.value;e.setState((function(e){return{newTodo:Object(H.a)(Object(H.a)({},e.newTodo),{},{title:a})}}))},e.onSubmit=function(t){t.preventDefault();var a=N.makeId();e.setState((function(e){return{newTodo:Object(H.a)(Object(H.a)({},e.newTodo),{},{id:a,isDone:!1})}}),(function(){e.updateLocalChecklist()}))},e.updateLocalChecklist=function(t){if(t){var a=e.state.checklist.todos,n=a.findIndex((function(e){return e.id===t.id}));a.splice(n,1,t),e.setState((function(e){return{checklist:Object(H.a)(Object(H.a)({},e.checklist),{},{todos:Object(tt.a)(a)})}}),e.onUpdateChecklists)}else{var r=e.state.checklist.todos;r.push(e.state.newTodo),e.setState((function(e){return{checklist:Object(H.a)(Object(H.a)({},e.checklist),{},{todos:Object(tt.a)(r)})}}),e.onUpdateChecklists)}e.calculateProgress()},e.onUpdateChecklists=function(){var t=e.state.checklist;e.props.onUpdateChecklists(t),e.calculateProgress()},e.handleFocusOut=function(t){var a=e.props.checklist,n=e.props.checklist.title;n=t,a.title=n,e.props.onUpdateChecklists(a)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({checklist:this.props.checklist},this.calculateProgress())}},{key:"calculateProgress",value:function(){if(!this.props.checklist)return this.setState({progressbar:0});var e=this.props.checklist.todos;if(e.length>0){var t=e.length,a=e.filter((function(e){return!0===e.isDone})).length/t*100;return this.setState({progressbar:a.toFixed(2)})}return this.setState({progressbar:0})}},{key:"render",value:function(){var e=this,t=this.props.checklist;return r.a.createElement("div",{className:"checklist-preview-div flex column"},r.a.createElement("div",{className:"checklist-prev-header flex space-between"},r.a.createElement("div",{className:"flex align-center"},r.a.createElement(Je.a,{style:{marginRight:"5px",width:"18px",height:"18px"}}),r.a.createElement(pe.a,{text:t.title,onFocusOut:this.handleFocusOut,inputWidth:"200px",inputHeight:"34px",cursor:"pointer",labelFontSize:"1.1rem",inputFontWeight:"400",labelClassName:"cd-subt"})),r.a.createElement("button",{className:"btn delete-checklist",onClick:function(){return e.props.removeChecklist()}},"Delete Checklist")),r.a.createElement("label",{htmlFor:"progress-bar"},"Todos progress: ",this.state.progressbar,"%"),r.a.createElement("progress",{style:{width:"50%"},id:"progress-bar",value:"".concat(this.state.progressbar),max:"100"}),r.a.createElement("p",{className:"cd-subt",style:{marginTop:"25px",fontSize:"0.95rem"}},"Your Todos:"),r.a.createElement("div",{className:"grey-zone"},t.todos&&t.todos.map((function(t){return r.a.createElement(nt,{key:t.id,todo:t,updateCheckbox:e.updateLocalChecklist,onRemoveTodo:e.onRemoveTodo})})),r.a.createElement("button",{style:{display:this.state.isTodoEditShown?"none":"block",margin:"0",padding:"3px 6px "},onClick:function(){e.setState({isTodoEditShown:!0})},className:"btn add-todo-btn"},"Add Todo"),this.state.isTodoEditShown&&r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onSubmit,action:""},r.a.createElement("button",{onClick:function(){return e.setState({isTodoEditShown:!1})},className:"btn"},"X"),r.a.createElement("label",{htmlFor:"todo-title"},"Todo Title:"),r.a.createElement("input",{onChange:this.onHandleInput,id:"todo-title",type:"text"}),r.a.createElement("button",{className:"btn"},"Save")))))}}]),a}(n.Component),ot=Object(p.b)((function(e){return{board:e.boardReducer.currBoard}}),{})(rt);function st(e){var t=e.checklist,a=e.removeChecklist,n=e.saveChecklist;e.updateLocalCard;return r.a.createElement("div",null,t.title&&r.a.createElement(ot,{removeChecklist:a,onUpdateChecklists:n,checklist:t,key:t.id}))}var it=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={checklist:{id:"",title:"",todos:[]}},e.handleChange=function(t){var a=t.target.value;e.setState((function(e){return{checklist:Object(H.a)(Object(H.a)({},e.checklist),{},{title:a})}}))},e.onSubmit=function(t){t.preventDefault();var a=N.makeId();e.setState((function(e){return{checklist:Object(H.a)(Object(H.a)({},e.checklist),{},{id:a})}}),(function(){e.props.addNewChecklist(e.state.checklist)}))},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onSubmit,action:""},r.a.createElement("label",{htmlFor:""},"New Checklist Title:"),r.a.createElement("input",{onChange:this.handleChange,type:"text"}),r.a.createElement("button",{className:"btn"},"Add")))}}]),a}(n.Component);function lt(e){var t=e.board,a=e.card,n=e.updateBoard,o=r.a.useState(null),s=Object(me.a)(o,2),i=s[0],l=s[1],c=t.members?Object(tt.a)(t.members):[],u=function(){var e=Object(b.a)(f.a.mark((function e(r){var o,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l(null),!a.members){e.next=11;break}if(!(a.members.filter((function(e){return e._id===r})).length>0)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Ce.getById(r);case 7:o=e.sent,a.members.push(o),e.next=15;break;case 11:return e.next=13,Ce.getById(r);case 13:s=e.sent,a.members=[s];case 15:n(t);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"invite-modal"},r.a.createElement("div",{onClick:function(e){l(e.currentTarget)},className:"board-header-invite-details"},r.a.createElement("p",{className:"invite-details-btn"},r.a.createElement(ne.f,{style:{margin:"0px 5px -2px"}}),"Invite"),r.a.createElement("p",{className:"invite-details-btn-small-screen"},r.a.createElement(ne.f,null))),r.a.createElement(he.a,{id:"simple-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:function(){l(null)}},c.length>0?c.map((function(e){return r.a.createElement(ge.a,{key:e._id,className:"user-in-list"},r.a.createElement("div",{className:"members flex",onClick:function(){return u(e._id)}},r.a.createElement(V.a,{src:e.imgUrl,alt:"img",className:"user-img"}),r.a.createElement("p",{className:"user-name"},e.userName)))})):r.a.createElement(ge.a,null,"The are no members in this board")))}var ct=oe.a.Element,ut=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={card:null,isAddImgModalShown:!1,isDescriptionEdit:!1,isTimeEdit:!1,isLabelesEdit:!1,isChecklistEdit:!1,isAddColorModalShown:!1,isYoutubeShown:!1,isCanvas:!1},e.updateState=function(t,a){e.setState(Object(Y.a)({},t,a)),"isAddImgModalShown"===t&&e.onRemoveYoutube()},e.onRmoveModal=function(){e.saveCard(),e.props.updateState("isDetailsShown",!1)},e.onHandleRemove=function(){e.props.updateState("isDetailsShown",!1),N.addActivity(e.props.board,"Remove card",e.state.card,e.props.currUser),e.props.onRemoveCard(e.state.card.id)},e.onRemoveImg=function(){var t=e.state.card;delete t.imgUrl,e.setState({card:t})},e.onRemoveYoutube=function(){var t=e.state.card;delete t.youtube,e.setState({card:t})},e.saveCard=function(){e.updateState("isDescriptionEdit",!1);var t=e.state.card.id,a=Object(H.a)({},e.props.board),n=a.groups.find((function(t){return t.id===e.props.groupId})),r=n.cards.findIndex((function(e){return e.id===t}));n.cards.splice(r,1,e.state.card),e.props.updateBoard(a)},e.doneEdit=function(){e.updateState("isDescriptionEdit",!1),e.saveCard()},e.updateLocalCard=function(t,a){e.setState((function(e){return{card:Object(H.a)(Object(H.a)({},e.card),{},Object(Y.a)({},t,a))}}))},e.handleFocusOut=function(t){e.updateLocalCard("title",t)},e.onRemoveDuedate=function(){e.updateState("isTimeEdit",!1);var t=e.state.card;delete t.dueDate,e.setState({card:t}),e.saveCard()},e.handleChangeDuedate=function(t){e.updateState("isTimeEdit",!1),e.updateLocalCard("dueDate",t),e.saveCard()},e.onSaveLabels=function(t,a){if(a.stopPropagation(),!(e.state.card.labels&&e.state.card.labels.length>4)){var n=[t];e.state.card.labels&&(n=e.state.card.labels).push(t),e.updateLocalCard("labels",n),N.addActivity(e.props.board,"Add label",e.state.card,e.props.currUser)}},e.onRemoveLabel=function(t){var a=e.state.card.labels,n=a.indexOf(t);n>-1&&a.splice(n,1),e.updateLocalCard("labels",a)},e.onOpenDuedate=function(){e.updateLocalCard("dueDate",new Date),e.setState({isTimeEdit:!0}),N.addActivity(e.props.board,"Add dueDate",e.state.card,e.props.currUser)},e.saveChecklist=function(t){e.updateLocalCard("checklist",t),e.saveCard()},e.addNewChecklist=function(t){e.saveChecklist(t)},e.removeChecklist=function(){e.saveChecklist({})},e.onOpenLabelModal=function(t){t.stopPropagation(),e.state.isLabelesEdit?e.setState({isLabelesEdit:!1}):e.state.card.labels?e.state.card.labels.length<6&&e.setState({isLabelesEdit:!0}):e.setState({isLabelesEdit:!0})},e.onRemoveLabel=function(t){var a=e.state.card.labels,n=a.indexOf(t);n>-1&&a.splice(n,1),e.updateLocalCard("labels",a)},e.onOpenDuedate=function(){e.updateLocalCard("dueDate",new Date),e.setState({isTimeEdit:!0}),N.addActivity(e.props.board,"Add dueDate",e.state.card,e.props.currUser)},e.saveChecklist=function(t){e.updateLocalCard("checklist",t),e.saveCard()},e.addNewChecklist=function(t){e.saveChecklist(t)},e.removeChecklist=function(){e.saveChecklist({})},e.onOpenLabelModal=function(t){t.stopPropagation(),e.state.isLabelesEdit?e.setState({isLabelesEdit:!1}):e.state.card.labels?e.state.card.labels.length<6&&e.setState({isLabelesEdit:!0}):e.setState({isLabelesEdit:!0})},e.openChecklistEditor=function(){e.setState({isChecklistEdit:!e.state.isChecklistEdit}),N.addActivity(e.props.board,"Add Checklist",e.state.card,e.props.currUser)},e.handleChangeBGColor=function(t,a){a.stopPropagation(),e.updateLocalCard("bgColor",t.hex)},e.onOpenColorModal=function(t){t.stopPropagation(),N.addActivity(e.props.board,"Add BG Color",e.state.card,e.props.currUser),e.setState({isAddColorModalShown:!0}),e.saveCard()},e.onModalClick=function(){e.setState({isAddColorModalShown:!1}),e.setState({isLabelesEdit:!1})},e.youtubeFunc=function(t){e.setState({isYoutubeShown:!1}),e.onRemoveImg(),e.updateLocalCard("youtube",t)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=N.getCardById(this.props.board,this.props.groupId,this.props.cardId);this.setState({card:e})}},{key:"getAvatar",value:function(e){return e&&e.imgUrl?r.a.createElement(V.a,{key:e._id,src:e.imgUrl,className:"avatar"}):e?r.a.createElement(V.a,{key:e._id,className:"avatar"},e.userName.substring(0,1).toUpperCase(),e.userName.substring(1,2).toUpperCase()):r.a.createElement(V.a,{className:"avatar"})}},{key:"render",value:function(){var e=this;if(!this.state.card)return r.a.createElement(W.a,null);var t=this.state.card,a=this.props.board;return r.a.createElement("div",{className:"card-modal flex align-center"},r.a.createElement("div",{className:"empty-modal",onClick:this.onRmoveModal}),r.a.createElement("div",{className:"details-modal flex column",onClick:this.onModalClick},r.a.createElement("header",{className:"card-header flex column align-center",style:{backgroundColor:t.bgColor}},t.youtube&&r.a.createElement(De.a,{width:"50%",height:"100%",url:t.youtube}),t.imgUrl&&r.a.createElement("img",{className:"card-img",src:t.imgUrl,alt:"Loading"}),t.imgUrl&&r.a.createElement("button",{onClick:this.onRemoveImg,className:"btn delete-img-btn",style:{paddingLeft:"10px",paddingRight:"6px"}},r.a.createElement(ne.e,{style:{marginRight:"5px"}})),this.state.isAddColorModalShown&&r.a.createElement("div",null,r.a.createElement(Fe.TwitterPicker,{onChange:this.handleChangeBGColor,colors:["#FFFFFF","#99f3bd","#99f3bd","#7ea04d","#f0a500","#de4463","#fccbcb","#70adb5","#625261","#89beb3","#efbbcf","#8ED1FC","#ABB8C3","#F78DA7"],triangle:"hide"}))),r.a.createElement("div",{className:"body-div flex"},r.a.createElement(ct,{style:{height:"380px",width:"100%",overflow:"scroll",overflowX:"hidden"}},r.a.createElement("div",{className:"modal-details-left"},r.a.createElement(He.a,{initialValue:t.title,save:function(t){e.handleFocusOut(t)},inputClass:"title-input",labelClass:"my-label-class"}),r.a.createElement("div",null,t.labels&&t.labels.length>0&&r.a.createElement("div",{style:{margin:"15px 0",height:"40px"},className:"flex"},r.a.createElement("div",{className:"flex align-center"},r.a.createElement("p",{style:{marginRight:"10px"},className:"cd-subt"},"Labels: "),t.labels.map((function(t){return r.a.createElement("div",{key:t,onClick:function(){return e.onRemoveLabel(t)},className:"small-label",style:{backgroundColor:t}})})))),r.a.createElement("div",{className:"flex align-center"},r.a.createElement(Je.b,{style:{marginRight:"5px",width:"18px",height:"18px"}}),r.a.createElement("p",{onClick:function(){return e.updateState("isDescriptionEdit",!0)},className:"cd-subt"}," Description:")),this.state.isDescriptionEdit?r.a.createElement("div",{className:"edit-desc flex column align-center"},r.a.createElement(Ke.a,{border:"none",multiline:!0,rows:6,defaultValue:this.state.card.description,className:"edit-card-description",onChange:function(t){return e.updateLocalCard("description",t.target.value)}}),r.a.createElement("button",{onClick:this.saveCard,className:"btn"},"Save")):r.a.createElement("div",{className:"not-edit-card-description",onClick:function(){return e.updateState("isDescriptionEdit",!0)}},this.state.card.description?this.state.card.description:"Add a more details description...")),r.a.createElement("div",{className:"members-container flex"},r.a.createElement(lt,{board:a,card:t,updateBoard:this.props.updateBoard}),t.members&&t.members.length>0&&r.a.createElement("div",null,r.a.createElement("section",{className:"avatar-members flex"},t.members&&r.a.createElement(q.a,{max:4},t.members.map((function(t){return e.getAvatar(t)})))))),(this.state.isTimeEdit||t.dueDate)&&r.a.createElement("div",null,r.a.createElement(Ze.a,{selected:t.dueDate?new Date(t.dueDate):new Date,onChange:this.handleChangeDuedate,showTimeSelect:!0,dateFormat:"Pp"}),r.a.createElement("button",{onClick:this.onRemoveDuedate,className:"btn"},"X")),this.state.card.checklist&&r.a.createElement(st,{removeChecklist:this.removeChecklist,saveChecklist:this.saveChecklist,checklist:this.state.card.checklist}),this.state.isChecklistEdit&&r.a.createElement(it,{addNewChecklist:this.addNewChecklist}))),r.a.createElement("div",{className:"side-bar-details-right flex column justify-start"},r.a.createElement("button",{className:"btn align-center",style:{display:"flex"},onClick:function(){return e.updateState("isAddImgModalShown",!0)}},r.a.createElement(ne.c,{style:{marginRight:"7px"}}),"Cover"),r.a.createElement("button",{className:"btn align-center",style:{display:"flex"},onClick:this.onOpenColorModal},r.a.createElement($.a,{style:{marginRight:"3px",height:"12px",width:"12px"}}),"Color"),r.a.createElement("button",{className:"btn align-center",style:{display:"flex"},onClick:function(){return e.openChecklistEditor()}},r.a.createElement(ne.b,{style:{marginRight:"6px"}}),"Checklist"),r.a.createElement("button",{onClick:this.onOpenDuedate,className:"btn align-center"},r.a.createElement(ne.a,{style:{marginRight:"5px"}})," Due Date"),r.a.createElement("button",{onClick:this.onOpenLabelModal,style:{display:"flex"},className:"btn align-center"},r.a.createElement($.b,{style:{marginRight:"5px",height:"12px",width:"12px"}}),"Labels"),this.state.isLabelesEdit&&r.a.createElement(et,{className:"color-modal",onSaveLabels:this.onSaveLabels,labels:t.labels}),r.a.createElement("button",{className:"btn align-center",style:{display:"flex"},onClick:function(){return e.setState({isYoutubeShown:!0})}},r.a.createElement(ne.g,{style:{marginRight:"6px",height:"12px",width:"12px"}})," YouTube"),this.state.isYoutubeShown&&r.a.createElement("div",{style:{border:"1px solid black"}},r.a.createElement(He.a,{initialValue:"Paste Url Here",save:function(t){return e.youtubeFunc(t)},labelClassName:"youtube-label",inputClassName:"youtube-input"})),r.a.createElement("button",{onClick:function(){return e.setState({isCanvas:!0})},className:"btn"},r.a.createElement(ne.d,{style:{marginRight:"6px"}}),"Canvas"),r.a.createElement("button",{onClick:this.onHandleRemove,className:"btn"}," ",r.a.createElement(ne.e,{style:{marginRight:"6px"}}),"Card"))),this.state.isAddImgModalShown&&r.a.createElement(M,{card:t,updateState:this.updateState}),this.state.isCanvas&&r.a.createElement($e,{updateLocalCard:this.updateLocalCard,updateState:this.updateState,card:this.state.card})))}}]),a}(n.Component),dt={updateBoard:D},pt=Object(p.b)((function(e){return{board:e.boardReducer.currBoard,currUser:e.userReducer.loggedInUser}}),dt)(ut),mt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isDetailsShown:!1,isAddGroup:!1,board:null},e.updateState=function(t,a){e.setState(Object(Y.a)({},t,a))},e.onEditGroup=function(){e.setState({isAddGroup:!0})},e.onAdd=function(t,a,n){var r=Object(H.a)({},e.props.board),o=r.groups.findIndex((function(e){return e.id===n}));if("Group"===t){e.setState({isAddGroup:!1});var s={id:"g"+N.makeId(),title:a,cards:[]};r.groups.push(s),e.props.updateBoard(r)}else if("Card"===t){var i={id:"c"+N.makeId(),title:a};r.groups[o].cards.push(i),e.props.updateBoard(r)}},e.updateState=function(t,a){e.setState(Object(Y.a)({},t,a))},e.onEditGroup=function(){e.setState({isAddGroup:!0})},e.onDragEnd=function(t){var a=t.destination,n=t.source,r=t.draggableId,o=e.props.board.groups;if(a&&(a.droppableId!==n.droppableId||a.index!==n.index)){var s=o.find((function(e){return e.id===n.droppableId})),i=o.find((function(e){return e.id===a.droppableId}));if(s!==i){var l=Array.from(s.cards),c=l.find((function(e){return e.id===r}));l.splice(n.index,1);var u=Object(H.a)(Object(H.a)({},s),{},{cards:l}),d=Array.from(i.cards);d.splice(a.index,0,c);var p=Object(H.a)(Object(H.a)({},i),{},{cards:d}),m=Array.from(o),h=m.findIndex((function(e){return e.id===u.id})),g=m.findIndex((function(e){return e.id===p.id}));m.splice(h,1,u),m.splice(g,1,p);var f=Object(H.a)(Object(H.a)({},e.props.board),{},{groups:m});e.props.updateBoard(f)}else{var b=Array.from(s.cards),v=b.find((function(e){return e.id===r}));b.splice(n.index,1),b.splice(a.index,0,v);var E=Object(H.a)(Object(H.a)({},s),{},{cards:b}),C=Array.from(o),y=o.findIndex((function(e){return e.id===E.id}));C.splice(y,1,E);var k=Object(H.a)(Object(H.a)({},e.props.board),{},{groups:C});e.props.updateBoard(k)}}},e.onRemoveGroup=function(t){var a=Object(H.a)({},e.props.board);a.groups=a.groups.filter((function(e){return e.id!==t})),e.props.updateBoard(a)},e.onRemoveCard=function(t){var a=JSON.parse(JSON.stringify(e.props.board)),n=a.groups.findIndex((function(t){return t.id===e.state.isDetailsShown.groupId})),r=Array.from(a.groups[n].cards),o=r.findIndex((function(e){return e.id===t}));r.splice(o,1),a.groups[n].cards=r,e.props.updateBoard(a)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.boardId;this.props.loadBoard(e),I.setup(),I.emit("connect to board",e),I.on("send updated board",this.props.updateBoardFromSocket)}},{key:"componentWillUnmount",value:function(){I.terminate()}},{key:"render",value:function(){var e=this,t=this.props.board;return null===t?r.a.createElement(W.a,null):r.a.createElement("div",{className:"board-details ",style:{backgroundImage:"url(".concat(t.style.bgImg?t.style.bgImg:"",")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",minHeight:"90vh",backgroundColor:"".concat(t.style.bgColor?t.style.bgColor:"")}},r.a.createElement(xe,{board:t,updateBoard:this.props.updateBoard}),r.a.createElement(Oe.a,{onDragEnd:this.onDragEnd},r.a.createElement(z.a,{className:"groups-container flex"},t.groups.map((function(t){return r.a.createElement(Xe,{onAdd:e.onAdd,group:t,key:t.id,updateState:e.updateState,onRemoveGroup:e.onRemoveGroup})})),this.state.isAddGroup?r.a.createElement(Me,{updateState:this.updateState,onAdd:this.onAdd,type:"Group",groupId:null}):r.a.createElement("button",{className:"add-group btn",onClick:function(){return e.onEditGroup()}},"Add List"))),this.state.isDetailsShown.cardId&&r.a.createElement(pt,{updateState:this.updateState,onRemoveCard:this.onRemoveCard,cardId:this.state.isDetailsShown.cardId,groupId:this.state.isDetailsShown.groupId}))}}]),a}(n.Component),ht={loadBoard:function(e){return function(){var t=Object(b.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.loadBoard(e);case 3:n=t.sent,a({type:"SET_BOARD",board:n}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("ERROR: while loadding board");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},updateBoard:D,updateBoardFromSocket:function(e){return function(t){t({type:"UPDATE_BOARD",board:e})}}},gt=Object(p.b)((function(e){return{board:e.boardReducer.currBoard}}),ht)(mt),ft=a(97);function bt(e){var t=e.memberNumber,a=[{_id:"5f6f020e486616919e1f0de3",userName:"Arik Einav",imgUrl:"https://res.cloudinary.com/cloudinary-img/image/upload/v1600864700/Taskit/erik_lnajh5.png"},{_id:"5f6f0220486616919e1f13c2",userName:"Shlomi Koplianski",imgUrl:"https://res.cloudinary.com/cloudinary-img/image/upload/v1600864700/Taskit/shlomi_rujmqc.png"},{_id:"5f6f01f9486616919e1f0682",userName:"Shahar Sadof",imgUrl:"https://res.cloudinary.com/cloudinary-img/image/upload/v1600864700/Taskit/shahar_wyjntk.png"},{_id:"5f6f374f81cc744a0002589c",userName:"Meital Lazarovich",imgUrl:"https://res.cloudinary.com/cloudinary-img/image/upload/v1601122561/Taskit/meital_xr42uc.png"},{_id:"5f6f37c181cc744a0002589d",userName:"Yaron Biton",imgUrl:"https://res.cloudinary.com/cloudinary-img/image/upload/v1601123470/Taskit/Yaron_z1uuw2.png"}],n=r.a.useState(null),o=Object(me.a)(n,2),s=o[0],i=o[1],l=function(){i(null)};return r.a.createElement("div",{className:"members-chart"},r.a.createElement("button",{className:"choose-member-btn","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)}},r.a.createElement(ne.f,{style:{margin:"0px 5px -2px"}}),"Member"),r.a.createElement(he.a,{id:"simple-menu",anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:l},a&&a.map((function(e){return r.a.createElement(ge.a,{key:e._id,className:"user-in-list"},r.a.createElement("div",{className:"members flex",onClick:function(){return function(e){var a;switch(l(),e){case"Arik Einav":a={num:0,userName:"Arik Einav"};break;case"Shlomi Koplianski":a={num:1,userName:"Shlomi Koplianski"};break;case"Shahar Sadof":a={num:2,userName:"Shahar Sadof"};break;case"Meital Lazarovich":a={num:3,userName:"Meital Lazarovich"};break;case"Yaron Biton":a={num:4,userName:"Yaron Biton"}}t(a)}(e.userName)}},r.a.createElement(V.a,{src:e.imgUrl,alt:"img",className:"user-img"}),r.a.createElement("p",{className:"user-name"},e.userName)))}))))}var vt=[{label:"",fillColor:"rgba(220,220,220,0.2)",strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:[0,3.5,5,4,6,7,6,8]},{label:"",fillColor:"rgba(151,187,205,0.2)",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(151,187,205,1)",data:[0,3,4,5,7,5,7,7.5]},{label:"",fillColor:"rgba(151,187,205,0.2)",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(151,187,205,1)",data:[0,3.5,4,6,4.5,7,5.5,7.5]},{label:"",fillColor:"rgba(151,187,205,0.2)",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(151,187,205,1)",data:[0,1,2,1,1,3,2.5,2]},{label:"",fillColor:"rgba(151,187,205,0.2)",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(151,187,205,1)",data:[0,0,0,0,0,0,0,0]}];function Et(e){return{labels:["Day 0","Day 2","Day 4","Day 6","Day 8","Day 10","Day 12","Day 14"],datasets:[vt[e]]}}var Ct={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},yt={graphContainer:{padding:"0 15px 10px"}};var kt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={boardId:null,data1:null,data2:null,data3:null,currUser:"Arik Einav"},e.memberNumber=function(t){console.log("memberNumber -> userToShow",t),e.setState({data3:Et(t.num)}),e.setState({currUser:t.userName})},e.backToBoard=function(){e.props.history.push("/board/".concat(e.state.boardId))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.boardId;this.setState({boardId:e}),this.setState({data1:{labels:["Shahar","Arik","Shlomi"],datasets:[{data:[12,17,20],backgroundColor:["#FF6384","#36A2EB","#FFCE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]}}),this.setState({data2:{labels:["Done","In progress","Task"],datasets:[{data:[5,8,12],backgroundColor:["#FF6384","#36A2EB","#FFCE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]}}),this.setState({data3:Et(0)})}},{key:"render",value:function(){return this.state.data1&&this.state.data2&&this.state.data3?r.a.createElement("div",null,r.a.createElement("button",{className:"back-board-btn",onClick:this.backToBoard},"Back"),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"doughnut-chart"},r.a.createElement("h3",null,"All Tasks"),r.a.createElement("div",{className:"graph-container"},r.a.createElement(ft.Doughnut,{data:this.state.data1,options:Ct,width:500,height:250}))),r.a.createElement("div",{className:"pie-chart"},r.a.createElement("h3",null,"Status per member"),r.a.createElement("div",{className:"graph-container"},r.a.createElement(ft.Pie,{data:this.state.data2,options:Ct,width:500,height:250})))),r.a.createElement("div",{className:"line-chart"},r.a.createElement("h4",null,"Tasks per day of ","".concat(this.state.currUser)),r.a.createElement(bt,{memberNumber:this.memberNumber}),r.a.createElement("p",null,"Tasks"),r.a.createElement("div",{style:yt.graphContainer},r.a.createElement(ft.Line,{data:this.state.data3,options:Ct,width:600,height:150})))):r.a.createElement(W.a,null)}}]),a}(n.Component),St=[{path:"/board/:boardId",component:gt},{path:"/graph/:boardId",component:Object(te.f)(kt)},{path:"/board",component:G},{path:"/",component:function(){return r.a.createElement("div",{className:"cover-homepage"},r.a.createElement("div",{className:"home"},r.a.createElement(i.b,{className:"enter",to:"/board"},r.a.createElement("p",null,"Enter"))),r.a.createElement("div",{className:"home-details-container"},r.a.createElement("div",{className:"home-details flex"},r.a.createElement("img",{src:"https://res.cloudinary.com/dsfnyykw9/image/upload/v1601040007/vectorstock_25716430_e79vvh.jpg",alt:"img"}),r.a.createElement("div",{className:"info"},r.a.createElement("h2",null,"Efficient Organizing Tool"),r.a.createElement("p",null,"Taskit provides the upmost efficient platform to architecte your work time table. Allow us to help you do, What You Do, Better! "))),r.a.createElement("div",{className:"home-details second  flex"},r.a.createElement("div",{className:"info"},r.a.createElement("h2",null,"Manage your Performance"),r.a.createElement("p",null,"Be it your mobile phone, tablet or desktop computer, team leaders are now able to supervise their team's effort, gain a closer look at the team's work-progress, delegate authority to team members and manage the project more effectively")),r.a.createElement("img",{src:"https://res.cloudinary.com/dsfnyykw9/image/upload/v1601042641/vectorstock_29242780_wd2ele.jpg",alt:"img"})),r.a.createElement("div",{className:"home-details flex"},r.a.createElement("img",{src:"https://res.cloudinary.com/dsfnyykw9/image/upload/v1601043061/vectorstock_31608808_og58qj.jpg",alt:"img"}),r.a.createElement("div",{className:"info"},r.a.createElement("h2",null,"Make it yours"),r.a.createElement("p",null,"Make it feel like home for you and your team. Customize the board's design, organize your lists to fit the team's flow. Taskit, along with its many features allow an accesible and flexible design to all.")))))}}];var wt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={msg:"",loginCred:{userName:"",password:""}},e.loginHandleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState((function(e){return{msg:"",loginCred:Object(H.a)(Object(H.a)({},e.loginCred),{},Object(Y.a)({},n,r))}}))},e.doLogin=function(){var t=Object(b.a)(f.a.mark((function t(a){var n,r,o,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state.loginCred,r=n.userName,o=n.password,r&&o){t.next=4;break}return t.abrupt("return",e.setState({msg:"Please enter user/password"}));case 4:return s={userName:r,password:o},t.next=7,e.props.login(s);case 7:t.sent?(e.props.onCloseModal(),e.setState({loginCred:{userName:"",password:""}})):e.setState({msg:"There isn't an account for this user"});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Login to Taskit"),r.a.createElement("form",{className:"login-page",onSubmit:this.doLogin},r.a.createElement(Ke.a,{id:"outlined-basic",type:"text",name:"userName",value:this.state.loginCred.userName,onChange:this.loginHandleChange,label:"Username",variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(Ke.a,{id:"outlined-password-input",label:"Password",type:"password",name:"password",value:this.state.loginCred.password,onChange:this.loginHandleChange,autoComplete:"current-password",variant:"outlined"}),r.a.createElement("br",null),this.state.msg&&r.a.createElement("div",{className:"error-msg"}," ",r.a.createElement("h5",null,this.state.msg)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{className:"btn login-btn"},"Login")))}}]),a}(n.Component),xt={login:function(e){return function(){var t=Object(b.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ce.login(e);case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return");case 5:return a({type:"SET_USER",user:n}),window.location.assign("#/board"),t.abrupt("return",n);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},Nt=Object(p.b)((function(e){return{loggedInUser:e.userReducer.loggedInUser}}),xt)(wt),Ot=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={msg:"",signupCred:{password:"",userName:""}},e.signupHandleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState((function(e){return{msg:"",signupCred:Object(H.a)(Object(H.a)({},e.signupCred),{},Object(Y.a)({},n,r))}}))},e.doSignup=function(){var t=Object(b.a)(f.a.mark((function t(a){var n,r,o,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state.signupCred,r=n.userName,o=n.password,r&&o){t.next=4;break}return t.abrupt("return",e.setState({msg:"All inputs are required!"}));case 4:s={userName:r,password:o},e.props.signup(s),e.props.onCloseModal(),e.setState({signupCred:{userName:"",password:""}});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Sign in to Taskit"),r.a.createElement("form",{className:"login-page",onSubmit:this.doSignup},r.a.createElement(Ke.a,{id:"outlined-basic",type:"text",name:"userName",value:this.state.signupCred.userName,onChange:this.signupHandleChange,label:"Username",variant:"outlined"}),r.a.createElement("br",null),r.a.createElement(Ke.a,{id:"outlined-password-input",label:"Password",type:"password",name:"password",value:this.state.signupCred.password,onChange:this.signupHandleChange,autoComplete:"current-password",variant:"outlined"}),r.a.createElement("br",null),this.state.msg&&r.a.createElement("div",{className:"error-msg"}," ",r.a.createElement("h5",null,this.state.msg)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{className:"btn login-btn"},"Signin")))}}]),a}(n.Component),jt={signup:function(e){return function(){var t=Object(b.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ce.signup(e);case 2:n=t.sent,a({type:"SET_USER",user:n}),window.location.assign("#/board");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},At=Object(p.b)((function(e){return{loggedInUser:e.userReducer.loggedInUser}}),jt)(Ot),Bt=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._isMounted=!1,e.state={isLogged:!1,isSignIn:!1,isModalShow:!1,isIn:!1},e.onIsLogged=function(){e.setState({isLogged:!0,isModalShow:!0,isSignIn:!1})},e.onIsSubmit=function(){e.setState({isSignIn:!0,isModalShow:!0,isLogged:!1})},e.onCloseModal=function(){e.setState({isSignIn:!1,isModalShow:!1,isLogged:!1,isIn:!0})},e.onClose=function(){e.setState({isSignIn:!1,isModalShow:!1,isLogged:!1})},e.onLoginHere=function(){e.setState({isSignIn:!1,isLogged:!0})},e.onLogOut=function(){e.setState({isIn:!1}),e.props.logout()},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.loggedInUser&&this.setState({isIn:!0})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"getAvatar",value:function(e){return e&&e.imgUrl?r.a.createElement(V.a,{key:e._id,src:e.imgUrl,className:"avatar"}):e?r.a.createElement(V.a,{key:e._id,className:"avatar"},e.userName.substring(0,1).toUpperCase(),e.userName.substring(1,2).toUpperCase()):r.a.createElement(V.a,{className:"avatar"})}},{key:"render",value:function(){var e=this.props.loggedInUser;return r.a.createElement("nav",{className:"nav-bar grid align-center"},r.a.createElement("div",{className:"navdiv-s"},r.a.createElement(i.c,{to:"/board"},"Boards")),r.a.createElement("div",{className:"logo"},r.a.createElement(i.c,{to:"/"},"Task",r.a.createElement("span",{className:"logo-i"},"i"),"t")),r.a.createElement("div",{className:"navdiv-s signup ".concat(this.state.isIn?"hide":""),onClick:this.onIsSubmit},"Sign Up"),r.a.createElement("div",{className:"navdiv-s login  ".concat(this.state.isIn?"hide":""),onClick:this.onIsLogged},"Login"),r.a.createElement("div",{className:"navdiv-s signup logout ".concat(this.state.isIn?"":"hide"),onClick:this.onLogOut},"LogOut"),e&&r.a.createElement("div",{className:"navdiv-s login user-avatar-navbar"},this.getAvatar(e)),this.state.isLogged&&r.a.createElement(T,{isForLog:!0,onClose:this.onClose,children:r.a.createElement(Nt,{onCloseModal:this.onCloseModal})}),this.state.isSignIn&&r.a.createElement(T,{onLoginHere:this.onLoginHere,isForLog:!0,onClose:this.onClose,children:r.a.createElement(At,{onCloseModal:this.onCloseModal})}))}}]),a}(r.a.Component),It={logout:function(){return function(){var e=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce.logout();case 2:t({type:"SET_USER",user:null}),window.location.assign("#/");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Dt=Object(p.b)((function(e){return{loggedInUser:e.userReducer.loggedInUser}}),It)(Object(te.f)(Bt));var Tt=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(i.a,null,r.a.createElement(Dt,null),r.a.createElement(te.c,null,St.map((function(e){return r.a.createElement(te.a,{key:e.path,exact:!0,component:e.component,path:e.path})})))))},Rt=a(38),Lt=a(273),Ut={boards:[],currBoard:null};var Mt={loggedInUser:null};var _t=Object(Rt.c)({boardReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOARDS":return Object(H.a)(Object(H.a)({},e),{},{boards:Object(tt.a)(t.boards)});case"SET_BOARD":return Object(H.a)(Object(H.a)({},e),{},{currBoard:Object(H.a)({},t.board)});case"REMOVE_BOARD":return Object(H.a)(Object(H.a)({},e),{},{boards:e.boards.filter((function(e){return e._id!==t.id}))});case"ADD_BOARD":return Object(H.a)(Object(H.a)({},e),{},{boards:[].concat(Object(tt.a)(e.boards),[t.board])});case"UPDATE_BOARD":return Object(H.a)(Object(H.a)({},e),{},{currBoard:Object(H.a)({},t.board)});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_USER":return Object(H.a)(Object(H.a)({},e),{},{loggedInUser:t.user});default:return e}}}),Ft=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Rt.d,Pt=Object(Rt.e)(_t,Ft(Object(Rt.a)(Lt.a)));a(583);s.a.render(r.a.createElement(p.a,{store:Pt},r.a.createElement(Tt,null)),document.getElementById("root"))}},[[282,1,2]]]);
//# sourceMappingURL=main.5147d633.chunk.js.map